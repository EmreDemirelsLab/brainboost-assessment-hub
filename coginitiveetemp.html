<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ForBrain BiliÅŸsel Becerileri DeÄŸerlendirme Raporu</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <script>
        // Wait for Chart.js to load before setting defaults
        window.addEventListener('load', function() {
            if (typeof Chart !== 'undefined') {
                // Global performance optimizations
                Chart.defaults.animation = {
                    duration: 200, // Faster animations
                    easing: 'linear'
                };
                Chart.defaults.responsive = true;
                Chart.defaults.maintainAspectRatio = false;
            }
        });
        
        // Performance-optimized logging system
        const DEBUG_MODE = window.location.hostname === 'localhost' || window.location.search.includes('debug=true');
        
        const logger = {
            log: DEBUG_MODE ? console.log.bind(console) : () => {},
            warn: DEBUG_MODE ? console.warn.bind(console) : () => {},
            error: console.error.bind(console), // Always show errors
            info: DEBUG_MODE ? console.info.bind(console) : () => {}
        };
    </script>
    <style>
        /* Performance optimization: GPU acceleration for animations */
        .page {
            transform: translateZ(0);
            will-change: transform;
        }
        
        /* Optimize chart rendering */
        canvas {
            image-rendering: -webkit-optimize-contrast;
            image-rendering: crisp-edges;
        }
        
        /* Reduce layout shifts */
        .vertical-bar-chart {
            contain: layout style;
        }
        
        /* Loading optimization - Hide content until data is ready */
        body:not(.loaded) .page {
            opacity: 0;
            visibility: hidden;
        }
        
        body.loaded .page {
            opacity: 1;
            visibility: visible;
            transition: opacity 0.3s ease-in-out;
        }
        
        /* Hide hard-coded data initially */
        .info-item span:last-child,
        .skill-analysis .skill-name,
        .skill-analysis .skill-description,
        .bar-value,
        .score-high, .score-medium, .score-low {
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
        }
        
        /* Show data when loaded */
        body.loaded .info-item span:last-child,
        body.loaded .skill-analysis .skill-name,
        body.loaded .skill-analysis .skill-description,
        body.loaded .bar-value,
        body.loaded .score-high, 
        body.loaded .score-medium, 
        body.loaded .score-low {
            opacity: 1;
        }
        
        /* Improved loading overlay */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 255, 255, 0.95);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-family: Arial, sans-serif;
        }
        
        .loading-overlay .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1e40af;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
    <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background-color: #fff;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        body.loaded {
            opacity: 1;
        }
        
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 9999;
            font-family: Arial, sans-serif;
        }
        
        .loading-spinner {
            width: 40px;
            height: 40px;
            border: 4px solid #f3f3f3;
            border-top: 4px solid #1e40af;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-right: 15px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .page {
            width: 210mm;
            min-height: 297mm;
            margin: 0 auto;
            padding: 20mm;
            background: white;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            page-break-after: always;
            position: relative;
        }

        /* Logo Styles */
        .logo-section {
            text-align: center;
            margin-bottom: 20px;
        }

        .forbrain-logo {
            height: 60px;
            margin-bottom: 10px;
        }

        .main-title {
            font-size: 24px;
            font-weight: bold;
            color: #1e40af;
            text-align: center;
            margin-bottom: 30px;
        }

        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #1e40af;
            margin: 25px 0 15px 0;
            border-bottom: 2px solid #1e40af;
            padding-bottom: 5px;
        }

        .section-title-green {
            font-size: 18px;
            font-weight: bold;
            color: #28a745;
            margin: 25px 0 15px 0;
            border-bottom: 2px solid #28a745;
            padding-bottom: 5px;
        }

        .section-title-red {
            font-size: 18px;
            font-weight: bold;
            color: #dc3545;
            margin: 25px 0 15px 0;
            border-bottom: 2px solid #dc3545;
            padding-bottom: 5px;
        }

        .description {
            font-size: 12px;
            text-align: justify;
            margin-bottom: 20px;
            line-height: 1.5;
        }

        .info-box {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            padding: 15px;
            margin-bottom: 20px;
            border-radius: 5px;
        }

        .personal-info {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }

        .info-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }

        .info-label {
            font-weight: bold;
            color: #2c5aa0;
        }

        .skills-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .skills-table th,
        .skills-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }

        .skills-table th {
            background-color: #2c5aa0;
            color: white;
            font-weight: bold;
        }

        .skill-row {
            background-color: #f8f9fa;
        }

        .score-high {
            background-color: #d4edda;
            color: #155724;
            font-weight: bold;
        }

        .score-medium {
            background-color: #fff3cd;
            color: #856404;
            font-weight: bold;
        }

        .score-low {
            background-color: #f8d7da;
            color: #721c24;
            font-weight: bold;
        }

        .legend {
            margin: 20px 0;
            padding: 15px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            margin: 5px 0;
            font-size: 12px;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border-radius: 3px;
        }

        .skill-analysis {
            margin: 25px 0;
            padding: 20px;
            background-color: #f8f9fa;
            border-left: 4px solid #2c5aa0;
        }

        .skill-name {
            font-weight: bold;
            color: #2c5aa0;
            font-size: 20px;
            margin-bottom: 10px;
        }

        .skill-description {
            font-size: 14px;
            line-height: 1.6;
            text-align: justify;
        }

        .goals-list {
            list-style: none;
            padding-left: 0;
        }

        .goals-list li {
            margin: 8px 0;
            padding-left: 20px;
            position: relative;
        }

        .goals-list li:before {
            content: "â€¢";
            color: #2c5aa0;
            font-weight: bold;
            position: absolute;
            left: 0;
        }

        .radar-chart-container {
            width: 100%;
            height: 400px;
            margin: 30px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }
        
        .radar-chart-container canvas {
            display: block !important;
            visibility: visible !important;
            max-width: 400px;
            max-height: 400px;
        }
        
        .chart-container {
            width: 100%;
            height: 300px;
            margin: 20px 0;
            position: relative;
        }
        
        .chart-container canvas {
            display: block !important;
            visibility: visible !important;
            width: 100% !important;
            height: 100% !important;
        }

        /* Minimal Professional Vertical Bar Chart */
        .vertical-bar-chart {
            display: flex;
            justify-content: space-around;
            align-items: end;
            height: 250px;
            margin: 40px 0;
            padding: 30px 20px;
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .bar-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 60px;
        }

        .bar {
            width: 30px;
            background: #6c757d;
            border-radius: 2px 2px 0 0;
            margin-bottom: 10px;
            position: relative;
            transition: all 0.6s ease;
        }

        .bar:hover {
            transform: translateY(-2px);
        }

        .bar-high { background: #28a745; }
        .bar-medium { background: #ffc107; }
        .bar-low { background: #dc3545; }

        .bar-value {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 11px;
            font-weight: bold;
            color: #495057;
        }

        .bar-label {
            font-size: 10px;
            font-weight: 500;
            color: #495057;
            text-align: center;
            line-height: 1.2;
            margin-top: 5px;
        }

        .chart-container {
            width: 100%;
            height: 400px;
            margin: 30px 0;
            position: relative;
        }

        .skill-boxes {
            display: flex;
            justify-content: space-around;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .skill-box {
            background-color: #f8f9fa;
            border: 2px solid #2c5aa0;
            border-radius: 8px;
            padding: 20px;
            margin: 10px;
            text-align: center;
            min-width: 150px;
            flex: 1;
        }

        .skill-box-title {
            font-weight: bold;
            color: #2c5aa0;
            font-size: 14px;
        }

        .profile-name {
            text-align: center;
            color: #2c5aa0;
            font-size: 22px;
            font-weight: bold;
            margin: 20px 0;
        }

        .empty-section {
            min-height: 100px;
            background: #f8f9fa;
            border: 1px dashed #dee2e6;
            margin: 20px 0;
            border-radius: 5px;
            padding: 20px;
            text-align: center;
            color: #6c757d;
        }

        /* Footer Logo */
        .footer-logo {
            position: absolute;
            bottom: 10mm;
            left: 50%;
            transform: translateX(-50%);
            text-align: center;
        }

        .footer-logo img {
            height: 25px;
        }

        /* Minimal Professional Vertical Bar Chart */
        .vertical-bar-chart {
            display: flex;
            justify-content: space-around;
            align-items: flex-end;
            height: 300px;
            margin: 40px 0;
            padding: 30px 20px;
            background: #ffffff;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }

        .bar-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 60px;
        }

        .bar {
            width: 30px;
            background: linear-gradient(180deg, #2c5aa0 0%, #1e3d6f 100%);
            border-radius: 4px 4px 0 0;
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 2px 8px rgba(44, 90, 160, 0.2);
            position: relative;
        }

        .bar::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            height: 2px;
            background: #ffffff;
            border-radius: 4px;
        }

        .bar-label {
            margin-top: 10px;
            font-size: 11px;
            font-weight: 600;
            color: #2c5aa0;
            text-align: center;
        }

        .bar-value {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            font-weight: bold;
            color: #2c5aa0;
            background: white;
            padding: 2px 6px;
            border-radius: 3px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .chart-container {
            width: 100%;
            height: 300px;
            margin: 30px 0;
            position: relative;
        }

        /* Strong/Weak Areas Styles */
        .strong-weak-areas {
            margin: 30px 0;
        }

        .area-item {
            margin: 15px 0;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 500;
        }

        .strong-area {
            background-color: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }

        .weak-area {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }

        .medium-area {
            background-color: #fff3cd;
            color: #856404;
            border-left: 4px solid #ffc107;
        }

        /* Recommendation boxes */
        .recommendation-box {
            background-color: #f8f9fa;
            border: 2px solid #2c5aa0;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            min-height: 200px;
        }

        .recommendation-title {
            font-size: 18px;
            font-weight: bold;
            color: #2c5aa0;
            margin-bottom: 15px;
            text-align: center;
        }

        .recommendation-content {
            font-size: 14px;
            line-height: 1.6;
            color: #333;
            text-align: justify;
        }

        /* Observer notes box */
        .observer-box {
            background-color: #f8f9fa;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 30px;
            margin: 20px 0;
            min-height: 150px;
        }

        @media print {
            .page {
                margin: 0;
                box-shadow: none;
                page-break-after: always;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div style="color: #1e40af; font-weight: bold;">Rapor yÃ¼kleniyor...</div>
    </div>
    
    <!-- SAYFA 1 -->
    <div class="page">
        <div class="logo-section">
            <img src="public/assets/images/forbrain logo.png" alt="ForBrain Logo" class="forbrain-logo">
        </div>

        <div class="main-title">ForBrain BiliÅŸsel Becerileri<br>DeÄŸerlendirme Raporu</div>

        <div class="info-box">
            <div class="personal-info">
                <div>
                    <div class="info-item">
                        <span class="info-label">Ad Soyad</span>
                        <span>Ece YeÅŸim Cinemre</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Cinsiyet</span>
                        <span>KadÄ±n</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">YaÅŸ</span>
                        <span>31 YÄ±l 7 Ay 11 GÃ¼n</span>
                    </div>
                </div>
                <div>
                    <div class="info-item">
                        <span class="info-label">DoÄŸum Tarihi</span>
                        <span>16/12/1994</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">DeÄŸerlendirme Tarihi</span>
                        <span>11/07/2025</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Uygulayan</span>
                        <span>Funda Demirel</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="section-title">BiliÅŸsel Beceriler Performans GrafiÄŸi</div>

        <table class="skills-table">
            <thead>
                <tr>
                    <th>Beceri Kategorisi</th>
                    <th>Beceri TanÄ±mÄ±</th>
                    <th>YÃ¼zdelik Skor</th>
                </tr>
            </thead>
            <tbody>
                <tr class="skill-row">
                    <td><strong>Dikkat</strong></td>
                    <td>Amaca uygun bilgiyi seÃ§me, zihinsel kaynaklarÄ± bu bilgiye yÃ¶nlendirme ve odaÄŸÄ± sÃ¼rdÃ¼rebilme becerisidir.</td>
                    <td class="score-high">%81</td>
                </tr>
                <tr class="skill-row">
                    <td><strong>HafÄ±za</strong></td>
                    <td>Bilgilerin kodlanmasÄ±, saklanmasÄ± ve gerektiÄŸinde kullanma becerisidir.</td>
                    <td class="score-medium">%68</td>
                </tr>
                <tr class="skill-row">
                    <td><strong>Ä°ÅŸleme HÄ±zÄ±</strong></td>
                    <td>Bilgiyi algÄ±lama, deÄŸerlendirme ve yanÄ±t verme hÄ±zÄ±dÄ±r.</td>
                    <td class="score-high">%89</td>
                </tr>
                <tr class="skill-row">
                    <td><strong>GÃ¶rsel Ä°ÅŸleme</strong></td>
                    <td>GÃ¶rsel bilgiyi tanÄ±ma, analiz etme ve anlamlandÄ±rma becerisidir.</td>
                    <td class="score-low">%32</td>
                </tr>
                <tr class="skill-row">
                    <td><strong>AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme</strong></td>
                    <td>Bilgiyi kullanarak Ã§Ä±karÄ±m yapma, problem Ã§Ã¶zme ve sonuÃ§ Ã¼retme becerisidir.</td>
                    <td class="score-low">%17</td>
                </tr>
                <tr class="skill-row">
                    <td><strong>BiliÅŸsel Esneklik</strong></td>
                    <td>DÃ¼ÅŸÃ¼nce biÃ§imini ya da davranÄ±ÅŸÄ±nÄ± deÄŸiÅŸen durumlara gÃ¶re uyarlayabilme becerisidir.</td>
                    <td class="score-medium">%57</td>
                </tr>
            </tbody>
        </table>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background-color: #d4edda;"></div>
                <span><strong>%75 Ã¼zeri:</strong> BiliÅŸsel becerileri geliÅŸtirme uygulamalarÄ± isteÄŸe baÄŸlÄ± bireysel hedeflere gÃ¶re planlanabilir.</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #fff3cd;"></div>
                <span><strong>%51-75:</strong> BiliÅŸsel becerileri geliÅŸtirme uygulamalarÄ± bireyin hedeflerine gÃ¶re Ã¶ncelikli olmalÄ±dÄ±r.</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #f8d7da;"></div>
                <span><strong>%25-50:</strong> BiliÅŸsel becerileri geliÅŸtirme uygulamalarÄ±na ihtiyaÃ§ vardÄ±r. Bireyin performansÄ± artÄ±rÄ±lmalÄ±dÄ±r.</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background-color: #dc3545;"></div>
                <span><strong>%25 altÄ±:</strong> BiliÅŸsel becerileri geliÅŸtirme uygulamalarÄ±na kesinlikle ihtiyacÄ± vardÄ±r.</span>
            </div>
        </div>

        <div class="section-title">BiliÅŸsel PerformansÄ±n YÃ¼zdelik Analizi</div>
        <div class="description">
            BiliÅŸsel beceri profili Ã§Ä±karan bu sistemde bireyin performansÄ± yÃ¼zdelik dilimler Ã¼zerinden deÄŸerlendirilmektedir. Sistem, her bir biliÅŸsel beceri alanÄ±nÄ± 100 Ã¼zerinden puanlayarak bu ham puanlarÄ± daha sonra yÃ¼zdelik dilimlere dÃ¶nÃ¼ÅŸtÃ¼rmektedir. Temel referans olarak belirlenen yÃ¼zdelik dilimler (%25'in altÄ±, %25-50, %50-75 ve %75 Ã¼zeri) bireyin beceri dÃ¼zeyini norm tabanlÄ± sÄ±nÄ±flandÄ±rmaktadÄ±r.
        </div>

        <div class="description">
            Bu sistemin amacÄ± bireyin biliÅŸsel geliÅŸim sÃ¼recindeki gÃ¼Ã§lÃ¼ ve geliÅŸmesi gereken yÃ¶nlerini objektif verilerle ortaya koymak, potansiyelini kullanmasÄ±nÄ± engelleyen beceri alanlarÄ±nÄ± tespit etmek ve buna uygun kiÅŸiye Ã¶zel geliÅŸim planÄ± oluÅŸturmaktÄ±r.
        </div>

        <div class="section-title">Ã–ÄŸrenmenin Temeli: BiliÅŸsel Beceriler</div>
        <div class="description">
            BiliÅŸsel beceriler, Ã¶ÄŸrenmenin temelini oluÅŸturan zihinsel sÃ¼reÃ§lerdir. Her bireyin bu becerilerdeki performansÄ± farklÄ±lÄ±k gÃ¶sterebilir.
        </div>

        <div class="description">
            GeliÅŸime aÃ§Ä±k olan beceriler Ã¶ÄŸrenme sÃ¼recini yavaÅŸlatabilir veya zorlaÅŸtÄ±rabilir. GÃ¼Ã§lÃ¼ biliÅŸsel beceriler Ã¶ÄŸrenmeyi daha hÄ±zlÄ±, verimli ve kolay hale getirebilir.
        </div>

        <div class="description">
            Bireyin bir ya da birden fazla biliÅŸsel becerisi zayÄ±f olabilir; ancak bu beceriler yapÄ±landÄ±rÄ±lmÄ±ÅŸ programlarla geliÅŸtirilebilir ve bÃ¶ylece bireyin gerÃ§ek potansiyeli aÃ§Ä±ÄŸa Ã§Ä±kabilir.
        </div>

        <div class="description">
            ForBrain BiliÅŸsel Becerileri DeÄŸerlendirme Raporu'nun temel amacÄ±, bireyin Ã¶ÄŸrenme sÃ¼recini olumsuz etkileyen biliÅŸsel alanlarÄ± belirleyerek kiÅŸiye Ã¶zel bir geliÅŸim planÄ± sunmaktÄ±r.
        </div>

        <div class="footer-logo">
            <img src="public/assets/images/logo.png" alt="Logo">
        </div>
    </div>

    <!-- SAYFA 2 -->
    <div class="page">
        <div class="logo-section">
            <img src="public/assets/images/forbrain logo.png" alt="ForBrain Logo" class="forbrain-logo">
        </div>

        <div class="main-title">ForBrain BiliÅŸsel Becerileri<br>DeÄŸerlendirme Raporu</div>

        <div class="section-title">GeliÅŸim OdaklÄ± Bir YaklaÅŸÄ±m</div>
        <div class="description">
            ForBrain BiliÅŸsel Becerileri DeÄŸerlendirme Sistemi, tanÄ± koymak ya da bireyin genel Ã¶ÄŸrenme kapasitesini etiketlemek amacÄ±yla kullanÄ±lmaz. Bu sistem, bireyin Ã¶ÄŸrenme sÃ¼recini zorlaÅŸtÄ±ran biliÅŸsel becerileri belirlemek ve geliÅŸime aÃ§Ä±k alanlarÄ± tespit etmek iÃ§in deÄŸerlendirilir.
        </div>

        <div class="description">
            Test sonuÃ§larÄ±; bireyin dikkat durumu, test anÄ±ndaki fiziksel koÅŸullarÄ± (Ã¶rneÄŸin stres, yorgunluk), dijital araÃ§larÄ± kullanma becerisi (Ã¶rneÄŸin fare kullanÄ±mÄ±, iÅŸitsel algÄ±) gibi dÄ±ÅŸ etkenlerden etkilenebilir. Bu nedenle test ortamÄ± ve bireyin katÄ±lÄ±m durumu dikkate alÄ±narak deÄŸerlendirilmelidir.
        </div>

        <div class="section-title">Her Beceriyi AyrÄ± AyrÄ± DeÄŸerlendiren Sistematik YaklaÅŸÄ±m</div>
        <div class="description">
            ForBrain BiliÅŸsel Becerileri DeÄŸerlendirme Sistemi Ã¶ÄŸrenme iÃ§in kritik olan temel biliÅŸsel becerileri ayrÄ± ayrÄ± deÄŸerlendirerek; bireyin performans dÃ¼ÅŸÃ¼klÃ¼ÄŸÃ¼ne neyin sebep olabileceÄŸini aÃ§Ä±kÃ§a ortaya koyar. Bu sayede geliÅŸim odaklÄ± ve kiÅŸiye Ã¶zel programlar oluÅŸturmak mÃ¼mkÃ¼n hale gelir.
        </div>

        <div class="section-title">ForBrain BiliÅŸsel Becerileri DeÄŸerlendirme Raporunun Hedefleri</div>
        <div class="description">ForBrain DeÄŸerlendirme Sistemi ÅŸu hedeflere hizmet eder:</div>
        <ul class="goals-list">
            <li>Bireyin biliÅŸsel olarak gÃ¼Ã§lÃ¼ ve geliÅŸime aÃ§Ä±k yÃ¶nlerini belirlemek</li>
            <li>Ã–ÄŸrenme zorluklarÄ±nÄ±n nedenlerini analiz etmek</li>
            <li>SÃ¼reÃ§ iÃ§erisinde biliÅŸsel geliÅŸimi izlemek ve ilerlemeyi Ã¶lÃ§mek</li>
            <li>KiÅŸiye Ã¶zel yapÄ±landÄ±rÄ±lmÄ±ÅŸ geliÅŸim planÄ± hazÄ±rlamak</li>
            <li>Akademik ve gÃ¼nlÃ¼k hayatta zihinsel performansÄ± desteklemek</li>
            <li>Bireyin potansiyelini aÃ§Ä±ÄŸa Ã§Ä±kararak yaÅŸam boyu baÅŸarÄ±lÄ± seÃ§imlerini desteklemek</li>
        </ul>

        <!-- Minimal Professional Dikey Bar Chart -->
        <div class="vertical-bar-chart">
            <div class="bar-item">
                <div class="bar bar-high" style="height: 0px;" data-height="162">
                    <div class="bar-value">%81</div>
                </div>
                <div class="bar-label">Dikkat</div>
            </div>
            <div class="bar-item">
                <div class="bar bar-medium" style="height: 0px;" data-height="136">
                    <div class="bar-value">%68</div>
                </div>
                <div class="bar-label">HafÄ±za</div>
            </div>
            <div class="bar-item">
                <div class="bar bar-high" style="height: 0px;" data-height="178">
                    <div class="bar-value">%89</div>
                </div>
                <div class="bar-label">Ä°ÅŸleme<br>HÄ±zÄ±</div>
            </div>
            <div class="bar-item">
                <div class="bar bar-low" style="height: 0px;" data-height="34">
                    <div class="bar-value">%17</div>
                </div>
                <div class="bar-label">GÃ¶rsel<br>Ä°ÅŸleme</div>
            </div>
            <div class="bar-item">
                <div class="bar bar-low" style="height: 0px;" data-height="64">
                    <div class="bar-value">%32</div>
                </div>
                <div class="bar-label">AkÄ±l ve<br>MantÄ±k<br>YÃ¼rÃ¼tme</div>
            </div>
            <div class="bar-item">
                <div class="bar bar-medium" style="height: 0px;" data-height="114">
                    <div class="bar-value">%57</div>
                </div>
                <div class="bar-label">BiliÅŸsel<br>Esneklik</div>
            </div>
        </div>

        <div class="footer-logo">
            <img src="public/assets/images/logo.png" alt="Logo">
        </div>
    </div>

    <!-- SAYFA 3 -->
    <div class="page">
        <div class="logo-section">
            <img src="public/assets/images/forbrain logo.png" alt="ForBrain Logo" class="forbrain-logo">
        </div>

        <div class="main-title">ForBrain BiliÅŸsel Becerileri<br>DeÄŸerlendirme Raporu</div>

        <div class="section-title">BiliÅŸsel Olarak GÃ¼Ã§lÃ¼ ve GeliÅŸime AÃ§Ä±k Alanlar</div>

        <div class="skill-analysis">
            <div class="skill-name">Dikkat ve Odaklanma Skoru: % 81</div>
            <div class="skill-description">
                Dikkatini sÃ¼rdÃ¼rme ve gÃ¶reve odaklanma becerisi oldukÃ§a gÃ¼Ã§lÃ¼dÃ¼r. Hedefe yoÄŸunlaÅŸma, yÃ¶nerge takibi ve ayrÄ±ntÄ± fark etme gibi becerilerde etkin performans sergilemektedir.
            </div>
        </div>

        <div class="skill-analysis">
            <div class="skill-name">HafÄ±za Skoru: % 68</div>
            <div class="skill-description">
                Bilgiyi kodlama ve gerektiÄŸinde geri Ã§aÄŸÄ±rma becerisi geliÅŸmiÅŸ durumdadÄ±r. YapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revlerde ve tekrar iÃ§eren Ã§alÄ±ÅŸmalarda bu beceriden iÅŸlevsel ÅŸekilde faydalanabilir. Ancak bilgi yÃ¼kÃ¼ arttÄ±ÄŸÄ±nda veya dikkat daÄŸÄ±ldÄ±ÄŸÄ±nda hafÄ±za ve Ã¶ÄŸrenme olumsuz etkilenebilir.
            </div>
        </div>

        <div class="skill-analysis">
            <div class="skill-name">Ä°ÅŸleme HÄ±zÄ± Skoru: % 89</div>
            <div class="skill-description">
                Ä°ÅŸleme hÄ±zÄ± becerisi gÃ¼Ã§lÃ¼dÃ¼r. Bilgiyi hÄ±zlÄ± algÄ±lar, anlamlandÄ±rÄ±r ve uygun tepkileri zamanÄ±nda verir. Bu beceri yÃ¶nergeleri Ã§abuk kavrama, gÃ¶revleri sÃ¼resinde tamamlama ve akademik hÄ±z gerektiren durumlarda avantaj saÄŸlar. GÃ¼nlÃ¼k iÅŸlerin akÄ±cÄ± ve dÃ¼zenli ÅŸekilde yÃ¼rÃ¼tÃ¼lmesine katkÄ± sunar.
            </div>
        </div>

        <div class="skill-analysis">
            <div class="skill-name">GÃ¶rsel Ä°ÅŸleme Skoru: % 32</div>
            <div class="skill-description">
                GÃ¶rsel Ä°ÅŸleme becerisi sÄ±nÄ±rlÄ± dÃ¼zeydedir. GÃ¶rsel bilgileri tanÄ±ma, karÅŸÄ±laÅŸtÄ±rma ve anlamlandÄ±rma sÃ¼reÃ§lerinde zorluklar yaÅŸanabilir. Harf, sayÄ± veya ÅŸekilleri birbirinden ayÄ±rt etmekte gÃ¼Ã§lÃ¼k gÃ¶rÃ¼lebilir. Bu durum, okuma yazma gibi akademik becerilerde ya da yÃ¶n bulma, nesne tanÄ±ma gibi gÃ¼nlÃ¼k iÅŸlevlerde aksamalar yaratabilir.
            </div>
        </div>

        <div class="skill-analysis">
            <div class="skill-name">AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme Skoru: % 17</div>
            <div class="skill-description">
                AkÄ±l ve mantÄ±k yÃ¼rÃ¼tme becerisi geliÅŸtirilmesi gereken Ã¶ncelikli bir alandÄ±r. Bilgileri karÅŸÄ±laÅŸtÄ±rma, neden-sonuÃ§ iliÅŸkisi kurma, problem Ã§Ã¶zme ve Ã§Ä±karÄ±m yapma sÃ¼reÃ§lerinde belirgin zorluklar yaÅŸanabilir. Bu durum Ã§ok adÄ±mlÄ± akÄ±l yÃ¼rÃ¼tme gerektiren akademik performanslarÄ± olumsuz etkileyebilir.
            </div>
        </div>

        <div class="skill-analysis">
            <div class="skill-name">BiliÅŸsel Esneklik Skoru: % 57</div>
            <div class="skill-description">
                BiliÅŸsel esneklik becerisi temel dÃ¼zeydedir. GÃ¶rev sÄ±rasÄ±nda deÄŸiÅŸen kurallara genellikle uyum saÄŸlanÄ±r. YÃ¶nergeleri ayÄ±rt etme ve uygun strateji seÃ§me konusunda zaman zaman tereddÃ¼t yaÅŸanabilir. Bu durum Ã¶zellikle Ã§ok adÄ±mlÄ± gÃ¶revlerde ve hÄ±zlÄ± uyum gerektiren durumlarda ek destek ihtiyacÄ±nÄ± artÄ±rabilir.
            </div>
        </div>

        <div class="radar-chart-container">
            <canvas id="radarChart" width="400" height="400"></canvas>
        </div>

        <div class="footer-logo">
            <img src="public/assets/images/logo.png" alt="Logo">
        </div>
    </div>

    <!-- SAYFA 4 -->
    <div class="page">
        <div class="logo-section">
            <img src="public/assets/images/forbrain logo.png" alt="ForBrain Logo" class="forbrain-logo">
        </div>

        <div class="main-title">ForBrain BiliÅŸsel Becerileri<br>DeÄŸerlendirme Raporu</div>

        <div class="section-title-green">BiliÅŸsel Becerileri GeliÅŸtirme Ã–nerileri</div>

        <div class="recommendation-box">
            <div class="recommendation-title">Dikkat</div>
            <div class="recommendation-content">
                Dikkat becerileriniz oldukÃ§a gÃ¼Ã§lÃ¼ seviyededir. Bu gÃ¼Ã§lÃ¼ yanÄ±nÄ±zÄ± korumak iÃ§in dÃ¼zenli mental egzersizler yapabilir, meditasyon tekniklerini uygulayabilir ve odaklanma gerektiren aktivitelere devam edebilirsiniz. Dikkat sÃ¼renizi daha da artÄ±rmak iÃ§in pomodoro tekniÄŸi gibi zaman yÃ¶netimi stratejilerini kullanabilirsiniz.
            </div>
        </div>

        <div class="recommendation-box">
            <div class="recommendation-title">HafÄ±za</div>
            <div class="recommendation-content">
                HafÄ±za becerileriniz iyi seviyededir ancak daha da geliÅŸtirilebilir. HafÄ±za tekniklerini Ã¶ÄŸrenebilir, dÃ¼zenli tekrar stratejileri uygulayabilir ve gÃ¶rsel-iÅŸitsel Ã¶ÄŸrenme yÃ¶ntemlerini kullanabilirsiniz. HafÄ±za sarayÄ± tekniÄŸi, akÄ±lda kalÄ±cÄ±lÄ±ÄŸÄ± artÄ±rmak iÃ§in etkili bir yÃ¶ntemdir.
            </div>
        </div>

        <div class="recommendation-box">
            <div class="recommendation-title">Ä°ÅŸleme HÄ±zÄ±</div>
            <div class="recommendation-content">
                Ä°ÅŸleme hÄ±zÄ±nÄ±z Ã§ok gÃ¼Ã§lÃ¼ bir alandÄ±r. Bu avantajÄ±nÄ±zÄ± korumak iÃ§in hÄ±zlÄ± karar verme gerektiren aktiviteler yapabilir, zihinsel Ã§eviklik oyunlarÄ± oynayabilir ve multitasking becerilerinizi geliÅŸtirebilirsiniz. Ancak hÄ±zla birlikte doÄŸruluÄŸu da korumanÄ±z Ã¶nemlidir.
            </div>
        </div>

        <div class="footer-logo">
            <img src="public/assets/images/logo.png" alt="Logo">
        </div>
    </div>

    <!-- SAYFA 5 -->
    <div class="page">
        <div class="logo-section">
            <img src="public/assets/images/forbrain logo.png" alt="ForBrain Logo" class="forbrain-logo">
        </div>

        <div class="main-title">ForBrain BiliÅŸsel Becerileri<br>DeÄŸerlendirme Raporu</div>

        <div class="section-title-green">BiliÅŸsel Becerileri GeliÅŸtirme Ã–nerileri</div>

        <div class="recommendation-box">
            <div class="recommendation-title">GÃ¶rsel Ä°ÅŸleme</div>
            <div class="recommendation-content">
                GÃ¶rsel iÅŸleme beceriniz geliÅŸtirilmesi gereken bir alandÄ±r. GÃ¶rsel algÄ± egzersizleri, puzzle Ã§Ã¶zme, ÅŸekil tanÄ±ma oyunlarÄ± ve gÃ¶rsel-uzamsal aktiviteler yapabilirsiniz. Ã‡izim, boyama ve gÃ¶rsel sanatlarla uÄŸraÅŸmak bu beceriyi geliÅŸtirmeye yardÄ±mcÄ± olacaktÄ±r. DÃ¼zenli gÃ¶z egzersizleri de faydalÄ± olabilir.
            </div>
        </div>

        <div class="recommendation-box">
            <div class="recommendation-title">AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme</div>
            <div class="recommendation-content">
                Bu alan en Ã§ok geliÅŸtirilmesi gereken beceri alanÄ±nÄ±zdÄ±r. MantÄ±k oyunlarÄ±, sudoku, satranÃ§ gibi stratejik oyunlar oynayabilirsiniz. Problem Ã§Ã¶zme tekniklerini Ã¶ÄŸrenebilir, analitik dÃ¼ÅŸÃ¼nme egzersizleri yapabilir ve neden-sonuÃ§ iliÅŸkilerini gÃ¼Ã§lendiren aktivitelere odaklanabilirsiniz.
            </div>
        </div>

        <div class="recommendation-box">
            <div class="recommendation-title">BiliÅŸsel Esneklik</div>
            <div class="recommendation-content">
                BiliÅŸsel esneklik beceriniz orta seviyededir ve geliÅŸtirilebilir. FarklÄ± bakÄ±ÅŸ aÃ§Ä±larÄ± geliÅŸtirme egzersizleri, yaratÄ±cÄ±lÄ±k aktiviteleri ve esneklik gerektiren oyunlar oynayabilirsiniz. Rutin deÄŸiÅŸiklikler yaparak adaptasyon becerinizi geliÅŸtirebilir ve Ã§oklu gÃ¶rev yÃ¶netimi pratikleri yapabilirsiniz.
            </div>
        </div>

        <div class="footer-logo">
            <img src="public/assets/images/logo.png" alt="Logo">
        </div>
    </div>

    <!-- SAYFA 6 -->
    <div class="page">
        <div class="logo-section">
            <img src="public/assets/images/forbrain logo.png" alt="ForBrain Logo" class="forbrain-logo">
        </div>

        <div class="main-title">ForBrain BiliÅŸsel Becerileri<br>DeÄŸerlendirme Raporu</div>

        <div class="section-title-red">BiliÅŸsel Becerileri GeliÅŸtirme Ã–nerileri</div>

        <div class="chart-container">
            <canvas id="barChart"></canvas>
        </div>

        <div class="section-title">Beyin AntrenÃ¶rÃ¼ GÃ¶zlem ve GÃ¶rÃ¼ÅŸleri</div>
        
        <div class="observer-box">
            <div class="recommendation-content">
                Bu alan beyin antrenÃ¶rÃ¼nÃ¼n gÃ¶zlem ve deÄŸerlendirmelerini iÃ§ermektedir. Bireysel gÃ¶rÃ¼ÅŸme notlarÄ±, test sÄ±rasÄ±ndaki davranÄ±ÅŸ gÃ¶zlemleri ve Ã¶zel Ã¶neriler bu bÃ¶lÃ¼mde yer alacaktÄ±r.
            </div>
        </div>

        <div class="footer-logo">
            <img src="public/assets/images/logo.png" alt="Logo">
        </div>
    </div>

    <script>
        // Modern Vertical Bar Chart Animation
        function animateVerticalBars() {
            const bars = document.querySelectorAll('.bar');
            bars.forEach((bar, index) => {
                setTimeout(() => {
                    const targetHeight = bar.getAttribute('data-height');
                    bar.style.height = targetHeight + 'px';
                }, index * 200);
            });
        }

        // OLD RADAR CHART FUNCTION REMOVED - Using clean version below

        // Bar Chart - Son sayfadaki grafik
        // NOTE: This simple template chart conflicts with the dynamic chart below.
        // It is kept but will be guarded by a global destroy mechanism.
        // REFERENCE-BASED WORKING BAR CHART
        function createBarChart() {
            const ctx = document.getElementById('barChart');
            if (!ctx) return;

            // Simple destroy
            try { Chart.getChart(ctx)?.destroy(); } catch(e) {}

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'],
                    datasets: [
                        {
                            label: '',
                            data: [48, 35, 45, 40, 65, 52, 45, 40, 44, 64, 42, 55],
                            backgroundColor: 'rgba(231, 76, 60, 0.8)',
                            borderColor: 'rgba(231, 76, 60, 1)',
                            borderWidth: 1
                        },
                        {
                            label: '',
                            data: [25, 18, 22, 15, 8, 12, 25, 28, 20, 15, 25, 18],
                            backgroundColor: 'rgba(52, 73, 94, 0.8)',
                            borderColor: 'rgba(52, 73, 94, 1)',
                            borderWidth: 1
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: 'rgba(52, 73, 94, 1)',
                            borderWidth: 1,
                            displayColors: true,
                            callbacks: {
                                label: function(context) {
                                    let label = context.dataset.label || '';
                                    if (context.datasetIndex === 0) {
                                        label = 'KÄ±rmÄ±zÄ±';
                                    } else if (context.datasetIndex === 1) {
                                        label = 'Mavi';
                                    }
                                    return label + ': ' + context.parsed.y;
                                }
                            }
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            }
                        },
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20
                            },
                            grid: {
                                color: '#E0E0E0'
                            }
                        }
                    }
                }
            });
        }

        // Initialize charts when page loads
        function initializeCharts() {
            console.log('ğŸš€ initializeCharts called');
            console.log('ğŸ” Chart.js status:', typeof Chart);
            console.log('ğŸ” DOM ready state:', document.readyState);
            
            // Wait for Chart.js to be fully loaded
            if (typeof Chart === 'undefined') {
                console.error('âŒ Chart.js not loaded! Retrying in 500ms...');
                logger.error('âŒ Chart.js not loaded!');
                setTimeout(initializeCharts, 500);
                return;
            }
            
            console.log('âœ… Chart.js loaded successfully');
            logger.log('âœ… Chart.js loaded successfully');
            
            // Check if canvas elements exist
            const radarCanvas = document.getElementById('radarChart');
            const barCanvas = document.getElementById('barChart');
            
            console.log('ğŸ” Radar canvas exists:', !!radarCanvas);
            console.log('ğŸ” Bar canvas exists:', !!barCanvas);
            
            if (!radarCanvas || !barCanvas) {
                console.warn('âš ï¸ Canvas elements not found, retrying in 200ms...');
                setTimeout(initializeCharts, 200);
                return;
            }
            
            // Initial template-only render guarded with destroy to avoid reuse errors
            console.log('ğŸ“Š Initializing template charts...');
            logger.log('ğŸ“Š Initializing template charts...');
            
            try {
                createBarChart();
                createRadarChart();
                animateVerticalBars();
                console.log('âœ… All charts initialized successfully');
            } catch (error) {
                console.error('âŒ Error initializing charts:', error);
            }
        }

        // TEST INITIALIZATION WITH DELAY
        window.addEventListener('load', function() {
            console.log('ğŸ” Window loaded, checking Chart.js...');
            console.log('ğŸ” Chart.js type:', typeof Chart);
            
            if (typeof Chart === 'undefined') {
                console.error('âŒ Chart.js is NOT loaded!');
                // Try to load it manually
                const script = document.createElement('script');
                script.src = 'https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js';
                script.onload = function() {
                    console.log('âœ… Chart.js loaded manually');
                    setTimeout(initCharts, 500);
                };
                document.head.appendChild(script);
            } else {
                console.log('âœ… Chart.js is loaded');
                setTimeout(initCharts, 500);
            }
        });
        
        function initCharts() {
            console.log('ğŸ“Š Initializing charts...');
            
            // Test if we can create a simple chart first
            try {
                const testCanvas = document.getElementById('radarChart');
                if (testCanvas) {
                    console.log('ğŸ” Test canvas found:', testCanvas);
                    
                    // Destroy any existing
                    const existing = Chart.getChart(testCanvas);
                    if (existing) {
                        console.log('ğŸ”„ Destroying existing chart');
                        existing.destroy();
                    }
                    
                    // Create simple test chart
                    console.log('ğŸ“Š Creating test radar chart...');
                    const testChart = new Chart(testCanvas, {
                        type: 'radar',
                        data: {
                            labels: ['A', 'B', 'C', 'D', 'E', 'F'],
                            datasets: [{
                                label: 'Test',
                                data: [65, 59, 90, 81, 56, 55],
                                borderColor: 'rgb(255, 99, 132)',
                                backgroundColor: 'rgba(255, 99, 132, 0.2)'
                            }]
                        },
                        options: {
                            responsive: true,
                            maintainAspectRatio: false
                        }
                    });
                    console.log('âœ… Test chart created:', testChart);
                }
                
                // Now try our functions
                setTimeout(() => {
                    console.log('ğŸ“Š Creating actual charts...');
                    createBarChart();
                    createRadarChart();
                    animateVerticalBars();
                }, 1000);
                
            } catch (error) {
                console.error('âŒ Chart creation error:', error);
                console.error('Stack:', error.stack);
            }
        }
    </script>



    <script>
        // Cognitive Test Data Management
        let cognitiveData = {
            student: {
                name: 'YÃ¼kleniyor...',
                gender: 'BelirtilmemiÅŸ',
                age: '0 YÄ±l 0 Ay 0 GÃ¼n',
                birthDate: '01/01/1990',
                evaluationDate: 'YÃ¼kleniyor...',
                evaluator: 'Sistem'
            },
            scores: {
                dikkat_skoru: 0,
                hafiza_skoru: 0,
                isleme_hizi_skoru: 0,
                gorsel_isleme_skoru: 0,
                akil_mantik_yurutme_skoru: 0,
                bilissel_esneklik_skoru: 0
            }
        };

        // Chart instances for proper cleanup
        let barChartInstance = null;
        let radarChartInstance = null;

        // Global init guard for Vite HMR / multiple inits
        if (!window.__cogInitDone__) {
            window.__cogInitDone__ = true;
        }

        // Score range mappings from actual images provided by user
        // Dynamic score ranges - will be populated from database
        let scoreRanges = {
            dikkat_skoru: {
                ranges: [
                    { min: 75, max: 100, level: 'GÃ¼Ã§lÃ¼', description: 'Dikkat ve Odaklanma Becerisi GÃ¼Ã§lÃ¼dÃ¼r. Dikkatini sÃ¼rdÃ¼rme ve gÃ¶reve odaklanma becerisi oldukÃ§a gÃ¼Ã§lÃ¼dÃ¼r. Hedefe yoÄŸunlaÅŸma, yÃ¶nerge takibi ve ayrÄ±ntÄ± fark etme gibi becerilerde etkin performans sergilemektedir.' },
                    { min: 51, max: 74, level: 'GeliÅŸmiÅŸ', description: 'Dikkat ve Odaklanma Becerisi GeliÅŸmiÅŸtir. Dikkatini sÃ¼rdÃ¼rebilme becerisi geliÅŸmiÅŸ durumdadÄ±r. Uygun ve sakin bir ortamda, net yÃ¶nergelerle verilen gÃ¶revlerde dikkatini koruyabilir. Ancak odaklanmanÄ±n uzun sÃ¼reli olmasÄ± iÃ§in zaman zaman destek ve yÃ¶nlendirme gerekebilir.' },
                    { min: 25, max: 50, level: 'SÄ±nÄ±rlÄ±', description: 'Dikkat ve Odaklanma Becerisi SÄ±nÄ±rlÄ± DÃ¼zeydedir. Dikkatini sÃ¼rdÃ¼rmede ve bilgiye odaklanmada gÃ¼Ã§lÃ¼k yaÅŸayabilir. Ã–zellikle Ã§evredeki dikkat daÄŸÄ±tÄ±cÄ±lara karÅŸÄ± duyarlÄ±lÄ±ÄŸÄ± dikkat sÃ¼resini kÄ±saltabilir. GÃ¶revleri tamamlamada zorlanmamak iÃ§in yapÄ±landÄ±rÄ±lmÄ±ÅŸ biliÅŸsel becerileri geliÅŸtirme uygulamalarÄ± ile desteklenmelidir.' },
                    { min: 0, max: 24, level: 'GeliÅŸim Ã–ncelikli', description: 'Dikkat ve Odaklanma Becerisi GeliÅŸimi Ã–nceliklidir. Dikkatini toplamakta ve sÃ¼rdÃ¼rmekte belirgin gÃ¼Ã§lÃ¼k yaÅŸadÄ±ÄŸÄ± gÃ¶zlemlenmektedir. Bu durum, Ã¶ÄŸrenme ve gÃ¶rev takibi sÃ¼reÃ§lerini olumsuz etkileyebilir. AyrÄ±ntÄ± fark etme, yÃ¶nergeye uyma, dikkat ve odaklanma becerilerinin geliÅŸimi desteklenmelidir.' }
                ]
            },
            hafiza_skoru: {
                ranges: [
                    { min: 75, max: 100, level: 'GÃ¼Ã§lÃ¼', description: 'HafÄ±za Becerisi GÃ¼Ã§lÃ¼dÃ¼r. Bilgiyi akÄ±lda tutma, gerektiÄŸinde hatÄ±rlama ve gÃ¶revler sÄ±rasÄ±nda doÄŸru ÅŸekilde kullanma becerisi oldukÃ§a gÃ¼Ã§lÃ¼dÃ¼r. Ã–ÄŸrenme sÃ¼reÃ§lerinde hafÄ±za becerileri etkin biÃ§imde kullanÄ±lmaktadÄ±r.' },
                    { min: 51, max: 74, level: 'GeliÅŸmiÅŸ', description: 'HafÄ±za Becerisi GeliÅŸmiÅŸtir. Bilgiyi kodlama ve gerektiÄŸinde geri Ã§aÄŸÄ±rma becerisi geliÅŸmiÅŸ durumdadÄ±r. YapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revlerde ve tekrar iÃ§eren Ã§alÄ±ÅŸmalarda bu beceriden iÅŸlevsel ÅŸekilde faydalanabilir. Ancak bilgi yÃ¼kÃ¼ arttÄ±ÄŸÄ±nda veya dikkat daÄŸÄ±ldÄ±ÄŸÄ±nda hafÄ±za ve Ã¶ÄŸrenme olumsuz etkilenebilir.' },
                    { min: 25, max: 50, level: 'SÄ±nÄ±rlÄ±', description: 'HafÄ±za Becerisi SÄ±nÄ±rlÄ± DÃ¼zeydedir. Bilgiyi akÄ±lda tutma ve gerektiÄŸinde hatÄ±rlama sÃ¼reÃ§lerinde zorlanabilir. Ã–zellikle dikkat gerektiren gÃ¶revlerde bilgi hatÄ±rlamada gÃ¼Ã§lÃ¼k yaÅŸayabilir.' },
                    { min: 0, max: 24, level: 'GeliÅŸim Ã–ncelikli', description: 'HafÄ±za Becerisi GeliÅŸimi Ã–nceliklidir. Bilgiyi geÃ§ici olarak akÄ±lda tutma ve gÃ¶rev sÄ±rasÄ±nda kullanma becerilerinde belirgin gÃ¼Ã§lÃ¼k yaÅŸadÄ±ÄŸÄ± gÃ¶zlemlenmektedir. Bu durum, yÃ¶nergeleri izleme ve Ã¶ÄŸrenilen bilgiyi kullanma sÃ¼reÃ§lerini olumsuz etkileyebilir.' }
                ]
            },
            isleme_hizi_skoru: {
                ranges: [
                    { min: 75, max: 100, level: 'GÃ¼Ã§lÃ¼', description: 'Ä°ÅŸlem HÄ±zÄ± Becerisi GÃ¼Ã§lÃ¼dÃ¼r. Bilgiyi algÄ±lama, anlamlandÄ±rma ve tepki verme sÃ¼recini etkili ve hÄ±zlÄ± bir ÅŸekilde yÃ¼rÃ¼tebilmektedir. Bu beceri, yÃ¶nergeleri Ã§abuk kavrama ve gÃ¶revleri zamanÄ±nda tamamlama aÃ§Ä±sÄ±ndan Ã¶nemli bir avantaj saÄŸlamaktadÄ±r.' },
                    { min: 51, max: 74, level: 'GeliÅŸmiÅŸ', description: 'Ä°ÅŸlem HÄ±zÄ± Becerisi GeliÅŸmiÅŸtir. Bilgiyi anlama ve tepki verme sÃ¼resi genellikle yeterli hÄ±zdadÄ±r. Verilen gÃ¶revlerin karmaÅŸÄ±klÄ±ÄŸÄ±na ve sÃ¼re sÄ±nÄ±rlÄ±lÄ±ÄŸÄ±na gÃ¶re iÅŸlem hÄ±zÄ±nda zaman zaman deÄŸiÅŸkenlik gÃ¶zlenebilir.' },
                    { min: 25, max: 50, level: 'SÄ±nÄ±rlÄ±', description: 'Ä°ÅŸlem HÄ±zÄ± Becerisi SÄ±nÄ±rlÄ± DÃ¼zeydedir. Bilgiyi anlamlandÄ±rma ve tepkiye dÃ¶nÃ¼ÅŸtÃ¼rme sÃ¼resi zaman zaman uzayabilir. Ã–zellikle hÄ±zlÄ± karar verme veya hÄ±zlÄ± uygulama gerektiren gÃ¶revlerde zorlanabilir.' },
                    { min: 0, max: 24, level: 'GeliÅŸim Ã–ncelikli', description: 'Ä°ÅŸlem HÄ±zÄ± Becerisi GeliÅŸimi Ã–nceliklidir. Bilgiyi iÅŸleme ve tepki verme hÄ±zÄ±nda belirgin yavaÅŸlÄ±k gÃ¶rÃ¼lebilir. Bu durum yÃ¶nerge takibi, karar verme ve gÃ¶rev tamamlama sÃ¼reÃ§lerini olumsuz etkileyebilir.' }
                ]
            },
            gorsel_isleme_skoru: {
                ranges: [
                    { min: 75, max: 100, level: 'GÃ¼Ã§lÃ¼', description: 'GÃ¶rsel Ä°ÅŸleme Becerisi GÃ¼Ã§lÃ¼dÃ¼r. GÃ¶rsel bilgileri tanÄ±ma, ayÄ±rt etme ve anlamlandÄ±rma becerileri gÃ¼Ã§lÃ¼dÃ¼r. Bu beceri gÃ¶rsel bilgi aÄŸÄ±rlÄ±klÄ± gÃ¶revlerde hÄ±zlÄ± ve doÄŸru tepkiler vermesini kolaylaÅŸtÄ±rmaktadÄ±r.' },
                    { min: 51, max: 74, level: 'GeliÅŸmiÅŸ', description: 'GÃ¶rsel Ä°ÅŸleme Becerisi GeliÅŸmiÅŸtir. GÃ¶rsel bilgileri tanÄ±ma ve ayÄ±rt etme becerisi bÃ¼yÃ¼k Ã¶lÃ§Ã¼de geliÅŸmiÅŸtir. Ancak benzer ÅŸekiller veya yoÄŸun gÃ¶rsel iÃ§erikler karÅŸÄ±sÄ±nda ayÄ±rt etme ve doÄŸru tepki verme sÃ¼resi uzayabilir.' },
                    { min: 25, max: 50, level: 'SÄ±nÄ±rlÄ±', description: 'GÃ¶rsel Ä°ÅŸleme Becerisi SÄ±nÄ±rlÄ± DÃ¼zeydedir. GÃ¶rsel bilgileri tanÄ±ma, karÅŸÄ±laÅŸtÄ±rma ve ayÄ±rt etme sÃ¼reÃ§lerinde gÃ¼Ã§lÃ¼k yaÅŸayabilir. Bu durum; harf, sayÄ± ve ÅŸekilleri ayÄ±rt etmeyi gerektiren gÃ¶revlerde, Ã¶zellikle okuma, yazma ve yÃ¶n bulma gibi alanlarda zorlanmaya neden olabilir.' },
                    { min: 0, max: 24, level: 'GeliÅŸim Ã–ncelikli', description: 'GÃ¶rsel Ä°ÅŸleme Becerisi GeliÅŸimi Ã–nceliklidir. GÃ¶rsel bilgileri algÄ±lama, karÅŸÄ±laÅŸtÄ±rma ve ayÄ±rt etme sÃ¼reÃ§lerinde belirgin zorlanmalar gÃ¶zlenmiÅŸtir. Bu durum, okuma-yazma gibi akademik alanlarda ve gÃ¶rsel bilgiyi kullanmayÄ± gerektiren gÃ¼nlÃ¼k gÃ¶revlerde gÃ¼Ã§lÃ¼k yaÅŸanmasÄ±na neden olabilir.' }
                ]
            },
            akil_mantik_yurutme_skoru: {
                ranges: [
                    { min: 75, max: 100, level: 'GÃ¼Ã§lÃ¼', description: 'AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme Becerisi GÃ¼Ã§lÃ¼dÃ¼r. Bilgiler arasÄ±nda iliÅŸki kurma, Ã§Ä±karÄ±m yapma ve problem Ã§Ã¶zme gibi biliÅŸsel sÃ¼reÃ§lerde etkili performans sergilemektedir.' },
                    { min: 51, max: 74, level: 'GeliÅŸmiÅŸ', description: 'AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme Becerisi GeliÅŸmiÅŸtir. Uygun yÃ¶nlendirme ve yapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revlerle problem Ã§Ã¶zme ve Ã§Ä±karÄ±m yapma sÃ¼reÃ§lerini sÃ¼rdÃ¼rebilir. Ancak Ã§ok adÄ±mlÄ± akÄ±l yÃ¼rÃ¼tme gerektiren durumlarda zorlanmalar gÃ¶rÃ¼lebilir.' },
                    { min: 25, max: 50, level: 'SÄ±nÄ±rlÄ±', description: 'AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme Becerisi SÄ±nÄ±rlÄ± DÃ¼zeydedir. Bilgileri karÅŸÄ±laÅŸtÄ±rma, Ã§Ä±karÄ±m yapma ve neden-sonuÃ§ iliÅŸkisi kurma gibi sÃ¼reÃ§lerde gÃ¼Ã§lÃ¼k yaÅŸayabilir. Edinilen bilgileri organize etme, anlamlÄ± bir yapÄ± iÃ§inde birleÅŸtirme ve farklÄ± durumlara uyarlamada zorlanabilir.' },
                    { min: 0, max: 24, level: 'GeliÅŸim Ã–ncelikli', description: 'AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme Becerisi GeliÅŸimi Ã–nceliklidir. Bilgileri karÅŸÄ±laÅŸtÄ±rma, neden-sonuÃ§ iliÅŸkisi kurma, problem Ã§Ã¶zme ve Ã§Ä±karÄ±m yapma sÃ¼reÃ§lerinde belirgin zorluklar yaÅŸayabilir. Bu durum Ã§ok adÄ±mlÄ± akÄ±l yÃ¼rÃ¼tme gerektiren akademik performanslarÄ± olumsuz etkileyebilir.' }
                ]
            },
            bilissel_esneklik_skoru: {
                ranges: [
                    { min: 75, max: 100, level: 'GÃ¼Ã§lÃ¼', description: 'BiliÅŸsel Esneklik Becerisi GÃ¼Ã§lÃ¼dÃ¼r. Kurallar deÄŸiÅŸtiÄŸinde ya da gÃ¶rev yapÄ±sÄ± farklÄ±laÅŸtÄ±ÄŸÄ±nda hÄ±zla uyum saÄŸlayabilir ve uygun stratejileri seÃ§ebilir. Bu beceri, problem Ã§Ã¶zme ve Ã§ok yÃ¶nlÃ¼ dÃ¼ÅŸÃ¼nme gerektiren durumlarda Ã¶nemli bir avantaj saÄŸlar.' },
                    { min: 51, max: 74, level: 'GeliÅŸmiÅŸ', description: 'BiliÅŸsel Esneklik Becerisi GeliÅŸmiÅŸtir. Kurallarda deÄŸiÅŸiklik olduÄŸunda yeni duruma uyum saÄŸlamakta zaman zaman gecikmeler yaÅŸanabilir. Bu durum, Ã¶zellikle Ã§ok adÄ±mlÄ± ve deÄŸiÅŸken gÃ¶revlerde uyum sÃ¼recini zorlaÅŸtÄ±rabilir.' },
                    { min: 25, max: 50, level: 'SÄ±nÄ±rlÄ±', description: 'BiliÅŸsel Esneklik Becerisi SÄ±nÄ±rlÄ± DÃ¼zeydedir. Kurallarda deÄŸiÅŸiklik olduÄŸunda yeni duruma uyum saÄŸlamakta gÃ¼Ã§lÃ¼k yaÅŸayabilir. YÃ¶nergeleri ayÄ±rt ederek uygun stratejiyi belirlemekte zorlanabilir. Bu durum Ã¶zellikle Ã§ok adÄ±mlÄ± gÃ¶revlerde ve farklÄ± bakÄ±ÅŸ aÃ§Ä±larÄ± geliÅŸtirilmesi gereken durumlarda biliÅŸsel performansÄ± olumsuz etkileyebilir.' },
                    { min: 0, max: 24, level: 'GeliÅŸim Ã–ncelikli', description: 'BiliÅŸsel Esneklik Becerisi GeliÅŸimi Ã–nceriklidir. Kurallar deÄŸiÅŸtiÄŸinde eski yÃ¶nteme takÄ±lÄ± kalma, yeni kurallarÄ± ayÄ±rt edememe ve yÃ¶nergeler arasÄ±nda geÃ§iÅŸ yapamama gibi belirgin zorlanmalar gÃ¶rÃ¼lebilir. Bu durum problem Ã§Ã¶zme, deÄŸiÅŸen koÅŸullara uyum saÄŸlama ve Ã§ok yÃ¶nlÃ¼ dÃ¼ÅŸÃ¼nme gerektiren akademik becerileri olumsuz etkileyebilir.' }
                ]
            }
        };

        // Detailed recommendations from Ã¶neri.md file
        // Dynamic detailed recommendations - will be populated from database
        let detailedRecommendations = {
            dikkat_skoru: {
                ranges: [
                    { min: 75, max: 100, recommendations: [
                        'Dikkat becerisi gÃ¼Ã§lÃ¼ olan bireyler iÃ§in Ã§ok adÄ±mlÄ± problem Ã§Ã¶zme iÃ§eren gÃ¶revler dikkat yÃ¶netimini etkin biÃ§imde kullanma fÄ±rsatÄ± sunar.',
                        'Zaman baskÄ±sÄ± altÄ±nda odaklanmayÄ± sÃ¼rdÃ¼rebileceÄŸi Ã§alÄ±ÅŸmalarla dikkatin sÃ¼rekliliÄŸi gÃ¼Ã§lendirilebilir.',
                        'EÅŸ zamanlÄ± dikkat gerektiren veya gÃ¶revler arasÄ± geÃ§iÅŸ iÃ§eren etkinliklerle bÃ¶lÃ¼nmÃ¼ÅŸ dikkat becerisi pekiÅŸtirilebilir.',
                        'Strateji geliÅŸtirme gerektiren oyunlar ve uygulamalarla dikkat kontrolÃ¼ esnek biÃ§imde kullanÄ±labilir.',
                        'AyrÄ±ca bilgi iÅŸleme sÃ¼reÃ§lerini de iÃ§eren gÃ¶revlerde hÄ±z ve doÄŸruluk arasÄ±ndaki dengeyi koruma becerisi geliÅŸtirilebilir.'
                    ]},
                    { min: 50, max: 74, recommendations: [
                        'Dikkat sÃ¼resini korumakta zaman zaman gÃ¼Ã§lÃ¼k yaÅŸayan bireyler iÃ§in, uyaranlarÄ±n azaltÄ±ldÄ±ÄŸÄ± ortamlarda yapÄ±lan yapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revler odaklanmayÄ± kolaylaÅŸtÄ±rabilir.',
                        'AdÄ±m adÄ±m ilerleyen yÃ¶nergelerle Ã§alÄ±ÅŸmak, gÃ¶rev takibini ve odaklanmayÄ± destekler.',
                        'BiliÅŸsel yÃ¼kÃ¼ dÃ¼ÅŸÃ¼k ama dikkat gerektiren etkinliklerle dikkatin sÃ¼rdÃ¼rÃ¼lebilirliÄŸi artÄ±rÄ±labilir.',
                        'Etkin dinleme, metin inceleme ya da gÃ¶rsel detaylara odaklanma gibi Ã§alÄ±ÅŸmalarda ayrÄ±ntÄ± fark etme becerisi geliÅŸtirilebilir.',
                        'AyrÄ±ca, dikkat daÄŸÄ±tÄ±cÄ± unsurlarÄ± ayÄ±rt etmeye yÃ¶nelik seÃ§ici dikkat uygulamalarÄ± da sÃ¼rece katkÄ± sunar.'
                    ]},
                    { min: 25, max: 49, recommendations: [
                        'Dikkatin belirli bir noktada toplanmasÄ±nÄ± saÄŸlamak amacÄ±yla kÄ±sa sÃ¼reli, gÃ¶rsel ve iÅŸitsel destekli etkinliklerle odaklanma baÅŸlatÄ±labilir.',
                        'GÃ¶rev sÄ±rasÄ±nda dikkat daÄŸÄ±tÄ±cÄ±larÄ±n azaltÄ±lmasÄ± ve mola sÃ¼relerinin Ã¶nceden belirlenmesi odaklanmayÄ± kolaylaÅŸtÄ±rÄ±r.',
                        'Hedefi net, kÄ±sa ve yapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revler dikkat baÅŸlatma ve sÃ¼rdÃ¼rme sÃ¼reÃ§lerini destekler.',
                        'Sesli yÃ¶nergeler, iÅŸaretlemeler ve eÅŸleÅŸtirme gibi somut desteklerle dikkat yÃ¶netimi daha iÅŸlevsel hale getirilebilir.',
                        'AyrÄ±ca, zorluk dÃ¼zeyi kademeli olarak artan dikkat Ã§alÄ±ÅŸmalarÄ±, zihinsel takibin sÃ¼rdÃ¼rÃ¼lebilmesine katkÄ± saÄŸlayabilir.'
                    ]},
                    { min: 0, max: 24, recommendations: [
                        'Dikkat dÃ¼zeyi dÃ¼ÅŸÃ¼k bireylerde, kÄ±sa sÃ¼reli ve net yÃ¶nergeler iÃ§eren gÃ¶revlerle dikkat sÃ¼resi kademeli olarak artÄ±rÄ±labilir.',
                        'Dikkat daÄŸÄ±tÄ±cÄ±larÄ±n azaltÄ±ldÄ±ÄŸÄ± ortamlarda yapÄ±lan etkinlikler odaklanmayÄ± kolaylaÅŸtÄ±rÄ±r.',
                        'GÃ¶rsel ve iÅŸitsel ipuÃ§larÄ±yla desteklenen Ã§alÄ±ÅŸmalar dikkat yÃ¶nlendirmesini saÄŸlayabilir.',
                        'BiliÅŸsel beceri geliÅŸtiren egzersizlerle seÃ§ici dikkat pekiÅŸtirilebilir.',
                        'AyrÄ±ca adÄ±m adÄ±m ilerleyen ve yÃ¶nerge takibini destekleyen yapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revlerle dikkat ve odaklanma becerisi geliÅŸtirilebilir.'
                    ]}
                ]
            },
            hafiza_skoru: {
                ranges: [
                    { min: 75, max: 100, recommendations: [
                        'HafÄ±za becerisi gÃ¼Ã§lÃ¼ bireylerde, kavramsal bÃ¼tÃ¼nlÃ¼k gerektiren metinler ve Ã¼st dÃ¼zey analiz gerektiren iÃ§eriklerle Ã§alÄ±ÅŸma, hafÄ±zayÄ± daha ileri dÃ¼zeyde kullanma fÄ±rsatÄ± sunar.',
                        'YazÄ±lÄ±, iÅŸitsel ve gÃ¶rsel Ã¶gelerin bir arada kullanÄ±ldÄ±ÄŸÄ± Ã§oklu kodlama teknikleri, bilgilerin kalÄ±cÄ±lÄ±ÄŸÄ±nÄ± artÄ±rabilir.',
                        'Bilgiler arasÄ± anlam iliÅŸkileri kurularak yapÄ±lan Ã¶ÄŸrenmeyi gÃ¼Ã§lendirir.',
                        'AralÄ±klÄ± tekrarlarla yapÄ±lan egzersizler uzun sÃ¼reli hafÄ±zanÄ±n gÃ¼cÃ¼nÃ¼ pekiÅŸtirir.',
                        'AyrÄ±ca, Ã¶ÄŸrendiÄŸi bilgileri sadece ezberlemekle kalmayÄ±p farklÄ± durumlarda da kullanabilmesi iÃ§in problem Ã§Ã¶zme, uygulama ve gÃ¼nlÃ¼k yaÅŸamla iliÅŸkilendirme gibi egzersizlerle bilgilerin pekiÅŸtirilmesi saÄŸlanabilir.'
                    ]},
                    { min: 50, max: 74, recommendations: [
                        'Ã–ÄŸrenilen bilgilerin hafÄ±zada daha uzun sÃ¼re kalmasÄ±nÄ± desteklemek iÃ§in dÃ¼zenli aralÄ±klarla tekrar yapÄ±lmasÄ± Ã¶nemlidir.',
                        'GÃ¶rselleÅŸtirme, hikayeleÅŸtirme gibi zihinsel imgelerle anlatÄ±lan bilgiler daha kolay hatÄ±rlanabilir.',
                        'Benzerlik kurma ve kavramsal baÄŸlantÄ±lar oluÅŸturma gibi iliÅŸkisel Ã¶ÄŸrenme yÃ¶ntemleri, yeni bilgilerin Ã¶ncekilerle bÃ¼tÃ¼nleÅŸmesini saÄŸlar.',
                        'Ã–ÄŸrenilen bilgileri kendi cÃ¼mleleriyle Ã¶zetlemesi ve baÅŸkasÄ±na anlatmasÄ± hatÄ±rlamayÄ± kolaylaÅŸtÄ±rÄ±r.',
                        'AyrÄ±ca dikkatli ve yÃ¶nlendirilmiÅŸ biÃ§imde yapÄ±lan kodlama Ã§alÄ±ÅŸmalarÄ± (Ã¶rneÄŸin altÄ± Ã§izili, vurgulu, Ã¶rnekli iÃ§eriklerle sunum) bilgilerin hafÄ±zada zihinsel temsillerle yer etmesini destekler.'
                    ]},
                    { min: 25, max: 49, recommendations: [
                        'GÃ¶rsel destekli tekrarlar (ÅŸema, tablo, resim vb.) ve kÄ±sa aralÄ±klarla yapÄ±lan tekrarlar bilgilerin unutulmadan pekiÅŸmesini saÄŸlar.',
                        'Bilgilerin madde madde sÄ±nÄ±flandÄ±rÄ±lmasÄ±, kavram haritasÄ± Ã§Ä±karÄ±lmasÄ± ve sesli ya da yazÄ±lÄ± ÅŸekilde tekrar edilmesi, geri Ã§aÄŸÄ±rmayÄ± kolaylaÅŸtÄ±rabilir.',
                        'Yeni bilgiler kÃ¼Ã§Ã¼k parÃ§alara bÃ¶lÃ¼nerek Ã¶ÄŸrenildiÄŸinde hem zihinsel yÃ¼k azalÄ±r hem de hafÄ±zanÄ±n kapasitesi zorlanmadan desteklenmiÅŸ olur.'
                    ]},
                    { min: 0, max: 24, recommendations: [
                        'Bilgilerin tanÄ±dÄ±k nesne, kiÅŸi ve olaylarla iliÅŸkilendirilmesi, hatÄ±rlamayÄ± kolaylaÅŸtÄ±rabilir.',
                        'Tek seferde fazla bilgi sunmak yerine, bilgi kÄ±sa, sade ve adÄ±m adÄ±m verilmelidir.',
                        'GÃ¶rsel ve iÅŸitsel desteklerle yapÄ±lan tekrarlar; doÄŸru pekiÅŸtirme bildirimleriyle birlikte uygulandÄ±ÄŸÄ±nda Ã¶ÄŸrenmeyi destekleyebilir.',
                        'Bu bireylerde hafÄ±za sÃ¼reci, zamanÄ±nda yapÄ±landÄ±rÄ±lmÄ±ÅŸ tekrar rutinleriyle ve somutlaÅŸtÄ±rÄ±lmÄ±ÅŸ Ã¶rneklerle daha etkili hale getirilebilir.'
                    ]}
                ]
            },
            isleme_hizi_skoru: {
                ranges: [
                    { min: 75, max: 100, recommendations: [
                        'Zaman baskÄ±sÄ± altÄ±nda dikkat gerektiren gÃ¶revler (Ã¶rneÄŸin sÃ¼reli testler, refleks temelli uygulamalar) ile hÄ±zlÄ± karar verme ve tepki sÃ¼resi desteklenebilir.',
                        'Grafik okuma, tablo yorumlama ve bilgi tarama gibi akademik iÃ§erikler hÄ±zla iÅŸlemleme becerisini pekiÅŸtirir.',
                        'Problem Ã§Ã¶zme iÃ§eren Ã§ok adÄ±mlÄ± gÃ¶revlerde sÃ¼re sÄ±nÄ±rÄ± eklenerek hÄ±zla birlikte biliÅŸsel esneklik geliÅŸtirilebilir.',
                        'Bilgiyi organize etme ve sunma gibi Ã¼retken gÃ¶revlerde de iÅŸlemleme hÄ±zÄ±ndan faydalanÄ±labilir.'
                    ]},
                    { min: 50, max: 74, recommendations: [
                        'KÄ±sa sÃ¼reli ve tekrar edilebilir gÃ¶revlerle bilgiye hÄ±zlÄ±ca eriÅŸme ve tepki verme becerisi geliÅŸtirilebilir.',
                        'Ä°ÅŸitsel ve gÃ¶rsel ipuÃ§larÄ±yla desteklenen uygulamalar, dikkati sÃ¼rdÃ¼rmeye yardÄ±mcÄ± olurken iÅŸlem sÃ¼resini hÄ±zlandÄ±rÄ±r.',
                        'Grafik ve tablo okuma gibi yapÄ±landÄ±rÄ±lmÄ±ÅŸ gÃ¶revler, sÃ¼re baskÄ±sÄ± iÃ§ermeyen ÅŸekilde sunularak hÄ±zÄ±n kademeli geliÅŸimi desteklenebilir.',
                        'AyrÄ±ca, kÃ¼Ã§Ã¼k problem Ã§Ã¶zme adÄ±mlarÄ±yla yapÄ±landÄ±rÄ±lmÄ±ÅŸ akademik gÃ¶revlerde hÄ±z ve doÄŸruluk dengesi kurularak iÅŸlemleme becerisi gÃ¼Ã§lendirilebilir.'
                    ]},
                    { min: 25, max: 49, recommendations: [
                        'Bilgiye eriÅŸim sÃ¼reci, sÃ¼re baskÄ±sÄ± olmadan yapÄ±lan tekrarlarla desteklenebilir.',
                        'KÃ¼Ã§Ã¼k adÄ±mlarla ilerlenen alÄ±ÅŸtÄ±rmalar, iÅŸlem sÃ¼recinin gÃ¼venle sÃ¼rdÃ¼rÃ¼lmesini saÄŸlar.',
                        'GÃ¶rsel destekli yÃ¶nergeler ve adÄ±m adÄ±m rehberlik iÃ§eren uygulamalar, bilgiyi tanÄ±ma ve tepki verme sÃ¼resini kademeli olarak hÄ±zlandÄ±rabilir.',
                        'SÄ±ralama, sÄ±nÄ±flama ve eÅŸleÅŸtirme gibi dÃ¼ÅŸÃ¼k biliÅŸsel yÃ¼k iÃ§eren gÃ¶revler, iÅŸlemleme hÄ±zÄ±nÄ±n temel basamaklarÄ±nÄ± destekler.',
                        'AyrÄ±ca zihinsel iÅŸlem basamaklarÄ±nÄ± fark ettiren etkinliklerle Ã¶ÄŸrencinin sÃ¼reci tanÄ±ma becerisi pekiÅŸtirilebilir.'
                    ]},
                    { min: 0, max: 24, recommendations: [
                        'Bilgiyi algÄ±lama ve yanÄ±t verme sÃ¼reci genellikle yavaÅŸtÄ±r. Bu nedenle yazÄ±lÄ± yÃ¶nergelere ek olarak, gÃ¶rsellerle desteklenmiÅŸ aÃ§Ä±k ve sade yÃ¶nergeler kullanÄ±lmalÄ±dÄ±r.',
                        'Zaman baskÄ±sÄ± iÃ§ermeyen, yapÄ±landÄ±rÄ±lmÄ±ÅŸ ve tekrarlanabilir gÃ¶revlerle bilgiye eriÅŸim kolaylaÅŸtÄ±rÄ±labilir.',
                        'TanÄ±dÄ±k iÃ§eriklere dayalÄ± sÄ±nÄ±flama, eÅŸleÅŸtirme ve adÄ±m adÄ±m sÄ±ralama gibi gÃ¶revler, sÃ¼reci anlaÅŸÄ±lÄ±r kÄ±larak iÅŸlem hÄ±zÄ±nÄ±n temellerini atar.',
                        'AyrÄ±ca, Ã§ok adÄ±mlÄ± gÃ¶revler kÃ¼Ã§Ã¼k parÃ§alara bÃ¶lÃ¼nerek uygulandÄ±ÄŸÄ±nda hem gÃ¼ven duygusu hem hÄ±z geliÅŸimi desteklenebilir.'
                    ]}
                ]
            },
            gorsel_isleme_skoru: {
                ranges: [
                    { min: 75, max: 100, recommendations: [
                        'GÃ¶rselleÅŸtirme becerisi gÃ¼Ã§lÃ¼ olan bireylerde, Ã§ok adÄ±mlÄ± gÃ¶rsel bilgiyi analiz etmeyi gerektiren gÃ¶revler (Ã¶rneÄŸin harita okuma, ÅŸekil-yerleÅŸtirme, ÅŸematik dÃ¼zenleme) Ã¼st dÃ¼zey gÃ¶rsel akÄ±l yÃ¼rÃ¼tmeyi destekleyebilir.',
                        'FarklÄ± aÃ§Ä±lardan bakmayÄ± ve detaylara dikkat etmeyi gerektiren uygulamalar (Ã¶rneÄŸin ÅŸekil tamamlama, desen oluÅŸturma, diyagram analizi) bu beceriyi daha ileri seviyeye taÅŸÄ±yabilir.',
                        'Grafik, ÅŸekil ve tablo gibi gÃ¶rsel verilerin yorumlandÄ±ÄŸÄ± gÃ¶revlerde hem bÃ¼tÃ¼nsel hem parÃ§aya odaklÄ± analiz yapma becerisi gÃ¼Ã§lenir.',
                        'Soyut gÃ¶rsel bilgiyi organize etmeyi gerektiren Ã§alÄ±ÅŸmalar (Ã¶rneÄŸin kavram haritasÄ±, zihin haritasÄ±) bireyin anlam kurma sÃ¼reÃ§lerini derinleÅŸtirebilir.'
                    ]},
                    { min: 50, max: 74, recommendations: [
                        'GÃ¶rsel verileri dikkatle incelemeyi gerektiren Ã§alÄ±ÅŸmalar (Ã¶rneÄŸin tablo, grafik, ÅŸekil gibi) ile ayrÄ±ntÄ±lara odaklanma becerisi desteklenebilir.',
                        'GÃ¶rsel yÃ¶nergeler iÃ§eren gÃ¶revlerde, her bir adÄ±mÄ±n aÃ§Ä±k ÅŸekilde aÃ§Ä±klanmasÄ± ve uygulama sÄ±rasÄ±nda yÃ¶nlendirilmesi, sÃ¼reci daha anlaÅŸÄ±lÄ±r hÃ¢le getirir.',
                        'Harita, diyagram ve ÅŸekil yorumlama etkinlikleri Ã¶nce genel yapÄ±dan baÅŸlanarak adÄ±m adÄ±m analizle sÃ¼rdÃ¼rÃ¼ldÃ¼ÄŸÃ¼nde gÃ¶rsel bilgiyi anlamlandÄ±rma sÃ¼reci pekiÅŸtirilebilir.',
                        'AyrÄ±ca, gÃ¶rsel materyallerle sunulan bilgilerin sÃ¶zel aÃ§Ä±klamalarla desteklenmesi hem iÅŸitsel hem gÃ¶rsel temsil sistemlerinin birlikte Ã§alÄ±ÅŸmasÄ±nÄ± saÄŸlayarak anlamÄ± gÃ¼Ã§lendirebilir.'
                    ]},
                    { min: 25, max: 49, recommendations: [
                        'GÃ¶rsel ayrÄ±ntÄ±lara odaklanmayÄ± desteklemek iÃ§in, benzer gÃ¶rseller arasÄ±nda belirli Ã¶zelliklere gÃ¶re ayrÄ±m yapmayÄ± gerektiren Ã§alÄ±ÅŸmalara yer verilebilir.',
                        'Bu sÃ¼reÃ§lerde, dikkat edilmesi gereken ipuÃ§larÄ±nÄ±n aÃ§Ä±kÃ§a belirtilmesi ve iÅŸlem sÄ±ralamasÄ±nÄ±n net ÅŸekilde sunulmasÄ±, anlamlÄ± bir odaklanma sÃ¼reci saÄŸlar.',
                        'GÃ¶rsel iÃ§eriklerin sade, az detaylÄ± ve dikkat daÄŸÄ±tÄ±cÄ± unsurlardan arÄ±ndÄ±rÄ±lmÄ±ÅŸ biÃ§imde yapÄ±landÄ±rÄ±lmasÄ±; temel yÃ¶n, konum ve biÃ§im iliÅŸkilerinin kavranmasÄ±na yÃ¶nelik etkinliklerle desteklendiÄŸinde, gÃ¶rsel anlam kurma sÃ¼reÃ§leri gÃ¼Ã§lendirilebilir.'
                    ]},
                    { min: 0, max: 24, recommendations: [
                        'GÃ¶rsel bilgileri ayÄ±rt etme ve takip etme becerisi sÄ±nÄ±rlÄ± olan bireylerde, benzer ve farklÄ± Ã¶zelliklerin anlaÅŸÄ±lmasÄ±nÄ± kolaylaÅŸtÄ±ran gÃ¶rsel Ã§alÄ±ÅŸmalarla temel gÃ¶rsel ayrÄ±m becerisi desteklenebilir.',
                        'GÃ¶rsel Ã¶gelerin (ÅŸekil, simge, yÃ¶n, dizi vb.) dÃ¼zenli bir yapÄ± iÃ§inde sunulmasÄ±, tanÄ±ma ve sÄ±ralama sÃ¼reÃ§lerini yapÄ±landÄ±rÄ±r.',
                        'GÃ¶rsel dikkat ve dÃ¼zen algÄ±sÄ±nÄ± geliÅŸtirmek iÃ§in, basitten karmaÅŸÄ±ÄŸa ilerleyen Ã§alÄ±ÅŸmalarda ÅŸekiller arasÄ± iliÅŸki kurma ve gÃ¶rsel yÃ¶nergelere dayalÄ± uygulama adÄ±mlarÄ±nÄ± takip etme becerileri Ã¶nceliklendirilebilir.',
                        'AyrÄ±ca gÃ¶rsel materyallerin sadeleÅŸtirilmiÅŸ, belirgin ve yÃ¶nlendirici biÃ§imde sunulmasÄ±, anlam kurmayÄ± ve gÃ¶rsel organizasyonu kolaylaÅŸtÄ±rÄ±r.'
                    ]}
                ]
            },
            akil_mantik_yurutme_skoru: {
                ranges: [
                    { min: 75, max: 100, recommendations: [
                        'AkÄ±l yÃ¼rÃ¼tme becerisi gÃ¼Ã§lÃ¼ bireylerde, Ã§ok adÄ±mlÄ± problem Ã§Ã¶zme sÃ¼reÃ§lerini iÃ§eren gÃ¶revler farklÄ± Ã§Ã¶zÃ¼m yollarÄ± Ã¼retme becerisini geliÅŸtirebilir.',
                        'Neden-sonuÃ§ iliÅŸkileri kurmayÄ± gerektiren aÃ§Ä±klama ve deÄŸerlendirme etkinlikleri (Ã¶rneÄŸin "sence neden bÃ¶yle oldu?" gibi) dÃ¼ÅŸÃ¼nsel derinliÄŸi artÄ±rabilir.',
                        'Grafik, tablo ve veri yorumlama gibi karÅŸÄ±laÅŸtÄ±rma ve analiz temelli uygulamalarla mantÄ±ksal dÃ¼zenleme yetisi desteklenebilir.',
                        'Soyut akÄ±l yÃ¼rÃ¼tme gerektiren kelime-sayÄ± dizileri ya da stratejiye dayalÄ± mantÄ±k oyunlarÄ±, biliÅŸsel esnekliÄŸi artÄ±rarak bireyin Ã§ok yÃ¶nlÃ¼ dÃ¼ÅŸÃ¼nme becerisini pekiÅŸtirebilir.'
                    ]},
                    { min: 50, max: 74, recommendations: [
                        'GÃ¼nlÃ¼k yaÅŸamdan Ã¶rnekler kullanÄ±larak olaylar arasÄ±ndaki nedenâ€“sonuÃ§ iliÅŸkilerini kurma becerisi desteklenebilir.',
                        'FarklÄ± durumlar karÅŸÄ±sÄ±nda mantÄ±klÄ± Ã§Ä±karÄ±mlar yapabilmesini saÄŸlamak iÃ§in, "hangi bilgi eksik?", "bu olaydan sonra ne olurdu?" gibi sorularla dÃ¼ÅŸÃ¼nme sÃ¼reci yÃ¶nlendirilebilir.',
                        'Problem Ã§Ã¶zme egzersizleri ile sÄ±raya koyma ve Ã§Ã¶zÃ¼m yollarÄ±nÄ± organize etme becerisi geliÅŸtirilebilir.',
                        'Gruplama, karÅŸÄ±laÅŸtÄ±rma ve benzerlikâ€“farklÄ±lÄ±k gibi analiz Ã§alÄ±ÅŸmalarÄ± biliÅŸsel esnekliÄŸi artÄ±rarak akÄ±l yÃ¼rÃ¼tme sÃ¼reÃ§lerine katkÄ± saÄŸlayabilir.'
                    ]},
                    { min: 25, max: 49, recommendations: [
                        'AkÄ±l ve mantÄ±k yÃ¼rÃ¼tme becerisini desteklemek amacÄ±yla gÃ¼nlÃ¼k yaÅŸamdan alÄ±nan basit ve somut Ã¶rneklerle karar verme sÃ¼reÃ§leri yapÄ±landÄ±rÄ±labilir.',
                        '"EÄŸerâ€¦ iseâ€¦" gibi temel neden-sonuÃ§ kalÄ±plarÄ±yla dÃ¼ÅŸÃ¼nme adÄ±mlarÄ± pekiÅŸtirilebilir.',
                        'DoÄŸru-yanlÄ±ÅŸ karÅŸÄ±laÅŸtÄ±rmalarÄ± iÃ§eren egzersizler ile seÃ§enekleri deÄŸerlendirme becerisi geliÅŸtirilebilir.'
                    ]},
                    { min: 0, max: 24, recommendations: [
                        'AkÄ±l ve mantÄ±k yÃ¼rÃ¼tme adÄ±mlarÄ±nÄ± belirginleÅŸtiren Ã§alÄ±ÅŸmalar faydalÄ± olabilir.',
                        'Somut Ã¶rnekler ve gÃ¶rsellerle desteklenen uygulamalar hangi bilginin hangi kararla iliÅŸkili olduÄŸunu fark etmeyi kolaylaÅŸtÄ±rÄ±r.',
                        'Verilen seÃ§enekleri karÅŸÄ±laÅŸtÄ±rarak deÄŸerlendirmeyi iÃ§eren egzersizler ayÄ±rt etme ve karar verme becerisini destekleyebilir.'
                    ]}
                ]
            },
            bilissel_esneklik_skoru: {
                ranges: [
                    { min: 75, max: 100, recommendations: [
                        'FarklÄ± kural ve strateji gerektiren gÃ¶revler arka arkaya verilerek bireyin gÃ¶rev geÃ§iÅŸlerinde esneklik ve uyum becerisi desteklenebilir.',
                        'Problem Ã§Ã¶zme egzersizleri ile farklÄ± dÃ¼ÅŸÃ¼nme yollarÄ± geliÅŸtirilmesi saÄŸlanabilir.',
                        'Rol deÄŸiÅŸimi iÃ§eren grup Ã§alÄ±ÅŸmalarÄ± ve deÄŸiÅŸen kurallarla oynanan strateji oyunlarÄ± biliÅŸsel esnekliÄŸi artÄ±rabilir.',
                        'Planlama, uygulama ve deÄŸerlendirme adÄ±mlarÄ±nÄ± iÃ§eren karmaÅŸÄ±k gÃ¶revlerde bireye aktif sorumluluk verilerek farklÄ± iÅŸlevler arasÄ±nda geÃ§iÅŸ yapma pratiÄŸi kazandÄ±rÄ±labilir.'
                    ]},
                    { min: 50, max: 74, recommendations: [
                        'Benzer gÃ¶revlerde kural deÄŸiÅŸiklikleri yapÄ±larak bireyin yeni kurallara uyum saÄŸlamasÄ± desteklenebilir.',
                        'GÃ¶rev geÃ§iÅŸlerinde, Ã¶nceki ve yeni kural arasÄ±ndaki farklarÄ± aÃ§Ä±klamasÄ± istenerek karÅŸÄ±laÅŸtÄ±rmalÄ± dÃ¼ÅŸÃ¼nme becerisi geliÅŸtirilebilir.',
                        'Kademeli olarak artan karmaÅŸÄ±klÄ±ÄŸa sahip problem Ã§Ã¶zme Ã§alÄ±ÅŸmalarÄ±yla alternatif dÃ¼ÅŸÃ¼nme yollarÄ± oluÅŸturmasÄ± teÅŸvik edilebilir.',
                        'YÃ¶nergeler arasÄ±nda geÃ§iÅŸ yapmayÄ± gerektiren gÃ¶revlerde adÄ±m adÄ±m rehberlik sunulmasÄ±; karÅŸÄ±laÅŸtÄ±ÄŸÄ± engelleri farklÄ± yollarla aÅŸmasÄ± iÃ§in yÃ¶nlendirici sorularla dÃ¼ÅŸÃ¼nme sÃ¼recinin desteklenmesi biliÅŸsel esnekliÄŸi artÄ±rabilir.'
                    ]},
                    { min: 25, max: 49, recommendations: [
                        'Kural deÄŸiÅŸiklikleri aÃ§Ä±k ve sade biÃ§imde sunularak bireyin yeni duruma uyum saÄŸlamasÄ± kolaylaÅŸtÄ±rÄ±labilir.',
                        'Beklenmedik gÃ¶rev deÄŸiÅŸimlerinde, geÃ§iÅŸ sÃ¼reci yapÄ±landÄ±rÄ±lmÄ±ÅŸ adÄ±mlarla desteklenebilir.',
                        'Karar verme sÄ±rasÄ±nda "ÅŸimdi ne yapmalÄ±yÄ±m?" gibi sorularla dÃ¼ÅŸÃ¼nme sÃ¼reci yÃ¶nlendirilebilir.',
                        'AynÄ± iÃ§eriÄŸe sahip gÃ¶revlerde kÃ¼Ã§Ã¼k deÄŸiÅŸiklikler yapÄ±larak esnek dÃ¼ÅŸÃ¼nme becerisi kademeli olarak geliÅŸtirilebilir.',
                        'AyrÄ±ca, alternatif Ã§Ã¶zÃ¼m yollarÄ±nÄ± fark etmesi iÃ§in rehber sorularla destek sunulmasÄ± biliÅŸsel esnekliÄŸin gÃ¼Ã§lenmesine katkÄ± saÄŸlayabilir.'
                    ]},
                    { min: 0, max: 24, recommendations: [
                        'GÃ¶revler Ã¶ncelikle sabit, sade ve tahmin edilebilir bir yapÄ±da sunulmalÄ±; ardÄ±ndan kÃ¼Ã§Ã¼k kural deÄŸiÅŸiklikleriyle geÃ§iÅŸler adÄ±m adÄ±m yapÄ±landÄ±rÄ±lmalÄ±dÄ±r.',
                        'Kural farklÄ±lÄ±klarÄ± aÃ§Ä±k ÅŸekilde ifade edilerek gÃ¶rsellerle desteklenebilir.',
                        '"Bu kuralla nasÄ±l oynanÄ±r?" gibi sorularla bireyin dikkatini yeni kurala yÃ¶neltmek mÃ¼mkÃ¼ndÃ¼r.',
                        'Her adÄ±mÄ± modelleme ile gÃ¶sterilen uygulamalarda bireyin farklÄ± stratejileri denemesi teÅŸvik edilebilir.',
                        'AynÄ± gÃ¶revin farklÄ± kurallarla tekrar ettirilmesi, bireyin yeni durumlara uyum saÄŸlamasÄ±nÄ± kolaylaÅŸtÄ±rabilir.'
                    ]}
                ]
            }
        };

        // Function to get score range info
        function getScoreRangeInfo(skillName, score) {
            const ranges = scoreRanges[skillName]?.ranges || [];
            return ranges.find(range => score >= range.min && score <= range.max) || 
                { level: 'Bilinmeyen', description: 'Skor aralÄ±ÄŸÄ± tanÄ±mlanmamÄ±ÅŸ.' };
        }

        // Function to get recommendations
        function getRecommendations(skillName, score) {
            const ranges = detailedRecommendations[skillName]?.ranges || [];
            const range = ranges.find(range => score >= range.min && score <= range.max);
            return range?.recommendations || ['Bu skor aralÄ±ÄŸÄ± iÃ§in Ã¶zel Ã¶neriler henÃ¼z tanÄ±mlanmamÄ±ÅŸ.'];
        }

        // Function to populate personal info
        function populatePersonalInfo() {
            const student = cognitiveData.student;
            document.querySelectorAll('.info-item').forEach(item => {
                const label = item.querySelector('.info-label').textContent;
                const valueSpan = item.querySelector('span:last-child');
                
                switch(label) {
                    case 'Ad Soyad':
                        valueSpan.textContent = student.name;
                        break;
                    case 'Cinsiyet':
                        valueSpan.textContent = student.gender;
                        break;
                    case 'YaÅŸ':
                        valueSpan.textContent = student.age;
                        break;
                    case 'DoÄŸum Tarihi':
                        valueSpan.textContent = student.birthDate;
                        break;
                    case 'DeÄŸerlendirme Tarihi':
                        valueSpan.textContent = student.evaluationDate;
                        break;
                    case 'Uygulayan':
                        valueSpan.textContent = student.evaluator;
                        break;
                }
            });
        }

        // Function to populate scores table
        function populateScoresTable() {
            const scores = cognitiveData.scores;
            const tableRows = document.querySelectorAll('.skills-table tbody tr');
            
            tableRows.forEach((row, index) => {
                const scoreCell = row.querySelector('.score-high, .score-medium, .score-low');
                if (scoreCell) {
                    let score;
                    switch(index) {
                        case 0: score = scores.dikkat_skoru; break;
                        case 1: score = scores.hafiza_skoru; break;
                        case 2: score = scores.isleme_hizi_skoru; break;
                        case 3: score = scores.gorsel_isleme_skoru; break;
                        case 4: score = scores.akil_mantik_yurutme_skoru; break;
                        case 5: score = scores.bilissel_esneklik_skoru; break;
                    }
                    
                    if (score !== undefined) {
                        scoreCell.textContent = `%${score}`;
                        
                        // Update score class based on value
                        scoreCell.className = score >= 75 ? 'score-high' : 
                                            score >= 50 ? 'score-medium' : 'score-low';
                    }
                }
            });
        }

        // Function to populate skill analysis (Page 3)
        function populateSkillAnalysis() {
            const scores = cognitiveData.scores;
            const skillAnalyses = document.querySelectorAll('.skill-analysis');
            
            // Always show skills in this fixed order
            const skillOrder = [
                'dikkat_skoru',
                'hafiza_skoru', 
                'isleme_hizi_skoru',
                'gorsel_isleme_skoru',
                'akil_mantik_yurutme_skoru',
                'bilissel_esneklik_skoru'
            ];
            
            // Update each skill analysis section
            skillOrder.forEach((skillKey, index) => {
                if (index < skillAnalyses.length && scores[skillKey] !== undefined) {
                    const skillScore = scores[skillKey];
                    const skillInfo = getScoreRangeInfo(skillKey, skillScore);
                    
                    skillAnalyses[index].querySelector('.skill-name').textContent = 
                        `${getSkillDisplayName(skillKey)} Skoru: % ${skillScore}`;
                    skillAnalyses[index].querySelector('.skill-description').textContent = skillInfo.description;
                }
            });
        }

        // Function to get display name for skills
        function getSkillDisplayName(skillKey) {
            const displayNames = {
                'dikkat_skoru': 'Dikkat',
                'hafiza_skoru': 'HafÄ±za',
                'isleme_hizi_skoru': 'Ä°ÅŸleme HÄ±zÄ±',
                'gorsel_isleme_skoru': 'GÃ¶rsel Ä°ÅŸleme',
                'akil_mantik_yurutme_skoru': 'AkÄ±l ve MantÄ±k YÃ¼rÃ¼tme',
                'bilissel_esneklik_skoru': 'BiliÅŸsel Esneklik'
            };
            return displayNames[skillKey] || skillKey;
        }

        // Function to populate recommendations (Pages 4-5)
        function populateRecommendations() {
            const scores = cognitiveData.scores;
            const recommendationBoxes = document.querySelectorAll('.recommendation-box');
            
            // Fixed order of skills matching HTML boxes order
            const skillOrder = [
                'dikkat_skoru',
                'hafiza_skoru', 
                'isleme_hizi_skoru',
                'gorsel_isleme_skoru',
                'akil_mantik_yurutme_skoru',
                'bilissel_esneklik_skoru'
            ];
            
            recommendationBoxes.forEach((box, index) => {
                if (index < skillOrder.length) {
                    const skillKey = skillOrder[index];
                    const score = scores[skillKey] || 0;
                    const recommendations = getRecommendations(skillKey, score);
                    
                    const titleElement = box.querySelector('.recommendation-title');
                    const contentElement = box.querySelector('.recommendation-content');
                    
                    if (titleElement && contentElement) {
                        titleElement.textContent = getSkillDisplayName(skillKey);
                        contentElement.innerHTML = recommendations.map(rec => `<p>â€¢ ${rec}</p>`).join('');
                    }
                }
            });
        }

        // Update 2nd page vertical bars from DB scores (Option A)
        function updateVerticalBarsFromScores() {
            const { dikkat_skoru, hafiza_skoru, isleme_hizi_skoru, gorsel_isleme_skoru, akil_mantik_yurutme_skoru, bilissel_esneklik_skoru } = cognitiveData.scores;
            const scoresArr = [
                dikkat_skoru ?? 0,
                hafiza_skoru ?? 0,
                isleme_hizi_skoru ?? 0,
                gorsel_isleme_skoru ?? 0,
                akil_mantik_yurutme_skoru ?? 0,
                bilissel_esneklik_skoru ?? 0
            ];

            // Target only the vertical bar chart on Page 2
            const barItems = document.querySelectorAll('.page:nth-of-type(2) .vertical-bar-chart .bar-item');

            // Decide max height based on current CSS height of container, fallback to 200
            const container = document.querySelector('.page:nth-of-type(2) .vertical-bar-chart');
            let maxHeight = 200;
            if (container) {
                const computed = window.getComputedStyle(container);
                const h = parseInt(computed.height, 10);
                if (!isNaN(h) && h > 0) {
                    // Leave some headroom for value labels
                    maxHeight = Math.max(120, h - 60);
                }
            }

            barItems.forEach((item, idx) => {
                const bar = item.querySelector('.bar');
                const val = item.querySelector('.bar-value');
                const score = Math.max(0, Math.min(100, Number(scoresArr[idx] || 0)));
                const heightPx = Math.round((score / 100) * maxHeight);

                if (val) {
                    val.textContent = `%${score}`;
                }

                if (bar) {
                    // Set color class by ranges
                    bar.classList.remove('bar-high', 'bar-medium', 'bar-low');
                    if (score >= 75) bar.classList.add('bar-high');
                    else if (score >= 50) bar.classList.add('bar-medium');
                    else bar.classList.add('bar-low');

                    // Reset height to animate from 0
                    bar.style.height = '0px';
                    bar.setAttribute('data-height', String(heightPx));
                }
            });
        }

        // Function to load data from Supabase database
        async function loadCognitiveData(sessionId) {
            if (!sessionId) {
                logger.error('âŒ Session ID is required');
                alert('Session ID gerekli!');
                return false;
            }

            logger.log('ğŸ” Loading cognitive data for session ID:', sessionId);
            
            try {
                // Initialize Supabase client
                const supabaseUrl = 'https://gamjzzomkosvqhficabt.supabase.co';
                const supabaseKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdhbWp6em9ta29zdnFoZmljYWJ0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTI4ODc3MDAsImV4cCI6MjA2ODQ2MzcwMH0.r8KkywdhNSP1hxzSAlKo8SB5jOEb0KQRUBfZ9Va0p9I';
                
                // Create Supabase client (using CDN version)
                const { createClient } = window.supabase;
                const supabase = createClient(supabaseUrl, supabaseKey);
                
                logger.log('ğŸ”— Supabase client initialized');
                
                // Optimized single query - try both id and session_id at once
                logger.log('ğŸ” Fetching cognitive data...');
                
                const { data: cognitiveResults, error: cognitiveError } = await supabase
                    .from('cognitive_test_result')
                    .select(`
                        *,
                        student:student_id(id, first_name, last_name, demographic_info),
                        conductor:conducted_by(id, first_name, last_name)
                    `)
                    .or(`id.eq.${sessionId},session_id.eq.${sessionId}`)
                    .limit(1);
                
                const cognitiveResult = cognitiveResults?.[0] || null;
                
                if (cognitiveResult) {
                    logger.log('âœ… Found cognitive data for:', sessionId);
                } else {
                    logger.warn('âš ï¸ No cognitive data found for:', sessionId);
                }
                
                if (cognitiveError) {
                    logger.error('âŒ Error fetching cognitive data:', cognitiveError);
                    logger.warn('Falling back to sample data');
                    return false;
                }
                
                if (!cognitiveResult) {
                    logger.error('âŒ No cognitive data found for session:', sessionId);
                    alert('Bu session ID iÃ§in rapor bulunamadÄ±. LÃ¼tfen geÃ§erli bir session ID kullanÄ±n.');
                    return false;
                }
                
                logger.log('âœ… Raw cognitive data loaded:', cognitiveResult);
                
                // STEP 1: Update cognitive scores with database values
                logger.log('ğŸ“Š Updating cognitive scores...');
                cognitiveData.scores = {
                    dikkat_skoru: cognitiveResult.dikkat_skoru || 0,
                    hafiza_skoru: cognitiveResult.hafiza_skoru || 0,
                    isleme_hizi_skoru: cognitiveResult.isleme_hizi_skoru || 0,
                    gorsel_isleme_skoru: cognitiveResult.gorsel_isleme_skoru || 0,
                    akil_mantik_yurutme_skoru: cognitiveResult.akil_mantik_yurutme_skoru || 0,
                    bilissel_esneklik_skoru: cognitiveResult.bilissel_esneklik_skoru || 0
                };
                logger.log('âœ… Scores updated:', cognitiveData.scores);
                
                // STEP 2: Update student and conductor info from database (directly from users)
                logger.log('ğŸ‘¤ Updating student and conductor info...');
                const studentInfo = cognitiveResult.student;
                const conductorInfo = cognitiveResult.conductor;

                // Deep log objects to inspect shapes
                try {
                    logger.log('ğŸ§© cognitiveResult keys:', Object.keys(cognitiveResult || {}));
                } catch(_) {}
                logger.log('ğŸ§© raw studentInfo:', studentInfo);
                logger.log('ğŸ§© raw conductorInfo:', conductorInfo);
                
                if (studentInfo) {
                    logger.log('ğŸ“ Processing student info:', studentInfo);
                    
                    // Parse demographic info if it exists
                    let demographicInfo = {};
                    if (studentInfo.demographic_info) {
                        try {
                            demographicInfo = typeof studentInfo.demographic_info === 'string' 
                                ? JSON.parse(studentInfo.demographic_info) 
                                : studentInfo.demographic_info;
                            logger.log('âœ… Demographic info parsed:', demographicInfo);
                        } catch (e) {
                            logger.warn('âš ï¸ Failed to parse demographic_info:', e);
                        }
                    } else {
                        logger.log('â„¹ï¸ No demographic_info on studentInfo');
                    }
                    
                    // Calculate age from birth_date
                    const birthDate = demographicInfo.birth_date ? new Date(demographicInfo.birth_date) : new Date('1990-01-01');
                    const today = new Date();
                    const ageInMs = today - birthDate;
                    const ageInYears = Math.floor(ageInMs / (365.25 * 24 * 60 * 60 * 1000));
                    const ageInMonths = Math.floor((ageInMs % (365.25 * 24 * 60 * 60 * 1000)) / (30.44 * 24 * 60 * 60 * 1000));
                    const ageInDays = Math.floor((ageInMs % (30.44 * 24 * 60 * 60 * 1000)) / (24 * 60 * 60 * 1000));
                    
                    // Uygulayan bilgisini users tablosundan user.supervisor_id ile al
                    let evaluatorName = '';
                    
                    try {
                        // Ã–nce Ã¶ÄŸrenci user bilgisini al, sonra onun supervisor_id'sini kullan
                        if (studentInfo && studentInfo.id) {
                            logger.log('ğŸ” Fetching user info for student_id:', studentInfo.id);
                            
                            const { data: userData, error: userErr } = await supabase
                                .from('users')
                                .select('id, supervisor_id')
                                .eq('id', studentInfo.id)
                                .single();
                                
                            if (userErr) {
                                logger.warn('âš ï¸ User lookup error:', userErr);
                            } else if (userData && userData.supervisor_id) {
                                logger.log('ğŸ” Fetching evaluator from user.supervisor_id:', userData.supervisor_id);
                                
                                const { data: supervisorData, error: supervisorErr } = await supabase
                                    .from('users')
                                    .select('id, first_name, last_name')
                                    .eq('id', userData.supervisor_id)
                                    .single();
                                    
                                if (supervisorErr) {
                                    logger.warn('âš ï¸ Supervisor lookup error:', supervisorErr);
                                } else if (supervisorData) {
                                    evaluatorName = `${supervisorData.first_name || ''} ${supervisorData.last_name || ''}`.trim();
                                    logger.log('âœ… Evaluator found via user.supervisor_id:', evaluatorName);
                                }
                            } else {
                                logger.warn('âš ï¸ No supervisor_id found in user data');
                            }
                        } else {
                            logger.warn('âš ï¸ No student ID found');
                        }
                    } catch (e) {
                        logger.warn('âš ï¸ Failed to fetch evaluator from user.supervisor_id:', e);
                    }

                    cognitiveData.student = {
                        name: `${studentInfo.first_name || ''} ${studentInfo.last_name || ''}`.trim() || 'Bilinmeyen',
                        gender: demographicInfo.gender || 'BelirtilmemiÅŸ',
                        age: `${ageInYears} YÄ±l ${ageInMonths} Ay ${ageInDays} GÃ¼n`,
                        birthDate: birthDate.toLocaleDateString('tr-TR'),
                        evaluationDate: new Date(cognitiveResult.test_start_time || cognitiveResult.created_at).toLocaleDateString('tr-TR'),
                        evaluator: evaluatorName || 'Sistem'
                    };
                    logger.log('âœ… Student info updated:', cognitiveData.student);
                } else {
                    logger.warn('âš ï¸ No student info found in database result');
                }
                
                // STEP 3: Parse alt_test_ozetleri for dynamic recommendations and score ranges
                logger.log('ğŸ“‹ Processing alt_test_ozetleri...');
                if (cognitiveResult.alt_test_ozetleri) {
                    try {
                        const altTestOzetleri = typeof cognitiveResult.alt_test_ozetleri === 'string' 
                            ? JSON.parse(cognitiveResult.alt_test_ozetleri) 
                            : cognitiveResult.alt_test_ozetleri;
                        
                        logger.log('ğŸ“Š Parsed alt_test_ozetleri:', altTestOzetleri);
                        
                        // Update scoreRanges and detailedRecommendations if available
                        if (altTestOzetleri.scoreRanges) {
                            scoreRanges = altTestOzetleri.scoreRanges;
                            logger.log('âœ… Updated scoreRanges from database');
                        }
                        
                        if (altTestOzetleri.detailedRecommendations) {
                            detailedRecommendations = altTestOzetleri.detailedRecommendations;
                            logger.log('âœ… Updated detailedRecommendations from database');
                        }
                        
                        // If alt_test_ozetleri contains individual test summaries, use them
                        if (altTestOzetleri.dikkat || altTestOzetleri.hafiza || altTestOzetleri.stroop || altTestOzetleri.puzzle || altTestOzetleri.akil_mantik) {
                            logger.log('ğŸ“‹ Individual test summaries found in alt_test_ozetleri');
                            // These could be used for more detailed analysis if needed
                        }
                        
                    } catch (parseError) {
                        logger.warn('âš ï¸ Could not parse alt_test_ozetleri:', parseError);
                    }
                } else {
                    logger.log('â„¹ï¸ No alt_test_ozetleri found, using default recommendations');
                }
                
                // STEP 4: Refresh all displays with new data
                logger.log('ğŸ”„ Refreshing all displays with database data...');
                populateAllData();
                
                logger.log('ğŸ‰ Cognitive data successfully loaded and all displays updated!');
                
                // Hide loading overlay and show content
                const loadingOverlay = document.getElementById('loadingOverlay');
                if (loadingOverlay) {
                    loadingOverlay.style.display = 'none';
                }
                document.body.classList.add('loaded');
                
                return true;
                
            } catch (error) {
                logger.error('âŒ Critical error loading cognitive data:', error);
                alert('Rapor yÃ¼klenirken kritik bir hata oluÅŸtu: ' + error.message);
                return false;
            }
        }

        // Function to populate all dynamic data
        // Optimized chart cleanup with throttling
        const destroyAllCharts = (() => {
            let isDestroying = false;
            return function() {
                if (isDestroying) return;
                isDestroying = true;
                
                setTimeout(() => {
                    try {
                        // Efficiently destroy charts by ID
                        ['barChart', 'radarChart', 'verticalBarChart'].forEach(id => {
                            const chart = Chart.getChart(id);
                            if (chart && typeof chart.destroy === 'function') {
                                chart.destroy();
                            }
                        });
                        
                        // Clean up instance references
                        [barChartInstance, radarChartInstance].forEach(instance => {
                            if (instance && typeof instance.destroy === 'function') {
                                try { instance.destroy(); } catch(_) { /* ignore */ }
                            }
                        });
                        
                        barChartInstance = null;
                        radarChartInstance = null;
                    } catch (e) {
                        logger.warn('Chart cleanup error:', e);
                    } finally {
                        isDestroying = false;
                    }
                }, 10); // Small delay to prevent rapid destruction
            };
        })();

        // Optimized population function with batched updates
        function populateAllData() {
            // Batch DOM updates for better performance
            requestAnimationFrame(() => {
                try {
                    // Step 1: Update data elements
                    populatePersonalInfo();
                    populateScoresTable();
                    populateSkillAnalysis();
                    
                    // Step 2: Handle recommendations in next frame
                    requestAnimationFrame(() => {
                        populateRecommendations();
                        
                        // Step 3: Update charts in final frame
                        requestAnimationFrame(() => {
                            try {
                                // Update page-2 vertical bars from DB scores and animate
                                updateVerticalBarsFromScores();
                                animateVerticalBars();
                                
                                // Destroy all charts before recreating to avoid "canvas already in use"
                                destroyAllCharts();
                                
                                // Update charts with real database data
                                logger.log('ğŸ“ˆ Updating charts with database data...');
                                createRadarChart(); // Update radar chart with real data
                                logger.log('âœ… Charts updated with database data');
                            } catch (chartError) {
                                logger.error('Chart creation error:', chartError);
                            }
                        });
                    });
                } catch (error) {
                    logger.error('Data population error:', error);
                }
            });
        }

        // Chart creation functions
        function createVerticalBarChart() {
            const ctx = document.getElementById('verticalBarChart');
            if (ctx) {
                // Safely destroy existing chart if it exists
                try {
                    if (barChartInstance && typeof barChartInstance.destroy === 'function') {
                        barChartInstance.destroy();
                    }
                } catch (e) {
                    console.warn('Warning destroying bar chart instance:', e);
                }
                
                // Also guard against any globally registered chart on this canvas id
                try {
                    const existing = Chart.getChart('verticalBarChart');
                    if (existing && typeof existing.destroy === 'function') {
                        existing.destroy();
                    }
                } catch (e) {
                    console.warn('Warning destroying existing vertical bar chart:', e);
                }

                const scores = cognitiveData.scores;
                barChartInstance = new Chart(ctx, {
                    type: 'bar',
                    data: {
                        labels: ['Dikkat', 'HafÄ±za', 'Ä°ÅŸleme HÄ±zÄ±', 'GÃ¶rsel Ä°ÅŸleme', 'AkÄ±l YÃ¼rÃ¼tme', 'BiliÅŸsel Esneklik'],
                        datasets: [{
                            data: [
                                scores.dikkat_skoru,
                                scores.hafiza_skoru,
                                scores.isleme_hizi_skoru,
                                scores.gorsel_isleme_skoru,
                                scores.akil_mantik_yurutme_skoru,
                                scores.bilissel_esneklik_skoru
                            ],
                            backgroundColor: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7', '#DDA0DD'],
                            borderWidth: 0
                        }]
                    },
                    options: {
                        responsive: true,
                        plugins: {
                            legend: {
                                display: false
                            }
                        },
                        scales: {
                            x: {
                                grid: {
                                    display: false
                                }
                            },
                            y: {
                                beginAtZero: true,
                                max: 100,
                                ticks: {
                                    stepSize: 20
                                },
                                grid: {
                                    color: '#E0E0E0'
                                }
                            }
                        }
                    }
                });
            }
        }

        // REFERENCE-BASED WORKING RADAR CHART WITH TOOLTIPS
        function createRadarChart() {
            const ctx = document.getElementById('radarChart');
            if (!ctx) return;

            // Simple destroy
            try { Chart.getChart(ctx)?.destroy(); } catch(e) {}

            // Get real data or use defaults from reference
            const scores = cognitiveData?.scores || {};
            const data = [
                scores.dikkat_skoru || 81,
                scores.hafiza_skoru || 68,
                scores.isleme_hizi_skoru || 89,
                scores.gorsel_isleme_skoru || 32,
                scores.akil_mantik_yurutme_skoru || 17,
                scores.bilissel_esneklik_skoru || 57
            ];

            new Chart(ctx, {
                type: 'radar',
                data: {
                    labels: ['Dikkat', 'HafÄ±za', 'Ä°ÅŸleme HÄ±zÄ±', 'GÃ¶rsel Ä°ÅŸleme', 'AkÄ±l MantÄ±k', 'BiliÅŸsel Esneklik'],
                    datasets: [{
                        label: 'BiliÅŸsel Beceriler',
                        data: data,
                        backgroundColor: 'rgba(44, 90, 160, 0.2)',
                        borderColor: 'rgba(44, 90, 160, 1)',
                        borderWidth: 2,
                        pointBackgroundColor: 'rgba(44, 90, 160, 1)',
                        pointBorderColor: '#fff',
                        pointHoverBackgroundColor: '#fff',
                        pointHoverBorderColor: 'rgba(44, 90, 160, 1)',
                        pointRadius: 5,
                        pointHoverRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    interaction: {
                        mode: 'point',
                        intersect: true
                    },
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            enabled: true,
                            backgroundColor: 'rgba(0,0,0,0.8)',
                            titleColor: '#fff',
                            bodyColor: '#fff',
                            borderColor: 'rgba(44, 90, 160, 1)',
                            borderWidth: 1,
                            displayColors: false,
                            callbacks: {
                                label: function(context) {
                                    return context.label + ': %' + context.parsed.r;
                                }
                            }
                        }
                    },
                    scales: {
                        r: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                stepSize: 20
                            }
                        }
                    }
                }
            });
        }

        // OLD BAR CHART FUNCTION REMOVED - Using clean version above

        // Get session ID from URL parameters
        function getSessionIdFromUrl() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('session_id');
        }

        // Performance optimized initialization
        document.addEventListener('DOMContentLoaded', async function() {
            logger.log('ğŸš€ Initializing cognitive report...');

            // Prevent duplicate init during Vite HMR
            if (window.__cogInitRunning__) return;
            window.__cogInitRunning__ = true;
            
            try {
                // Get session ID from URL
                const sessionId = getSessionIdFromUrl();
                
                // Optimized loading process
                const initializeReport = async () => {
                    try {
                        // Show loading state immediately
                        const loadingOverlay = document.getElementById('loadingOverlay');
                        if (loadingOverlay) {
                            loadingOverlay.style.display = 'flex';
                            loadingOverlay.innerHTML = `
                                <div style="text-align: center;">
                                    <div class="spinner"></div>
                                    <div style="font-size: 18px; margin-bottom: 10px; color: #333;">Rapor YÃ¼kleniyor...</div>
                                    <div style="font-size: 14px; color: #666;">VeritabanÄ±ndan veriler alÄ±nÄ±yor</div>
                                </div>
                            `;
                        }
                        
                        if (!sessionId) {
                            logger.warn('âš ï¸ No session_id found in URL parameters');
                            await new Promise(resolve => setTimeout(resolve, 200)); // Small delay for better UX
                            populateAllData();
                            finishLoading();
                            return;
                        }
                        
                        logger.log('ğŸ“‹ Session ID found:', sessionId);
                        
                        // Load data with timeout for better UX
                        const timeoutPromise = new Promise((_, reject) => 
                            setTimeout(() => reject(new Error('Database timeout')), 5000)
                        );
                        
                        try {
                            const dataLoaded = await Promise.race([
                                loadCognitiveData(sessionId),
                                timeoutPromise
                            ]);
                            
                            if (!dataLoaded) {
                                logger.warn('âš ï¸ Failed to load data, showing sample data');
                                populateAllData();
                            }
                        } catch (error) {
                            logger.error('Database loading error:', error);
                            populateAllData();
                        }
                        
                        finishLoading();
                        
                    } catch (error) {
                        logger.error('Initialization error:', error);
                        populateAllData();
                        finishLoading();
                    }
                };
                
                // Helper function to finish loading process
                const finishLoading = () => {
                    // Hide loading overlay
                    const loadingOverlay = document.getElementById('loadingOverlay');
                    if (loadingOverlay) {
                        loadingOverlay.style.display = 'none';
                    }
                    
                    // Show content with smooth transition
                    document.body.classList.add('loaded');
                    
                    // Initialize charts after content is shown
                    requestAnimationFrame(() => {
                        try {
                            destroyAllCharts();
                            
                            // Simple chart creation - reference based
                            createRadarChart(); // Update with loaded data
                            
                            logger.log('âœ… Charts initialized successfully');
                        } catch (chartError) {
                            logger.error('Chart initialization error:', chartError);
                        }
                    });
                };
                
                // Start initialization immediately
                initializeReport();
                
            } catch (error) {
                logger.error('Initialization error:', error);
                // Fallback to sample data
                populateAllData();
                const loadingOverlay = document.getElementById('loadingOverlay');
                if (loadingOverlay) {
                    loadingOverlay.style.display = 'none';
                }
                document.body.classList.add('loaded');
            }
            
            logger.log('âœ… Cognitive report initialization complete');
            window.__cogInitRunning__ = false;
        });
    </script>
</body>
</html>
