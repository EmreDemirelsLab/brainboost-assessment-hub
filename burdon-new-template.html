<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Burdon Dikkat Testi Raporu</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');
        
        /* PDF Optimization */
        @page {
            margin: 15mm;
            size: A4;
        }

        @media print {
            body { 
                margin: 0; 
                font-size: 10pt; 
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            .no-print { display: none !important; }
            .page-break { page-break-before: always; }
            .page-break-avoid { page-break-inside: avoid; }
        }

        /* Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #F3F4F6;
        }

        .container {
            max-width: 210mm;
            margin: 20px auto;
            background: white;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border: 1px solid #E5E7EB;
        }

        /* Paper page effect */
        .paper-page {
            background: white;
            min-height: 297mm; /* A4 height */
            max-height: 297mm;
            padding: 20mm;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid #E5E7EB;
            position: relative;
            overflow: hidden;
        }

        @media print {
            body {
                background: white;
            }
            .container {
                margin: 0;
                box-shadow: none;
                border: none;
            }
            .paper-page {
                box-shadow: none;
                border: none;
                margin-bottom: 0;
                page-break-after: always;
            }
            .paper-page:last-child {
                page-break-after: avoid;
            }
        }

        /* Header */
        .header {
            text-align: center;
            margin-bottom: 20px;
            border-bottom: 2px solid #8B5CF6;
            padding-bottom: 12px;
        }

        .header h1 {
            font-size: 1.6rem;
            font-weight: 700;
            color: #8B5CF6;
            margin-bottom: 8px;
        }

        .header-divider {
            width: 100%;
            height: 1px;
            background: linear-gradient(90deg, #8B5CF6, #F97316, #8B5CF6);
            margin: 8px 0;
        }

        /* Personal Info Table */
        .personal-info {
            margin-bottom: 20px;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 12px;
            margin-bottom: 20px;
        }

        .info-item {
            background: #F8F9FA;
            padding: 10px 12px;
            border-radius: 6px;
            border-left: 3px solid #F97316;
        }

        .info-label {
            font-size: 0.75rem;
            font-weight: 600;
            color: #F97316;
            margin-bottom: 3px;
        }

        .info-value {
            font-size: 0.9rem;
            font-weight: 500;
            color: #333;
        }

        /* Performance Gauge */
        .performance-section {
            text-align: center;
            margin: 20px 0;
            padding: 20px;
            background: linear-gradient(135deg, #FFF7ED, #FEF3C7);
            border-radius: 10px;
            border: 2px solid #F97316;
        }

        .gauge-container {
            position: relative;
            width: 220px;
            height: 110px;
            margin: 0 auto 15px;
        }

        .gauge-svg {
            width: 100%;
            height: 100%;
            overflow: visible;
        }

        .gauge-bg {
            fill: none;
            stroke: #E5E7EB;
            stroke-width: 25;
            stroke-linecap: round;
        }

        .gauge-fill {
            fill: none;
            stroke: url(#gaugeGradient);
            stroke-width: 25;
            stroke-linecap: round;
            transition: stroke-dashoffset 2s ease-in-out;
            filter: drop-shadow(0 2px 4px rgba(249, 115, 22, 0.3));
        }

        .gauge-text {
            position: absolute;
            top: 65%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
        }

        .gauge-value {
            font-size: 2rem;
            font-weight: 800;
            color: #F97316;
            line-height: 1;
            text-shadow: 0 2px 4px rgba(249, 115, 22, 0.2);
        }

        .gauge-label {
            font-size: 0.85rem;
            color: #666;
            font-weight: 600;
            margin-top: 3px;
        }

        /* Gauge scale markers */
        .gauge-markers {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .gauge-marker {
            position: absolute;
            width: 2px;
            height: 15px;
            background: #999;
            transform-origin: center bottom;
        }

        .gauge-marker.major {
            width: 3px;
            height: 20px;
            background: #666;
        }

        /* Gauge needle */
        #gauge-needle {
            transition: transform 2s ease-in-out;
            transform-origin: 90px 75px;
        }

        /* Scale markers styling */
        .scale-markers text {
            font-size: 12px;
            font-weight: 600;
            fill: #666;
        }

        .scale-markers line {
            stroke: #666;
            stroke-width: 2;
        }

        /* Test Description */
        .test-description {
            margin: 20px 0;
        }

        .section-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: #8B5CF6;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .section-title::before {
            content: '';
            width: 3px;
            height: 18px;
            background: #8B5CF6;
            border-radius: 2px;
        }

        .description-text {
            font-size: 0.9rem;
            line-height: 1.5;
            color: #555;
            text-align: justify;
        }

        /* Target Areas */
        .target-areas {
            margin: 20px 0;
        }

        .target-list {
            list-style: none;
            padding: 0;
        }

        .target-list li {
            background: #F3F4F6;
            padding: 8px 12px;
            margin: 6px 0;
            border-left: 3px solid #8B5CF6;
            border-radius: 4px;
            font-size: 0.85rem;
        }

        .target-list li::before {
            content: '•';
            color: #8B5CF6;
            font-weight: bold;
            margin-right: 10px;
        }

        /* Cognitive Areas */
        .cognitive-areas {
            margin: 20px 0;
        }

        .cognitive-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 10px;
        }

        .cognitive-item {
            background: white;
            padding: 12px;
            border-radius: 6px;
            border: 1px solid #E5E7EB;
            transition: all 0.3s ease;
        }

        .cognitive-item:hover {
            border-color: #8B5CF6;
            box-shadow: 0 2px 8px rgba(139, 92, 246, 0.1);
        }

        .cognitive-title {
            font-weight: 700;
            color: #8B5CF6;
            margin-bottom: 4px;
            font-size: 0.9rem;
        }

        .cognitive-desc {
            font-size: 0.8rem;
            color: #666;
            line-height: 1.4;
        }

        /* Important Notes */
        .important-notes {
            margin: 20px 0;
            background: #FEF3C7;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #F59E0B;
        }

        .notes-list {
            list-style: none;
            padding: 0;
            margin-top: 8px;
        }

        .notes-list li {
            margin: 8px 0;
            padding-left: 18px;
            position: relative;
            font-size: 0.8rem;
            color: #92400E;
        }

        .notes-list li::before {
            content: '⚠️';
            position: absolute;
            left: 0;
            top: 0;
            font-size: 0.8rem;
        }

        /* Simple footer logo at bottom */
        .footer-logo {
            text-align: center;
            margin-top: 40px;
            padding: 20px 0;
        }

        .footer-logo img {
            height: 30px;
            max-width: 150px;
            object-fit: contain;
        }

        /* Page 2 Styles */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .data-table th {
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
            color: white;
            padding: 10px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 0.85rem;
        }

        .data-table td {
            padding: 10px 8px;
            text-align: center;
            border-bottom: 1px solid #E5E7EB;
            font-size: 0.9rem;
            font-weight: 500;
        }

        .data-table tr:nth-child(even) {
            background: #F9FAFB;
        }

        .data-table tr:hover {
            background: #F3F4F6;
        }

        .table-row-header {
            background: #8B5CF6 !important;
            color: white !important;
            font-weight: 600;
        }

        /* Chart Section */
        .chart-section {
            margin: 20px 0;
            text-align: center;
        }

        .bar-chart {
            display: flex;
            justify-content: center;
            align-items: end;
            height: 200px;
            gap: 30px;
            margin: 20px 0;
            padding: 15px;
            background: #F9FAFB;
            border-radius: 10px;
        }

        .bar-group {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }

        .bar {
            width: 45px;
            background: linear-gradient(to top, #F97316, #FB923C);
            border-radius: 6px 6px 0 0;
            position: relative;
            transition: all 0.8s ease-in-out;
            min-height: 15px;
        }

        .bar-value {
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: 700;
            color: #F97316;
            font-size: 0.9rem;
        }

        .bar-label {
            font-weight: 600;
            color: #666;
            margin-top: 8px;
            font-size: 0.85rem;
        }

        /* Comment Section */
        .comment-section {
            margin: 20px 0;
            padding: 15px;
            background: #F0F9FF;
            border-radius: 10px;
            border: 2px solid #0EA5E9;
        }

        .comment-text {
            font-size: 0.9rem;
            line-height: 1.6;
            color: #334155;
            text-align: justify;
        }

        /* Observation Section */
        .observation-section {
            margin: 20px 0;
            padding: 15px;
            background: #F0FDF4;
            border-radius: 10px;
            border: 2px solid #22C55E;
            min-height: 100px;
        }

        .observation-placeholder {
            color: #9CA3AF;
            font-style: italic;
            text-align: center;
            padding: 25px 0;
            font-size: 0.9rem;
        }

        /* No need for fixed page content height */

        /* Export Button */
        .export-btn {
            position: fixed;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, #8B5CF6, #A855F7);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
            z-index: 1000;
            transition: all 0.3s ease;
        }

        .export-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(139, 92, 246, 0.4);
        }
    </style>
</head>
<body>
    <button class="export-btn no-print" onclick="window.print()">📄 PDF Olarak İndir</button>
    
    <div class="container">
        <!-- PAGE 1: Personal Info & Performance -->
        <div class="paper-page">
            <!-- Header -->
            <header class="header page-break-avoid">
                <h1>Burdon Dikkat Testi Raporu</h1>
                <div class="header-divider"></div>
            </header>

            <!-- Personal Information -->
            <section class="personal-info page-break-avoid">
                <div class="info-grid">
                    <div class="info-item">
                        <div class="info-label">Ad Soyad</div>
                        <div class="info-value" id="student-name">Ece Yeşim Cinemre</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Yaş</div>
                        <div class="info-value" id="student-age">31 Yıl 7 Ay 11 Gün</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Değerlendirme Tarihi</div>
                        <div class="info-value" id="evaluation-date">11/07/2025</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Cinsiyet</div>
                        <div class="info-value" id="student-gender">Kadın</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Doğum Tarihi</div>
                        <div class="info-value" id="birth-date">16/12/1994</div>
                    </div>
                    <div class="info-item">
                        <div class="info-label">Uygulayan</div>
                        <div class="info-value" id="practitioner">Funda Demirel</div>
                    </div>
                </div>
            </section>

                <!-- Performance Gauge -->
                <section class="performance-section page-break-avoid">
                                    <div class="gauge-container">
                    <svg class="gauge-svg" viewBox="0 0 180 90">
                        <defs>
                            <linearGradient id="gaugeGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#EF4444"/>
                                <stop offset="40%" style="stop-color:#F59E0B"/>
                                <stop offset="70%" style="stop-color:#F97316"/>
                                <stop offset="100%" style="stop-color:#22C55E"/>
                            </linearGradient>
                        </defs>
                        <!-- Background arc -->
                        <path class="gauge-bg" d="M 15 75 A 75 75 0 0 1 165 75" stroke-dasharray="236" stroke-dashoffset="0"/>
                        <!-- Fill arc -->
                        <path id="gauge-fill" class="gauge-fill" d="M 15 75 A 75 75 0 0 1 165 75" stroke-dasharray="236" stroke-dashoffset="236"/>
                        
                        <!-- Scale markers -->
                        <g class="scale-markers">
                            <!-- 0% marker -->
                            <line x1="15" y1="75" x2="12" y2="68" stroke="#666" stroke-width="2"/>
                            <text x="8" y="80" fill="#666" font-size="9" text-anchor="middle">0</text>
                            
                            <!-- 50% marker -->
                            <line x1="90" y1="15" x2="90" y2="8" stroke="#666" stroke-width="3"/>
                            <text x="90" y="6" fill="#666" font-size="10" text-anchor="middle" font-weight="bold">50</text>
                            
                            <!-- 100% marker -->
                            <line x1="165" y1="75" x2="168" y2="68" stroke="#666" stroke-width="2"/>
                            <text x="172" y="80" fill="#666" font-size="9" text-anchor="middle">100</text>
                        </g>
                        
                        <!-- Needle -->
                        <g id="gauge-needle" transform="rotate(0 90 75)">
                            <polygon points="90,75 87,71 90,25 93,71" fill="#333" opacity="0.8"/>
                            <circle cx="90" cy="75" r="5" fill="#333"/>
                        </g>
                    </svg>
                        <div class="gauge-text">
                            <div class="gauge-value" id="performance-percentage">75%</div>
                            <div class="gauge-label">Genel Dikkat Performans Yüzdesi</div>
                        </div>
                    </div>
                </section>

            <!-- Test Description -->
            <section class="test-description">
                <h2 class="section-title">Burdon Dikkat Testinin Amacı</h2>
                <p class="description-text">
                    Burdon Dikkat Testi, bireyin dikkatini bir görev üzerinde ne kadar süreyle ve ne kadar 
                    doğru sürdürebilidiğini ölçmek amacıyla kullanılır. Bu testte yapılan doğru ve hatalı 
                    işaretlemeler, dikkat süresi, odaklanma kalitesi ve dikkati sürdürebilme becerisi hakkında bilgi verir.
                </p>
            </section>

            <!-- Target Areas -->
            <section class="target-areas">
                <h2 class="section-title">Hedeflenen Kullanım Alanları</h2>
                <ul class="target-list">
                    <li>Okuma-yazma becerisi kazanmış bireylerde dikkat ve odaklanma becerilerini değerlendirmek</li>
                    <li>Seçici dikkat, dikkat süresi ve görsel dikkatin sürekliliğini ölçmek</li>
                    <li>Bilişsel beceri geliştirme programlarında uygulama öncesi ve sonrası dikkat performansındaki değişimi izlemek</li>
                </ul>
            </section>

            <!-- Cognitive Areas -->
            <section class="cognitive-areas">
                <h2 class="section-title">Ölçülen Bilişsel Alanlar</h2>
                <div class="cognitive-grid">
                    <div class="cognitive-item">
                        <div class="cognitive-title">Seçici Dikkat:</div>
                        <div class="cognitive-desc">Hedef veya göreve odaklanma, uyaranları yok sayma</div>
                    </div>
                    <div class="cognitive-item">
                        <div class="cognitive-title">Sürdürülebilir Dikkat:</div>
                        <div class="cognitive-desc">Dikkati belirli bir süre aynı hedef üzerinde dağılmadan devam ettirebilme</div>
                    </div>
                    <div class="cognitive-item">
                        <div class="cognitive-title">Odaklanma:</div>
                        <div class="cognitive-desc">Görsel olarak dikkat dağıtıcı birçok uyaran arasında yalnızca hedefe yönelme ve bu odakta kalabilme</div>
                    </div>
                    <div class="cognitive-item">
                        <div class="cognitive-title">Psikomotor Hızı (İşlem Hızı):</div>
                        <div class="cognitive-desc">Bilgiyi hızlıca algılayıp doğru şekilde tepki verebilme hızı</div>
                    </div>
                </div>
            </section>

            <!-- Important Notes -->
            <section class="important-notes">
                <h2 class="section-title">Önemli Notlar</h2>
                <ul class="notes-list">
                    <li>Rapor bireyin dikkat ve odaklanma becerilerindeki güçlü ve desteklenmesi gereken yönleri belirlemek içindir. Tanı koymak için değildir.</li>
                    <li>Test sonuçları sadece test anındaki durumu yansıtır. Uyku, stres, heyecan gibi değişkenler bireyin performansını etkileyebilir.</li>
                </ul>
            </section>

            <!-- Footer Logo -->
            <div class="footer-logo">
                <img 
                    src="/assets/images/logo.png" 
                    alt="ForTest Logo"
                />
            </div>
        </div>

        <!-- PAGE 2: Data Table & Analysis -->
        <div class="paper-page">
            <!-- Data Table -->
            <section class="data-section">
                <h2 class="section-title">Ham Puan Veri Tablosu</h2>
                <table class="data-table">
                    <thead>
                        <tr>
                            <th></th>
                            <th>Doğru İşaretleme</th>
                            <th>Yanlış İşaretleme</th>
                            <th>Boş Bırakılan</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="table-row-header">Başta</td>
                            <td id="section1-correct">38</td>
                            <td id="section1-wrong">5</td>
                            <td id="section1-missed">10</td>
                        </tr>
                        <tr>
                            <td class="table-row-header">Ortada</td>
                            <td id="section2-correct">42</td>
                            <td id="section2-wrong">3</td>
                            <td id="section2-missed">6</td>
                        </tr>
                        <tr>
                            <td class="table-row-header">Sonda</td>
                            <td id="section3-correct">48</td>
                            <td id="section3-wrong">1</td>
                            <td id="section3-missed">2</td>
                        </tr>
                    </tbody>
                </table>
            </section>

            <!-- Chart Section -->
            <section class="chart-section">
                <div class="bar-chart">
                    <div class="bar-group">
                        <div class="bar" id="bar-section1" style="height: 89px;">
                            <div class="bar-value">89</div>
                        </div>
                        <div class="bar-label">Başta</div>
                    </div>
                    <div class="bar-group">
                        <div class="bar" id="bar-section2" style="height: 72px;">
                            <div class="bar-value">72</div>
                        </div>
                        <div class="bar-label">Ortada</div>
                    </div>
                    <div class="bar-group">
                        <div class="bar" id="bar-section3" style="height: 64px;">
                            <div class="bar-value">64</div>
                        </div>
                        <div class="bar-label">Sonda</div>
                    </div>
                </div>
            </section>

            <!-- Dynamic Comment -->
            <section class="comment-section">
                <h2 class="section-title">Yorum</h2>
                <p class="comment-text" id="dynamic-comment">
                    Dikkatini sürdürmekte güçlük yaşayabildiği gözlenmektedir. Dikkat ve odaklanma becerilerinin gelişimi için aşamalı, hedefe yönelik ve yapılandırılmış çalışmalar önerilmektedir.
                </p>
            </section>

            <!-- Observation Section -->
            <section class="observation-section">
                <h2 class="section-title">Beyin Antrenörü Gözlem ve Görüşleri</h2>
                <div class="observation-placeholder">
                    Bu bölüm beyin antrenörü tarafından doldurulacaktır.
                </div>
            </section>
            
            <!-- Footer Logo -->
            <div class="footer-logo">
                <img 
                    src="/assets/images/logo.png" 
                    alt="ForTest Logo"
                />
            </div>
        </div>
    </div>

    <script>
        // Performance Gauge Animation
        function updatePerformanceGauge(percentage) {
            const gaugeFill = document.getElementById('gauge-fill');
            const gaugeNeedle = document.getElementById('gauge-needle');
            
            // Arc animation
            const circumference = 236; // Updated arc circumference for smaller gauge
            const offset = circumference - (percentage / 100) * circumference;
            
            setTimeout(() => {
                gaugeFill.style.strokeDashoffset = offset;
            }, 500);
            
            // Needle animation
            const needleAngle = -90 + (percentage / 100) * 180; // -90° to +90°
            setTimeout(() => {
                gaugeNeedle.style.transform = `rotate(${needleAngle}deg)`;
                gaugeNeedle.style.transformOrigin = '90px 75px'; // Updated center point
                gaugeNeedle.style.transition = 'transform 2s ease-in-out';
            }, 800);
        }

        // Dynamic Comment System
        function generateComment(percentage) {
            if (percentage >= 85) {
                return "Dikkatini görev süresince etkili şekilde sürdürebilmiş, odaklanma becerisini işlevsel biçimde kullanabilmiştir.";
            } else if (percentage >= 70) {
                return "Dikkatini büyük oranda sürdürebilmiştir. Dikkat ve odaklanma becerileri güçlendirilerek daha da geliştirilebilir.";
            } else if (percentage >= 50) {
                return "Dikkatini genel olarak sürdürebilmiştir. Dikkat ve odaklanma süresini destekleyici egzersizlerle çalışıtırır.";
            } else if (percentage >= 35) {
                return "Dikkatini sürdürmekte zaman zaman zorlanabildiği görülmektedir. Dikkat ve odaklanma becerileri yapılandırılmış uygulamalarla geliştirilebilir.";
            } else if (percentage >= 20) {
                return "Dikkatini sürdürmekte güçlük yaşayabildiği gözlenmektedir. Dikkat ve odaklanma becerilerinin gelişimi için aşamalı, hedefe yönelik ve yapılandırılmış çalışmalar önerilmektedir.";
            } else {
                return "Dikkatini yönlendirmekte zorlandığı görülmektedir. Yapılandırılmış bilişel destek programları ile dikkat ve odaklanma becerileri geliştirilebilir.";
            }
        }

        // Load Test Data
        function loadTestData(testData) {
            // Update personal info
            if (testData.student_name) document.getElementById('student-name').textContent = testData.student_name;
            if (testData.student_age) document.getElementById('student-age').textContent = testData.student_age;
            if (testData.evaluation_date) document.getElementById('evaluation-date').textContent = testData.evaluation_date;
            if (testData.student_gender) document.getElementById('student-gender').textContent = testData.student_gender;
            if (testData.birth_date) document.getElementById('birth-date').textContent = testData.birth_date;
            if (testData.practitioner) document.getElementById('practitioner').textContent = testData.practitioner;

            // Calculate performance percentage
            const totalCorrect = testData.section1_correct + testData.section2_correct + testData.section3_correct;
            const totalItems = totalCorrect + testData.total_missed + testData.total_wrong;
            const percentage = Math.round((totalCorrect / totalItems) * 100);

            // Update performance gauge
            document.getElementById('performance-percentage').textContent = percentage + '%';
            updatePerformanceGauge(percentage);

            // Update data table
            document.getElementById('section1-correct').textContent = testData.section1_correct;
            document.getElementById('section1-wrong').textContent = testData.section1_wrong;
            document.getElementById('section1-missed').textContent = testData.section1_missed;
            
            document.getElementById('section2-correct').textContent = testData.section2_correct;
            document.getElementById('section2-wrong').textContent = testData.section2_wrong;
            document.getElementById('section2-missed').textContent = testData.section2_missed;
            
            document.getElementById('section3-correct').textContent = testData.section3_correct;
            document.getElementById('section3-wrong').textContent = testData.section3_wrong;
            document.getElementById('section3-missed').textContent = testData.section3_missed;

            // Update bar chart
            const maxHeight = 100;
            const section1Height = (testData.section1_correct / totalCorrect) * maxHeight;
            const section2Height = (testData.section2_correct / totalCorrect) * maxHeight;
            const section3Height = (testData.section3_correct / totalCorrect) * maxHeight;

            document.getElementById('bar-section1').style.height = section1Height + 'px';
            document.getElementById('bar-section1').querySelector('.bar-value').textContent = testData.section1_correct;
            
            document.getElementById('bar-section2').style.height = section2Height + 'px';
            document.getElementById('bar-section2').querySelector('.bar-value').textContent = testData.section2_correct;
            
            document.getElementById('bar-section3').style.height = section3Height + 'px';
            document.getElementById('bar-section3').querySelector('.bar-value').textContent = testData.section3_correct;

            // Update dynamic comment
            document.getElementById('dynamic-comment').textContent = generateComment(percentage);
        }

        // Initialize with sample data
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(() => {
                const sampleData = {
                    student_name: "Ece Yeşim Cinemre",
                    student_age: "31 Yıl 7 Ay 11 Gün",
                    evaluation_date: "11/07/2025",
                    student_gender: "Kadın",
                    birth_date: "16/12/1994",
                    practitioner: "Funda Demirel",
                    section1_correct: 38,
                    section1_wrong: 5,
                    section1_missed: 10,
                    section2_correct: 42,
                    section2_wrong: 3,
                    section2_missed: 6,
                    section3_correct: 48,
                    section3_wrong: 1,
                    section3_missed: 2,
                    total_missed: 18,
                    total_wrong: 9
                };
                loadTestData(sampleData);
            }, 1000);
        });

        // Example usage: loadTestData(yourTestDataObject);
    </script>
</body>
</html>