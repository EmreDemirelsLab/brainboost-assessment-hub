<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bütünsel Puzzle Testi</title>
    <style>
        :root {
            --primary: #60a5fa;
            --primary-dark: #2563eb;
            --secondary: #f43f5e;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --light: #f8fafc;
            --dark: #0f172a;
            --gray: #94a3b8;
            --gray-light: #e2e8f0;
            --border-radius: 8px;
            --font-main: 'Segoe UI', Roboto, Arial, sans-serif;
            --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.1);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.15);
            --transition: all 0.3s ease;
            
            /* Responsive değişkenler - hafıza ve dikkat testleri ile aynı */
            --container-padding: clamp(15px, 4vw, 50px);
            --font-size-base: clamp(14px, 2vw, 18px);
            --font-size-large: clamp(18px, 3vw, 24px);
            --font-size-xlarge: clamp(24px, 4vw, 48px);
            --font-size-xxlarge: clamp(32px, 6vw, 64px);
            --button-padding: clamp(12px, 2vw, 18px) clamp(20px, 4vw, 40px);
            --gap-size: clamp(10px, 2vw, 20px);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: var(--font-main);
            line-height: 1.6;
            color: var(--dark);
            background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #1d4ed8 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 0;
            font-size: var(--font-size-base);
            margin: 0;
        }

        /* Container 1200x800 aspect ratio - yukarı-aşağı tam dolu */
        .container {
            background: linear-gradient(145deg, #1e3a8a 0%, #1e40af 100%);
            color: white;
            border-radius: clamp(15px, 3vw, 20px);
            box-shadow: 
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 15px 30px rgba(0, 0, 0, 0.3),
                inset 0 2px 5px rgba(255, 255, 255, 0.1);
            padding: var(--container-padding);
            /* Dynamic sizing: clamp width and maintain 3:2 aspect ratio */
            width: clamp(320px, 90vw, 1200px);
            aspect-ratio: 3 / 2;
            height: auto;
            text-align: center;
            position: relative;
            border: 1px solid rgba(255, 255, 255, 0.2);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            margin: 0 auto;
        }
        
        .puzzle-section {
            display: none;
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: var(--container-padding);
        }

        .puzzle-section.active {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }
        
        /* SVG container */
        svg {
            max-width: 100%;
            height: auto;
            display: block;
            width: 1000px;
            max-height: 700px;
        }
        
        /* Tıklanabilir alanlar için */
        .clickable {
            cursor: pointer;
            fill: transparent;
            stroke: transparent;
            stroke-width: 2px;
            transition: all 0.3s ease;
        }
        
        .clickable:hover {
            fill: rgba(255, 107, 107, 0.3);
            stroke: #ff6b6b;
        }
        
        .clickable.correct {
            fill: rgba(40, 167, 69, 0.3);
            stroke: #28a745;
            stroke-width: 5px;
        }
        

        
        /* Yeşil daire vurgusu için */
        .highlight-circle {
            fill: none;
            stroke: #39ff14;
            stroke-width: 6px;
            animation: hover-pulse 2.5s ease-in-out infinite;
            transform-origin: center;
            transform-box: fill-box;
        }
        
        @keyframes hover-pulse {
            0%, 100% { 
                stroke: #39ff14;
                stroke-width: 6px;
                stroke-opacity: 0.8;
                transform: scale(1);
            }
            50% { 
                stroke: #00ff00;
                stroke-width: 8px;
                stroke-opacity: 1;
                transform: scale(1.02);
            }
        }
        
        /* Demo için özel stiller */
        .demo-section .tk-piece {
            cursor: pointer;
            fill: transparent;
            stroke: transparent;
            stroke-width: 2px;
            transition: all 0.3s ease;
        }
        
        .demo-section .tk-piece:hover {
            fill: rgba(255, 107, 107, 0.3) !important;
            stroke: #ff6b6b !important;
        }
        
        /* Demo SVG aşamalı gösterim */
        .demo-section svg image {
            opacity: 1;
            mask: url(#demo-mask);
            -webkit-mask: url(#demo-mask);
        }
        
        .demo-section .pr-piece {
            opacity: 0;
            animation: fadeIn 1s ease-in-out forwards;
            animation-delay: 6s;
        }
        
        .demo-section .highlight-circle {
            opacity: 0;
            animation: showHighlight 1s ease-in-out forwards, hover-pulse 2.5s ease-in-out infinite;
            animation-delay: 9s, 12s;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes showHighlight {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        /* Sahte mouse cursor için demo */
        .fake-cursor {
            position: absolute;
            width: 20px;
            height: 20px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 20 20"><path d="M0,0 L0,16 L4,12 L7,19 L10,18 L7,11 L12,11 Z" fill="black" stroke="white" stroke-width="1"/></svg>');
            background-size: contain;
            pointer-events: none;
            z-index: 1000;
            opacity: 0;
            display: none;
        }
        
        .demo-section .fake-cursor {
            display: block;
            animation: moveCursor 4s ease-in-out forwards;
            animation-delay: 13.2s;
        }
        
        @keyframes moveCursor {
            0% { opacity: 0; left: var(--cursor-start-x, 50%); top: var(--cursor-start-y, 50%); }
            10% { opacity: 1; left: var(--cursor-start-x, 50%); top: var(--cursor-start-y, 50%); }
            90% { opacity: 1; left: var(--cursor-target-x, 31.28%); top: var(--cursor-target-y, 24.35%); }
            100% { opacity: 1; left: var(--cursor-target-x, 31.28%); top: var(--cursor-target-y, 24.35%); }
        }
        
        .info {
            text-align: center;
            margin-top: 20px;
            font-size: 1.4em;
            color: var(--dark);
            min-height: 40px;
            line-height: 1.6;
            font-weight: 500;
        }
        
        .progress {
            background-color: var(--gray-light);
            height: 12px;
            border-radius: 15px;
            margin: 20px auto 30px;
            overflow: hidden;
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 600px;
        }
        
        .progress-bar {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            border-radius: 15px;
            box-shadow: 0 2px 4px rgba(37, 99, 235, 0.2);
        }

        /* Puzzle Test Progress Bars - Akıl-Mantık Testi Smooth Animasyon */
        .question-progress-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: clamp(6px, 1vw, 8px);
            background: rgba(255, 255, 255, 0.2);
            overflow: hidden;
            border-top-left-radius: clamp(15px, 3vw, 20px);
            border-top-right-radius: clamp(15px, 3vw, 20px);
            z-index: 10;
        }

        .question-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
            width: 100%;
            position: relative;
            border-top-left-radius: clamp(15px, 3vw, 20px);
            border-top-right-radius: clamp(15px, 3vw, 20px);
        }

        .question-progress-bar.animating {
            animation: questionProgress 15s linear forwards;
        }

        .question-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 60px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }

        .global-total-progress-container {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: min(90vw, 1200px);
            height: clamp(6px, 1vw, 8px);
            background: rgba(255, 255, 255, 0.2);
            overflow: hidden;
            border-radius: 10px;
            z-index: 1000;
            display: none; /* Başlangıçta gizli */
        }

        .total-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #60a5fa 100%);
            width: 0%;
            position: relative;
            border-bottom-left-radius: clamp(15px, 3vw, 20px);
            border-bottom-right-radius: clamp(15px, 3vw, 20px);
        }

        .total-progress-bar.animating {
            animation: totalProgress 300s linear forwards;
        }

        .total-progress-bar::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 60px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            animation: shimmer 2s infinite;
        }

        /* Progress Bar Animasyonları - Akıl-Mantık Testindeki Gibi */
        @keyframes questionProgress {
            from { width: 100%; }
            to { width: 0%; }
        }

        @keyframes totalProgress {
            from { width: 0%; }
            to { width: 100%; }
        }

        @keyframes shimmer {
            0% { transform: translateX(-50px); }
            100% { transform: translateX(50px); }
        }
        
        .section-title {
            text-align: center;
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 20px;
            color: var(--primary-dark);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .demo-text {
            opacity: 0;
            animation: fadeInOut 3s ease-in-out forwards;
        }
        
        .demo-text.step-1 { animation-delay: 0s; }
        .demo-text.step-2 { animation-delay: 4s; }
        .demo-text.step-3 { animation-delay: 6s; }
        .demo-text.step-4 { animation-delay: 8s; }
        .demo-text.step-5 { animation-delay: 12s; }
        
        @keyframes fadeInOut {
            0% { opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { opacity: 0; }
        }
        
        /* Demo için hover ve tıklama efektleri */
        .demo-section #demo-tk-2 {
            animation: simulateHover 0.5s ease-in-out forwards, highlightCorrect 1s ease-in-out forwards;
            animation-delay: 15s, 16s;
        }
        
        @keyframes simulateHover {
            to {
                fill: rgba(255, 107, 107, 0.3);
                stroke: #ff6b6b;
                stroke-width: 2px;
            }
        }
        
        @keyframes highlightCorrect {
            to {
                fill: rgba(40, 167, 69, 0.3);
                stroke: #28a745;
                stroke-width: 5px;
            }
        }
        
        /* Tıklama efekti */
        .demo-section::after {
            content: '';
            position: absolute;
            width: 30px;
            height: 30px;
            border: 3px solid #28a745;
            border-radius: 50%;
            opacity: 0;
            animation: clickRipple 1s ease-out forwards;
            animation-delay: 17.2s;
            pointer-events: none;
            left: var(--cursor-target-x, 31.28%);
            top: var(--cursor-target-y, 24.35%);
            z-index: 1001;
            transform: translate(-15px, -15px); /* Center the circle */
        }
        
        @keyframes clickRipple {
            0% {
                opacity: 1;
                transform: scale(0.5);
            }
            100% {
                opacity: 0;
                transform: scale(2.5);
            }
        }

        /* Başlangıç ekranı */
        .title-screen h1 {
            font-size: var(--font-size-xxlarge);
            color: white;
            font-weight: 700;
            margin-bottom: clamp(25px, 6vw, 50px);
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
            line-height: 1.2;
        }

        .btn {
            display: inline-block;
            font-weight: 500;
            color: white;
            text-align: center;
            vertical-align: middle;
            cursor: pointer;
            background: linear-gradient(135deg, #1e40af 0%, #2563eb 100%);
            padding: var(--button-padding);
            font-size: clamp(16px, 2.5vw, 22px);
            line-height: 1.5;
            border-radius: var(--border-radius);
            transition: opacity 0.5s ease, transform 0.5s ease, background 0.3s ease, box-shadow 0.3s ease;
            border: none;
            box-shadow: 
                0 4px 6px rgba(30, 64, 175, 0.3),
                0 0 15px rgba(255, 255, 255, 0.3),
                0 0 25px rgba(255, 255, 255, 0.1);
            text-decoration: none;
            margin: clamp(5px, 1vw, 10px);
            opacity: 0;
            transform: translateY(20px);
            min-width: clamp(100px, 20vw, 150px);
            position: relative;
            overflow: hidden;
            min-height: clamp(44px, 8vw, 56px);
        }

        .btn.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .btn.disabled {
            opacity: 0.5;
            cursor: not-allowed;
            pointer-events: none;
        }

        .btn:hover:not(.disabled) {
            background: linear-gradient(135deg, #1e3d9f 0%, #2454d6 100%);
            box-shadow: 
                0 6px 8px rgba(30, 58, 138, 0.4),
                0 0 20px rgba(255, 255, 255, 0.4),
                0 0 35px rgba(255, 255, 255, 0.15);
            transform: translateY(-2px);
        }

        .btn-next {
            position: absolute;
            bottom: clamp(20px, 4vw, 40px);
            right: clamp(20px, 4vw, 40px);
            opacity: 0;
            transition: opacity 0.5s ease;
        }

        .btn-next.visible {
            opacity: 1;
        }

        .instruction-box {
            background: transparent;
            border-radius: 0;
            padding: clamp(10px, 3vw, 20px);
            margin: clamp(15px, 4vw, 30px) auto;
            max-width: min(90%, 800px);
            box-shadow: none;
            border: none;
        }

        .instruction-text {
            font-size: var(--font-size-large);
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: clamp(10px, 3vw, 20px);
            line-height: 1.8;
        }

        .highlight-text {
            color: white;
            font-weight: bold;
            font-size: clamp(20px, 3.5vw, 28px);
            margin: clamp(10px, 3vw, 20px) 0;
            line-height: 1.8;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }

        .demo-info {
            position: absolute;
            bottom: clamp(8px, 2vw, 15px);
            left: 50%;
            transform: translateX(-50%);
            font-size: clamp(16px, 2.5vw, 22px);
            color: white;
            font-weight: 500;
            text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
            z-index: 100;
            text-align: center;
            width: max-content;
            max-width: 80%;
            padding: clamp(12px, 2vw, 18px) clamp(20px, 4vw, 40px);
            background: rgba(30, 64, 175, 0.8);
            backdrop-filter: blur(8px);
            border-radius: var(--border-radius);
            line-height: 1.5;
            margin: clamp(5px, 1vw, 10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            animation: fadeInUp 0.8s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateX(-50%) translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateX(-50%) translateY(0);
            }
        }

        .notification {
            position: fixed;
            top: 30px;
            left: 50%;
            transform: translateX(-50%);
            padding: 20px 30px;
            border-radius: var(--border-radius);
            color: white;
            font-weight: 500;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: var(--font-size-base);
            max-width: 600px;
            text-align: center;
        }

        .notification.success {
            background-color: var(--success);
        }

        .notification.error {
            background-color: var(--danger);
        }

        .notification.warning {
            background-color: var(--warning);
        }

        .notification.show {
            opacity: 1;
        }

        /* Responsive Media Queries */
        
        /* Çok küçük telefon ekranları */
        @media (max-width: 360px) {
            .container {
                padding: clamp(10px, 3vw, 15px);
            }
            svg {
                width: clamp(280px, 95vw, 400px);
                max-height: clamp(200px, 50vh, 300px);
            }
        }

        /* Küçük telefon ekranları */
        @media (max-width: 480px) {
            .btn-next {
                position: relative;
                bottom: auto;
                right: auto;
                margin-top: 20px;
            }
            svg {
                width: clamp(300px, 90vw, 500px);
                max-height: clamp(250px, 55vh, 400px);
            }
        }

        /* Tablet ve masaüstü */
        @media (min-width: 481px) {
            .container {
                height: min(100vh - 30px, 800px);
            }
        }

        /* Büyük ekranlar */
        @media (min-width: 1400px) {
            .container {
                width: min(90%, 1400px);
                height: min(100vh - 40px, 900px);
            }
        }

        /* Landscape mode mobil */
        @media (max-height: 500px) and (orientation: landscape) {
            .container {
                height: 95vh;
                padding: 15px;
            }
            .title-screen h1 {
                margin-bottom: 20px;
            }
            .instruction-box {
                padding: 20px;
                margin: 15px auto;
            }
        }

        /* High DPI ekranlar için font optimizasyonu */
        @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
            .title-screen h1 {
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }
        }

        /* Accessibility improvements */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            .fake-cursor {
                transition: none !important;
            }
        }

        /* High contrast mode */
        @media (prefers-contrast: high) {
            .clickable {
                stroke-width: 3px;
            }
            .btn {
                border: 2px solid white;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        
        <!-- Title Screen -->
        <div id="title-screen" class="puzzle-section active">
            <div class="title-screen">
                <h1>Puzzle Testi</h1>
                <button class="btn btn-next visible" onclick="goToInstructions()">İleri</button>
            </div>
        </div>

        <!-- Instructions Screen -->
        <div id="instructions-screen" class="puzzle-section">
            <div class="instruction-box">
                <div class="highlight-text">
                    Yapboz parçalarını gözlerinizle bir araya getirin.
                </div>
            </div>
            <button class="btn btn-next" id="instructionsNextBtn" onclick="startDemo()">İleri</button>
        </div>

        <!-- Demo Section -->
        <div id="demo-section" class="puzzle-section demo-section">
            <div class="fake-cursor"></div>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Arka plan -->
                <rect width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- Sol büyük kare - baştan görünür -->
                <rect x="120" y="109" width="268.4" height="268.4" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path d="M379,199.5c0,1.7,0,3.7,0,5.4-1.6,33.1-26.6,50.8-47.8,72.4-24,24.4-47.9,49.1-72.2,73.2-2.8,2.5-7.4,2.4-10-.2-23.6-23.4-46.7-47.3-70-71-10.9-11.1-24.4-22.8-34.2-34.6-39.6-48.4,1.7-121.1,63.9-109.3,19.5,3.7,32.1,15.7,45.2,29.5,5.1-3.8,9.1-9.2,13.8-13.4,43.8-38.7,108.3-9,111.3,48.1Z" style="fill: #e94a4b;"/>
                <line x1="120" y1="215.8" x2="388.4" y2="215.8" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <line x1="210.5" y1="109" x2="210.5" y2="215.8" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                
                <!-- Sağ parçalar - başlangıçta gizli -->
                <g id="demo-pr-1" class="pr-piece">
                    <path d="M509.2,197.6v106.8h90.5v-106.8h-90.5Z" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <path d="M599.7,224.4v80.1h-79.7c-9.4-43.7,27.4-90,78-80.4.6.1,1.2.2,1.7.4Z" style="fill: #e94a4b;"/>
                    <polyline points="509.2 304.4 520 304.4 599.7 304.4" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <polyline points="599.7 197.6 599.7 224.4 599.7 304.4" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                </g>
                
                <g id="demo-pr-2" class="pr-piece">
                    <rect x="667.3" y="169.2" width="177.9" height="106.8" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <path d="M835.8,265.2c-.2,3.8-.7,7.4-1.4,10.9h-167.1v-80.1c18.5,4.1,30.7,15.7,43.5,29.1,5-3.8,9.1-9.2,13.8-13.4,43.8-38.7,108.3-9,111.2,48.1,0,1.7,0,3.7,0,5.4Z" style="fill: #e94a4b;"/>
                    <polyline points="845.2 276.1 834.4 276.1 667.3 276.1" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <polyline points="667.3 276.1 667.3 196 667.3 169.2" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                </g>
                
                <g id="demo-pr-3" class="pr-piece">
                    <rect x="538.3" y="366.1" width="268.4" height="161.6" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <path d="M795.9,366.1c-5.8,26.3-27.6,42.5-46.4,61.6-24,24.4-47.8,49.1-72.2,73.2-2.8,2.5-7.3,2.4-10-.2-23.6-23.4-46.7-47.3-70-71-10.9-11.1-24.4-22.8-34.2-34.6-7.4-9-11.9-18.9-14.1-28.9h246.8Z" style="fill: #e94a4b;"/>
                    <polyline points="806.7 366.1 795.9 366.1 628.8 366.1 549.1 366.1 538.3 366.1" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                </g>
                
                <!-- Tıklanabilir alanlar - şeffaf -->
                <rect id="demo-tk-1" class="tk-piece" x="122.5" y="111.5" width="85.5" height="101.8"/>
                <rect id="demo-tk-2" class="tk-piece" x="213" y="111.5" width="172.9" height="101.8"/>
                <rect id="demo-tk-3" class="tk-piece" x="122.5" y="218.3" width="263.4" height="156.6"/>
                
                <!-- Yeşil daire vurgusu - PR-2 için -->
                <ellipse cx="756.25" cy="222.6" rx="133" ry="80" class="highlight-circle"/>
            </svg>
            
            <div class="demo-info">Örneği Dikkatle İzleyin!</div>
            
        </div>

        <!-- Transition Screen -->
        <div id="transition-screen" class="puzzle-section">
            <div class="instruction-box">
                <div class="highlight-text">
                    Örnek Uygulamaya Hazırsanız "Başla" Butonuna Tıklayın!
                </div>  
            </div>
            <button class="btn btn-next" id="transitionStartBtn" onclick="startPractice()">Başla</button>
        </div>

        <!-- Practice Section -->
        <div id="practice-section" class="puzzle-section">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Arka plan -->
                <rect width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- Sol büyük kare -->
                <rect x="120" y="109" width="268.4" height="268.4" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path d="M379,199.5c0,1.7,0,3.7,0,5.4-1.6,33.1-26.6,50.8-47.8,72.4-24,24.4-47.9,49.1-72.2,73.2-2.8,2.5-7.4,2.4-10-.2-23.6-23.4-46.7-47.3-70-71-10.9-11.1-24.4-22.8-34.2-34.6-39.6-48.4,1.7-121.1,63.9-109.3,19.5,3.7,32.1,15.7,45.2,29.5,5.1-3.8,9.1-9.2,13.8-13.4,43.8-38.7,108.3-9,111.3,48.1Z" style="fill: #e94a4b;"/>
                <line x1="120" y1="215.8" x2="388.4" y2="215.8" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <line x1="210.5" y1="109" x2="210.5" y2="215.8" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                
                <!-- Sağ parçalar -->
                <g id="practice-pr-1">
                    <path d="M509.2,197.6v106.8h90.5v-106.8h-90.5Z" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <path d="M599.7,224.4v80.1h-79.7c-9.4-43.7,27.4-90,78-80.4.6.1,1.2.2,1.7.4Z" style="fill: #e94a4b;"/>
                    <polyline points="509.2 304.4 520 304.4 599.7 304.4" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <polyline points="599.7 197.6 599.7 224.4 599.7 304.4" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                </g>
                
                <g id="practice-pr-2">
                    <rect x="667.3" y="169.2" width="177.9" height="106.8" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <path d="M835.8,265.2c-.2,3.8-.7,7.4-1.4,10.9h-167.1v-80.1c18.5,4.1,30.7,15.7,43.5,29.1,5-3.8,9.1-9.2,13.8-13.4,43.8-38.7,108.3-9,111.2,48.1,0,1.7,0,3.7,0,5.4Z" style="fill: #e94a4b;"/>
                    <polyline points="845.2 276.1 834.4 276.1 667.3 276.1" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <polyline points="667.3 276.1 667.3 196 667.3 169.2" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                </g>
                
                <g id="practice-pr-3">
                    <rect x="538.3" y="366.1" width="268.4" height="161.6" style="fill: #fcbd0f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                    <path d="M795.9,366.1c-5.8,26.3-27.6,42.5-46.4,61.6-24,24.4-47.8,49.1-72.2,73.2-2.8,2.5-7.3,2.4-10-.2-23.6-23.4-46.7-47.3-70-71-10.9-11.1-24.4-22.8-34.2-34.6-7.4-9-11.9-18.9-14.1-28.9h246.8Z" style="fill: #e94a4b;"/>
                    <polyline points="806.7 366.1 795.9 366.1 628.8 366.1 549.1 366.1 538.3 366.1" style="fill: none; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                </g>
                
                <!-- Tıklanabilir alanlar -->
                <rect id="practice-tk-1" class="clickable" x="122.5" y="111.5" width="85.5" height="101.8"/>
                <rect id="practice-tk-2" class="clickable" x="213" y="111.5" width="172.9" height="101.8"/>
                <rect id="practice-tk-3" class="clickable" x="122.5" y="218.3" width="263.4" height="156.6"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="practice-highlight-pr-1" cx="554.45" cy="251" r="80" class="highlight-circle" style="display: none;"/>
                <ellipse id="practice-highlight-pr-2" cx="756.25" cy="222.6" rx="133" ry="80" class="highlight-circle" style="display: none;"/>
                <ellipse id="practice-highlight-pr-3" cx="672.5" cy="446.9" rx="201" ry="121" class="highlight-circle" style="display: none;"/>
            </svg>
        </div>
        
        <!-- Practice Completion Screen -->
        <div id="practice-completion-screen" class="puzzle-section">
            <div class="instruction-box">
                <div class="highlight-text">
                    Örnek Uygulamayı Tamamladınız!
                </div>
            </div>
            <button class="btn btn-next" id="practiceCompletionBtn" onclick="goToTestPreparation()">İleri</button>
        </div>
        
        <!-- Practice Fail Screen -->
        <div id="practice-fail-screen" class="puzzle-section">
            <div class="instruction-box">
                <div class="highlight-text">
                    Yeterli doğru cevabı vermediniz, örnek uygulama tekrar edilecektir.
                </div>
            </div>
            <button class="btn btn-next visible" onclick="retryPracticeFromFail()">Tamam</button>
        </div>
        
        <!-- Test Preparation Screen -->
        <div id="test-preparation-screen" class="puzzle-section">
            <div class="instruction-box">
                <div class="highlight-text">
                    Teste Hazırlanın! Size Gösterilecek 9 Yapbozu Tamamlamak İçin 4 Dakikanız Var!
                </div>
            </div>
            <button class="btn btn-next" id="testPreparationBtn" onclick="goToTest()" style="opacity: 0; transform: translateY(20px);">Başla</button>
        </div>
        
        <!-- Test 1 Section -->
        <div id="test1-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test1-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Tanımlamalar -->
                <defs>
                    <clipPath id="clippath-test1">
                        <rect width="957.3" height="666.7" style="fill: none;"/>
                    </clipPath>
                    <linearGradient id="linear-gradient-test1" x1="-80.9" y1="374.1" x2="1478.3" y2="374.1" gradientTransform="translate(-15.3 -7.2) rotate(.3) scale(1) skewX(.6)" gradientUnits="userSpaceOnUse">
                        <stop offset=".3" stop-color="#e74b4c"/>
                        <stop offset="1" stop-color="#fff"/>
                    </linearGradient>
                </defs>
                
                <!-- Arka plan -->
                <rect width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- Gradient arka plan -->
                <g style="clip-path: url(#clippath-test1);">
                    <polygon points="828.9 769.1 -96.4 122 -11.1 -29.1 1057.5 288.5 828.9 769.1" style="fill: url(#linear-gradient-test1);"/>
                </g>
                
                <!-- Sağ taraftaki hedef parçalar -->
                <path id="test1-pr-4" d="M507.6,257.8v60.1h-36.9c-8.3,0-15.8-3.4-21.3-8.8-5.4-5.4-8.8-13-8.8-21.3s.3-4.7.8-6.9c3.1-13.3,15-23.1,29.3-23.1h36.9Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <polygon id="test1-pr-1" points="844.2 428.7 801.4 586.6 763.3 586.6 763.3 385.6 813 385.6 844.2 428.7" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path id="test1-pr-3" d="M753.3,251.1v46.4h-162.9l42.9-157.9,53.9,74.4c-.5,2.2-.8,4.5-.8,6.9,0,16.6,13.5,30.1,30.1,30.1h36.9Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path id="test1-pr-2" d="M590.4,427.3v94.4h-36.9c-14.2,0-26.1,9.9-29.3,23.1l-53.9-74.4-31.2-43.1h151.2Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                
                <!-- Sol taraftaki ana parçalar -->
                <rect x="112" y="92.2" width="206.5" height="206.5" style="stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                <path d="M163.1,97.4h-46v196h33.7l42.1-154.9-29.7-41.1Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                <path d="M169.2,97.4l79.3,109.6c4.9-11.8,16.6-20.2,30.1-20.2h34.4v-89.4h-143.8Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                <path d="M313.1,192.1v55.1h-34.4c-15.2,0-27.6-12.4-27.6-27.6s12.4-27.6,27.6-27.6h34.4Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                <path d="M278.7,252h34.4v41.4h-157.1l40.7-149.7,50.1,69.3c-.4,2.1-.6,4.2-.6,6.4,0,18,14.6,32.6,32.6,32.6Z" style="fill: #fcbd0e; stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                
                <!-- Tıklanabilir alanlar -->
                <path id="test1-tk-1" d="M163.1,97.5h-46v196h33.7l42.1-154.9-29.7-41.1Z" class="clickable"/>
                <path id="test1-tk-2" d="M169.3,97.5l79.3,109.6c4.9-11.8,16.6-20.2,30.1-20.2h34.4v-89.4h-143.8Z" class="clickable"/>
                <path id="test1-tk-3" d="M278.7,252h34.4v41.4h-157.1l40.7-149.7,50.1,69.3c-.4,2.1-.6,4.2-.6,6.4,0,18,14.6,32.6,32.6,32.6Z" class="clickable"/>
                <path id="test1-tk-4" d="M313.1,191.9v55.1h-34.4c-15.2,0-27.6-12.4-27.6-27.6s12.4-27.6,27.6-27.6h34.4Z" class="clickable"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="test1-highlight-pr-1" cx="803.75" cy="486.1" r="160" class="highlight-circle" style="display: none;"/>
                <circle id="test1-highlight-pr-2" cx="514.8" cy="474.5" r="130" class="highlight-circle" style="display: none;"/>
                <circle id="test1-highlight-pr-3" cx="671.85" cy="274.3" r="150" class="highlight-circle" style="display: none;"/>
                <circle id="test1-highlight-pr-4" cx="474.1" cy="287.85" r="90" class="highlight-circle" style="display: none;"/>
            </svg>
            
        </div>
        
        <!-- Test 2 Section -->
        <div id="test2-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test2-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg id="test2-puzzle-svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Tanımlamalar -->
                <defs>
                    <clipPath id="test2-clippath">
                        <rect x="84.3" y="0" width="802.7" height="666.7" style="fill: none;"/>
                    </clipPath>
                    <linearGradient id="test2-linear-gradient" x1="3789.5" y1="11670.9" x2="4013.2" y2="12678" gradientTransform="translate(-8593.2 9131.8) rotate(-116.1) scale(1) skewX(.6)" gradientUnits="userSpaceOnUse">
                        <stop offset=".3" stop-color="#fcbd0f"/>
                        <stop offset="1" stop-color="#fff"/>
                    </linearGradient>
                </defs>
                
                <!-- Arka plan -->
                <rect y="0" width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- Gradient arka plan -->
                <g style="clip-path: url(#test2-clippath);">
                    <polygon points="800.9 -50.4 563.3 670.2 334.7 666.5 98.7 -37.8 800.9 -50.4" style="fill: url(#test2-linear-gradient);"/>
                </g>
                
                <!-- Sağ taraftaki hedef parçalar -->
                <path id="test2-pr-3" d="M419.8,465.7c0,36.1-16.2,68.4-41.7,90.1l-38.4-60.3-42.1-66.2,53.5-70.9c40.5,18.8,68.5,59.7,68.5,107.3Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path id="test2-pr-2" d="M541.7,307.7l42.1,66.2-68.7,8.6,5.9-38.3-49.9-91.8c20.3-16.5,46.3-26.5,74.5-26.5s34.6,3.9,49.7,10.9l-53.5,70.9Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path id="test2-pr-1" d="M749.7,152.4l-5.9,38.3-11.1,72.4c-44.8-16.8-76.6-60-76.6-110.7s17-70.1,43.7-91.8l50,91.8Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                <path id="test2-pr-4" d="M624.1,540.4c-20.6,17.6-47.4,28.2-76.6,28.2s-28.7-2.7-41.6-7.5l11.1-72.4,68.7-8.6,38.4,60.3Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 5px;"/>
                
                <!-- Sol taraftaki ana parçalar -->
                <circle cx="297.9" cy="149.5" r="120.7" style="stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                <g>
                    <path d="M343.8,43.3c-14-6.1-29.5-9.4-45.8-9.4-26.9,0-51.7,9.2-71.3,24.6l49.3,90.6-5.5,35.9,61.5-7.7-40.9-64.3,52.7-69.7Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 1px;"/>
                    <path d="M348.1,45.6l-51.2,67.8,77.9,122.6c23.7-21.2,38.6-52,38.6-86.2s-26.7-85.4-65.3-104.1Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 1px;"/>
                    <path d="M334.8,181.9l36.3,57.1c-20,16.4-45.5,26.2-73.2,26.2s-26.7-2.4-38.8-6.7l10.5-68.4,65.2-8.2Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 1px;"/>
                    <path d="M223,61.1c-24.8,21.2-40.5,52.7-40.5,87.8s29.9,89.9,72.1,107.2l16.4-106.7-48-88.3Z" style="fill: #bd5c9f; stroke: #000; stroke-miterlimit: 10; stroke-width: 1px;"/>
                </g>
                
                <!-- Tıklanabilir alanlar -->
                <path id="test2-tk-2" d="M343.8,43.3c-14-6.1-29.5-9.4-45.8-9.4-26.9,0-51.7,9.2-71.3,24.6l49.3,90.6-5.5,35.9,61.5-7.7-40.9-64.3,52.7-69.7Z" class="clickable"/>
                <path id="test2-tk-3" d="M348.1,45.6l-51.2,67.8,77.9,122.6c23.7-21.2,38.6-52,38.6-86.2s-26.7-85.4-65.3-104.1Z" class="clickable"/>
                <path id="test2-tk-4" d="M334.8,181.9l36.3,57.1c-20,16.4-45.5,26.2-73.2,26.2s-26.7-2.4-38.8-6.7l10.5-68.4,65.2-8.2Z" class="clickable"/>
                <path id="test2-tk-1" d="M223,61.1c-24.8,21.2-40.5,52.7-40.5,87.8s29.9,89.9,72.1,107.2l16.4-106.7-48-88.3Z" class="clickable"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="test2-highlight-pr-1" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test2-highlight-pr-2" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test2-highlight-pr-3" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test2-highlight-pr-4" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
            </svg>
            
        </div>
        
        <!-- Test 3 Section -->
        <div id="test3-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test3-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg id="test3-puzzle-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Tanımlamalar -->
                <defs>
                    <clipPath id="test3-clippath">
                        <rect y="0" width="957.3" height="666.7" style="fill: none;"/>
                    </clipPath>
                    <linearGradient id="test3-linear-gradient" x1="-1916.4" y1="-2979.9" x2="-1692.7" y2="-1972.8" gradientTransform="translate(1180.1 3600.6) rotate(22.1) scale(1) skewX(.6)" gradientUnits="userSpaceOnUse">
                        <stop offset=".3" stop-color="#fcbd0e"/>
                        <stop offset="1" stop-color="#fff"/>
                    </linearGradient>
                </defs>
                
                <!-- Arka plan -->
                <rect y="0" width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- Gradient arka plan -->
                <g style="clip-path: url(#test3-clippath);">
                    <polygon points="346.4 872.7 43.5 177 216.4 27.5 861.7 395.4 346.4 872.7" style="fill: url(#test3-linear-gradient);"/>
                </g>
                
                <!-- Sol taraftaki ana üçgen -->
                <g>
                    <polygon points="222 54.5 102.1 262.3 342 262.3 222 54.5" style="stroke: #000; stroke-miterlimit: 10; stroke-width: 2px;"/>
                    <g>
                        <polygon points="220.7 67.1 115.8 248.8 234.7 147.2 220.7 67.1" style="fill: #e94a4b;"/>
                        <polygon points="329 249.4 227.1 72.8 246.3 183.2 329 249.4" style="fill: #e94a4b;"/>
                        <polygon points="113.1 257 253.9 257 235.6 152.3 113.1 257" style="fill: #e94a4b;"/>
                        <polygon points="259.6 257.2 331 257.2 247.9 190.7 259.6 257.2" style="fill: #e94a4b;"/>
                    </g>
                </g>
                
                <!-- Sağ taraftaki hedef parçalar -->
                <g id="test3-pr-1">
                    <polygon points="601.5 321.5 538.7 162.7 693.4 334.6 601.5 321.5" style="fill: #e94a4b;"/>
                    <path d="M699.8,338l-100.1-14.3-68.5-173.1,168.6,187.4ZM603.3,319.2l83.6,11.9-140.8-156.5,57.2,144.5Z"/>
                </g>
                
                <g id="test3-pr-3">
                    <polygon points="493 336.6 448.2 480.3 383.4 322.3 417.4 326.7 493 336.6" style="fill: #e94a4b;"/>
                    <path d="M448.5,487.7l-69-168.4,116.8,15.2-47.8,153.2ZM387.4,325.4l60.5,147.6,41.9-134.3-102.4-13.3Z"/>
                </g>
                
                <g id="test3-pr-2">
                    <polygon points="541.1 556.5 612.4 459.8 645.9 452.6 736.7 433 541.1 556.5" style="fill: #e94a4b;"/>
                    <path d="M531.2,565.7l79.7-108.2,138.9-30-218.7,138.2ZM613.9,462l-62.9,85.2,172.3-108.9-109.5,23.7Z"/>
                </g>
                
                <g id="test3-pr-4">
                    <polygon points="260.2 505.3 340.8 508.2 351.2 583.7 260.2 505.3" style="fill: #e94a4b;"/>
                    <path d="M354.6,589.9l-101.4-87.4,89.8,3.2,11.6,84.2ZM267.2,508.1l80.6,69.4-9.2-66.9-71.4-2.6Z"/>
                </g>
                
                <!-- Tıklanabilir alanlar -->
                <polygon id="test3-tk-1" points="220.7 67.1 115.8 248.8 234.7 147.2 220.7 67.1" class="clickable"/>
                <polygon id="test3-tk-2" points="329 249.4 227.1 72.8 246.3 183.2 329 249.4" class="clickable"/>
                <polygon id="test3-tk-3" points="113.1 257 253.9 257 235.6 152.3 113.1 257" class="clickable"/>
                <polygon id="test3-tk-4" points="259.6 257.2 331 257.2 247.9 190.7 259.6 257.2" class="clickable"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="test3-highlight-pr-1" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test3-highlight-pr-2" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test3-highlight-pr-3" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test3-highlight-pr-4" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
            </svg>
            
        </div>
        
        <!-- Test 4 Section -->
        <div id="test4-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test4-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg id="test4-puzzle-svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Tanımlamalar -->
                <defs>
                    <linearGradient id="test4-linear-gradient" x1="-181.3" y1="333.3" x2="776" y2="333.3" gradientUnits="userSpaceOnUse">
                        <stop offset="0" stop-color="#fff"/>
                        <stop offset="1" stop-color="#56af31"/>
                    </linearGradient>
                </defs>
                
                <!-- Arka plan -->
                <rect y="0" width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- Elips gradient arka plan -->
                <ellipse cx="478.7" cy="333.3" rx="478.7" ry="333.3" style="fill: url(#test4-linear-gradient);"/>
                
                <!-- Ortadaki ana kare -->
                <g>
                    <polygon points="589 38.1 351.7 38.1 346.7 38.1 346.7 43.1 346.7 280.4 346.7 285.4 351.7 285.4 589 285.4 594 285.4 594 280.4 594 43.1 594 38.1 589 38.1"/>
                    <rect x="472.8" y="164.3" width="116.2" height="116.2" style="fill: #e94a4b;"/>
                    <rect x="472.8" y="43.1" width="116.2" height="116.2" style="fill: #e94a4b;"/>
                    <rect x="351.7" y="43.1" width="116.2" height="116.2" style="fill: #e94a4b;"/>
                    <rect x="351.7" y="164.3" width="116.2" height="116.2" style="fill: #e94a4b;"/>
                    <path d="M467.8,76.1c-3.9-.7-7.9-.7-11.9-.3-8.2.9-16,3.8-23.8,6.6-7,2.5-14.9,6.2-17.1,13v-.2c-.7,1.7-1.5,3.3-2.3,5-7.2-3.9-14.5-7.8-21.7-11.7-3.2-1.8-6.6-3.5-10.2-4-3.7-.4-7.8.8-9.7,4-1.1,1.8-1.3,4.1-1.3,6.3.3,9.9,6.1,19,13.8,25.2,7.7,6.2,17.2,9.7,26.8,12.3,9.8,2.7,20.1,4.5,29,9.6,1.7,1,3.4,2.2,4.4,3.9,1.2,2,1.3,4.4,1.1,6.6-.1,2.3-.4,4.6-.9,6.9h23.7v-83.1Z" style="fill: #fcbd0f;"/>
                    <path d="M539.6,159.2c-7.9-2-16.6-.5-24.4-3.2-11.7-4.1-18.5-18.7-14.1-30.3,1-2.6,2.5-5.1,2.7-7.9.3-3.3-1.2-6.5-2.8-9.4-3.5-6.5-7.6-12.8-12.2-18.6-2.7-3.4-5.6-6.7-9.1-9.1-2.1-1.5-4.4-2.6-6.9-3.4v81.8h66.7Z" style="fill: #fcbd0f;"/>
                    <path d="M442.8,164.3c-2.8,8.9-7.9,17.1-14.1,24.1-8.9,10-20,17.8-31.2,25.2-2.4,1.6-4.9,3.3-5.9,6-.9,2.3-.4,4.8,0,7.2,1.5,7.8,4.2,16.7,11.6,19.6,3.4,1.4,7.3,1.1,10.9.7,18.6-2.2,36.3-8.8,53.6-15.9v-66.9h-25Z" style="fill: #fcbd0f;"/>
                    <path d="M472.8,229.1c.2,0,.3-.1.5-.2,5.6-2.4,11.5-4.9,15.5-9.5,9.3-10.6,6.6-29.2,18-37.5.9-.7,2-1.3,3.2-1.2,1.1,0,2.2.8,3.1,1.4,6.1,4.5,11.7,9.6,16.8,15.2,4.9,5.5,9.3,11.7,15.2,16.2,5.9,4.5,13.8,7.3,20.8,4.8,2.1-.7,4.2-2,5.3-3.9,2-3.3.7-7.6-.6-11.2-2.6-7.1-5.6-14.1-8.8-20.9-3.2-6.6-7-13.5-12.5-18.1h-76.4v64.9Z" style="fill: #fcbd0f;"/>
                </g>
                
                <!-- Sağ taraftaki hedef parçalar -->
                <g id="test4-pr-1">
                    <rect x="85.2" y="225.5" width="123.7" height="123.7" style="fill: #e94a4b;"/>
                    <path d="M206.4,228v118.7h-118.7v-118.7h118.7M211.4,223H82.7v128.7h128.7v-128.7h0Z"/>
                    <path d="M87.7,228h68.4c7.6,18.1,14.6,36.6,17,56.1.4,3.7.7,7.5-.7,10.9-2.9,7.4-11.8,10.1-19.6,11.6-2.4.5-5,.9-7.2,0-2.7-1-4.4-3.6-6-6-7.4-11.2-15.2-22.3-25.2-31.2-7.6-6.8-16.7-12.3-26.6-14.8v-26.8Z" style="fill: #fcbd0f;"/>
                </g>
                
                <g id="test4-pr-4">
                    <rect x="750.8" y="225.5" width="123.7" height="123.7" style="fill: #e94a4b;"/>
                    <path d="M871.9,228v118.7h-118.7v-118.7h118.7M876.9,223h-128.7v128.7h128.7v-128.7h0Z"/>
                    <path d="M796.5,228h75.4v85.1c-3.3-.8-6.5-2.2-9.3-4.1-3.6-2.4-6.5-5.7-9.2-9.1-4.6-5.8-8.7-12.1-12.2-18.6-1.6-2.9-3.1-6.1-2.8-9.4.2-2.8,1.7-5.3,2.7-7.9,4.4-11.6-2.4-26.2-14.1-30.3-8.8-3.1-18.9-.7-27.5-4.2-1.1-.4-2.1-.9-3-1.5Z" style="fill: #fcbd0f;"/>
                </g>
                
                <g id="test4-pr-2">
                    <rect x="280.7" y="477.2" width="123.7" height="123.7" style="fill: #e94a4b;"/>
                    <path d="M401.8,479.7v118.7h-118.7v-118.7h118.7M406.8,474.7h-128.7v128.7h128.7v-128.7h0Z"/>
                    <path d="M368.2,598.4h-85.1v-26.8c3.1.8,6.2,1.3,9.4,1.5,2.3.1,4.7,0,6.7-1.1,1.7-1,2.9-2.7,3.9-4.5,5.1-8.8,6.9-19.1,9.6-29,2.6-9.5,6.1-19,12.3-26.8,6.2-7.7,15.3-13.5,25.2-13.8,2.2,0,4.4.2,6.3,1.3,3.2,1.9,4.4,6,4,9.7-.4,3.7-2.2,7-4,10.2-3.9,7.2-7.8,14.5-11.7,21.7,1.7.8,3.3,1.6,5,2.4h-.2c6.8,2.1,10.5,10,13,17,2.8,7.8,5.7,15.6,6.6,23.8.5,4.8.4,9.7-.8,14.4Z" style="fill: #fcbd0f;"/>
                </g>
                
                <g id="test4-pr-3">
                    <rect x="553" y="477.2" width="123.7" height="123.7" style="fill: #e94a4b;"/>
                    <path d="M674.2,479.7v118.7h-118.7v-118.7h118.7M679.2,474.7h-128.7v128.7h128.7v-128.7h0Z"/>
                    <path d="M573.3,545.6c1.1-1.9,3.2-3.2,5.3-3.9,7-2.4,14.9.3,20.8,4.8,5.9,4.5,10.3,10.6,15.2,16.2,5,5.6,10.7,10.8,16.8,15.2.9.7,1.9,1.4,3.1,1.4,1.2,0,2.2-.5,3.2-1.2,11.5-8.2,8.8-26.9,18-37.5,4-4.6,9.9-7.2,15.5-9.5,1-.4,2-.8,3-1.2v68.4h-75.4c-7.5-4.4-12.2-12.7-16-20.6-3.2-6.8-6.2-13.8-8.8-20.9-1.3-3.6-2.6-7.9-.6-11.2Z" style="fill: #fcbd0f;"/>
                </g>
                
                <!-- Tıklanabilir alanlar -->
                <rect id="test4-tk-1" x="351.8" y="43.1" width="116.2" height="116.2" class="clickable"/>
                <rect id="test4-tk-2" x="473" y="43.1" width="116.2" height="116.2" class="clickable"/>
                <rect id="test4-tk-4" x="473" y="164.2" width="116.2" height="116.2" class="clickable"/>
                <rect id="test4-tk-3" x="351.8" y="164.2" width="116.2" height="116.2" class="clickable"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="test4-highlight-pr-1" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test4-highlight-pr-2" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test4-highlight-pr-3" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
                <circle id="test4-highlight-pr-4" cx="0" cy="0" r="0" class="highlight-circle" style="display: none;"/>
            </svg>
            
        </div>
        
        <!-- Test 5 Section -->
        <div id="test5-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test5-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Arka plan -->
                <rect width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- SVG içeriği buraya gelecek - placeholder -->
                <image href="puzzle-5-01.svg" width="957.3" height="666.7"/>
                
                <!-- Tıklanabilir alanlar -->
                <path id="test5-tk-1" d="M230.6,78.4c-1.3,5-2.7,8.7-3.3,9.6-1.6,2.4-4.5,4.3-8.9,5.6-6.7,2-13.8,2.5-20.7,1.2-.9-.2-2.3-.4-3.7-.5-5.1-.4-8.3,1.1-9.7,4.4-1.8,4.3,1.4,8.7,5.4,10.5,1.5.7,3.1,1.1,4.6,1.5,1.5.4,2.9.7,4.1,1.3,5.3,2.6,7.3,9.8,6.2,21.8-.2,2.4-1.1,8.1-4.2,8.5-1.4.1-3-.8-4.7-1.9l-.4-.2c-8.4-5.1-18.2-7.8-28.3-7.9-.4,0-.8,0-1.1,0-7.4,0-14.8,1.6-21.4,4.5-4.6,2-9,4.7-13.1,7.2l-1.3.8c-7.5,4.7-14.6,9.1-22.8,10.2-5,.7-10.5.2-17.8-1.5-8.9-2.2-15.3-5.1-20-9.2-2.2-1.9-6.2-5.5-9.4-9.9v-56h170.4Z" class="clickable"/>
                <path id="test5-tk-2" d="M315.6,78.4v114.1c-4.6-1.6-9.3-3.3-14-4.9-7.4-2.6-14.8-5.2-21.3-7.4-4-1.4-7.7-2.6-10.8-3.7-4.8-1.6-10.3-3.5-16-3.2-10,.5-19.1,8.4-21.1,18.2-1.8,8.5,1.2,18,8.9,28.1,1.7,2.2,3.5,4.4,5.2,6.5,4.3,5.2,8.4,10.1,11,15.9.8,1.9,1.4,3.9,1.8,5.9,1.3,7.2-.5,13.6-4.8,17.1-2.1,1.7-4.9,2.9-8.1,3.3-2.4.3-4.8.2-7.2-.3-8.4-1.7-16.6-8.2-21.5-17.1-5.7-10.4-7.3-22.6-8.9-34.6l-.2-1.8c-1.7-13-4.1-26.7-11.5-37.7-3.3-4.9-7.5-9-11.6-13.1-2.4-2.4-4.9-4.8-7.1-7.3-4.1-4.7-8.8-11.6-9.1-19.2,8.4.5,16.4,2.9,23.3,7.1l.3.2c2.1,1.3,4.8,2.9,7.9,2.6,4.8-.5,7.9-5.1,8.6-13,.5-5.3,2-21.3-8.9-26.7-1.7-.8-3.4-1.3-5.1-1.7-1.4-.4-2.7-.7-3.8-1.2-1.8-.8-3.4-2.7-2.8-4,.4-1.1,2-1.5,4.7-1.3,1.2,0,2.4.3,3.2.4,7.6,1.4,15.6.9,23-1.3,5.6-1.7,9.4-4.2,11.7-7.7,1.3-2,3-7.4,4.2-12.3h79.9Z" class="clickable"/>
                <path id="test5-tk-3" d="M163.2,260.3c-5.1,4.1-12.9,2.4-17.2,1-1.9-.6-3.7-1.3-5.6-2-4.6-1.8-9.4-3.6-14.6-3.9h-.7c-9.5-.3-18.9,5.1-23.3,13.4-4.6,8.6-3.6,19.8,2.5,27.4,3.4,4.3,8.1,7.2,12.3,9.8,7.6,4.8,16.8,13.2,25.6,21.4,2.2,2.1,4.5,4.2,6.7,6.2H60.6v-191.6c2.3,2.5,4.6,4.6,6.1,5.8,5.3,4.6,12.4,7.8,22.1,10.2,5.4,1.3,12.4,2.7,19.7,1.6,9.2-1.3,17.1-6.2,24.7-11l1.2-.8c3.9-2.4,8.1-5,12.4-6.9,4.7-2,9.9-3.4,15.2-3.8-4,6.2-10.8,11-17.4,15.6-1.2.9-2.4,1.7-3.6,2.6-5.4,3.9-22.6,17.9-16.8,33.9,1.1,3.2,3,5.8,5.2,8.7,7.5,9.9,15.7,19.6,24.3,28.7l.9,1c4.5,4.7,9.1,9.6,11.4,15.5,2.2,5.6,1.9,13.2-3,17.1Z" class="clickable"/>
                <path id="test5-tk-4" d="M315.7,197.9v136.1h-159.6c-3.6-3.1-7.2-6.6-10.8-9.9-9-8.4-18.3-17-26.3-22-4-2.5-8.1-5.1-11-8.7-4.8-6-5.6-15-2-21.9,3.5-6.6,11-10.9,18.7-10.8h.6c4.4.3,8.6,1.9,13.1,3.6,1.9.7,3.8,1.5,5.8,2.1,8.9,2.9,16.7,2.2,21.8-1.9,7-5.6,7.2-15.8,4.5-22.8-2.7-6.8-7.6-12-12.4-17.1l-.9-1c-8.4-8.9-16.5-18.5-23.9-28.3-1.9-2.5-3.6-4.8-4.5-7.4-3.7-10.2,5.4-21.2,15-28.2,1.2-.8,2.4-1.7,3.6-2.5,6.5-4.6,13.2-9.3,17.7-15.5,1.5,7.3,5.9,13.6,9.8,18.1,2.3,2.7,4.9,5.2,7.3,7.6,4.1,4,7.9,7.8,10.9,12.3,6.9,10.1,9,22.6,10.7,35.5l.2,1.7c1.7,12.4,3.4,25.2,9.5,36.5,5.5,10.1,15.1,17.6,24.9,19.6,3,.6,6,.7,8.9.3,4.1-.6,7.7-2.1,10.6-4.4,5.8-4.7,8.3-12.9,6.6-21.9-.4-2.4-1.2-4.8-2.2-7-2.9-6.5-7.4-11.9-11.7-17.1-1.7-2.1-3.5-4.2-5.1-6.3-6.8-8.9-9.5-17-8-24.1,1.6-7.5,8.8-13.8,16.5-14.2,4.8-.3,9.5,1.4,14.1,2.9,3.1,1.1,6.8,2.3,10.8,3.7,6.8,2.4,14.6,5.1,22.4,7.8,5,1.7,9.9,3.5,14.6,5.1Z" class="clickable"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="test5-highlight-pr-1" cx="840" cy="220" r="120" class="highlight-circle" style="display: none;"/>
                <circle id="test5-highlight-pr-2" cx="355" cy="520" r="130" class="highlight-circle" style="display: none;"/>
                <circle id="test5-highlight-pr-3" cx="700" cy="510" r="135" class="highlight-circle" style="display: none;"/>
                <circle id="test5-highlight-pr-4" cx="550" cy="220" r="145" class="highlight-circle" style="display: none;"/>
            </svg>
            
        </div>
        
        <!-- Test 6 Section -->
        <div id="test6-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test6-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Arka plan -->
                <rect width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- SVG içeriği -->
                <image href="puzzle-6-01.svg" width="957.3" height="666.7"/>
                
                <!-- Tıklanabilir alanlar -->
                <rect id="test6-tk-1" x="97.1" y="68.2" width="80.7" height="110.3" class="clickable"/>
                <rect id="test6-tk-2" x="182.5" y="68.2" width="80.7" height="110.3" class="clickable"/>
                <rect id="test6-tk-3" x="268" y="68.2" width="80.7" height="110.3" class="clickable"/>
                <rect id="test6-tk-4" x="97.1" y="183.7" width="80.7" height="110.4" class="clickable"/>
                <rect id="test6-tk-5" x="182.5" y="183.7" width="80.7" height="110.4" class="clickable"/>
                <rect id="test6-tk-6" x="268" y="183.7" width="80.7" height="110.4" class="clickable"/>
                
                <!-- Yeşil daire vurguları -->
                <circle id="test6-highlight-pr-1" cx="0" cy="0" r="50" class="highlight-circle" style="display: none;"/>
                <circle id="test6-highlight-pr-2" cx="0" cy="0" r="50" class="highlight-circle" style="display: none;"/>
                <circle id="test6-highlight-pr-3" cx="0" cy="0" r="50" class="highlight-circle" style="display: none;"/>
                <circle id="test6-highlight-pr-4" cx="0" cy="0" r="50" class="highlight-circle" style="display: none;"/>
                <circle id="test6-highlight-pr-5" cx="0" cy="0" r="50" class="highlight-circle" style="display: none;"/>
                <circle id="test6-highlight-pr-6" cx="0" cy="0" r="50" class="highlight-circle" style="display: none;"/>
            </svg>
            
        </div>

        <!-- test 7 section -->
        <div id="test7-section" class="puzzle-section">
            <!-- Soru Progress Bar (Üstte - 15 saniye) -->
            <div class="question-progress-container">
                <div id="test7-question-progress-bar" class="question-progress-bar"></div>
            </div>
            
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
                <!-- Arka plan -->
                <rect width="957.3" height="666.7" style="fill: #282828;"/>
                
                <!-- SVG içeriği -->
                <image href="puzzle-7-01.svg" width="957.3" height="666.7"/>
            
                <!-- Tıklanabilir alanlar -->
                <path id="test7-tk-1" class="clickable" data-center="8.6,6.5" d="M143.8,96.9c0,1.1,0,2.2,0,3.3,0,1,0,2,0,3,0,1.1,0,2.3-.1,3.4,0,1.1,0,2.3-.1,3.4,0,1,0,2.1-.2,3.1,0,.2,0,.5,0,.8,0,.9,0,1.7-.2,2.6,0,.8,0,1.6-.2,2.3,0,.8-.1,1.5-.2,2.3-2-.4-4-.8-6-1.1-1-.2-1.9-.3-2.9-.5-.7-.1-1.3-.2-2-.3-.8-.1-1.6-.3-2.4-.4-1.9-.3-3.9-.6-5.8-.8-.8-.1-1.7-.2-2.5-.3-.8-.1-1.6-.2-2.4-.3-6.2-.7-12.4-1.1-18.3-1.3.8-.7,1.6-1.3,2.2-2,.3-.3.6-.7.9-1.1.8-1,1.4-2.1,1.8-3.1.7-2,1-4,1-6,0-10.3-8.4-18.7-18.7-18.7s-18.6,8.4-18.6,18.7.2,3.3.7,4.9c.4,1.6,1.1,2.9,2.2,4.2v.2c.4.3.6.5.8.8l.2.2c.7.8,1.4,1.4,2.1,2,.2.1.3.3.4.5h0c-1.1.1-2.2.2-3.2.4-.6,0-1.2.1-1.9.2-1.8.2-3.6.4-5.3.7-.7.1-1.4.2-2.2.3-.9.1-1.7.3-2.5.4-.8.1-1.5.3-2.3.4-4.8.9-9.5,2-13.9,3.3-.6.2-1.2.4-1.8.5-.4.1-.8.2-1.2.4V32h95c.3,1.3.7,2.5,1,3.8,0,.4.2.8.3,1.1.1.4.2.9.3,1.4.4,1.9.8,3.7,1.2,5.6.1.5.2,1.1.3,1.6,0,.5.2,1,.3,1.5.2,1.3.5,2.6.7,3.9,0,0,0,.1,0,.2.2.9.3,1.8.4,2.7.1.7.2,1.5.3,2.2.2,1.4.4,2.8.6,4.3.2,1.4.4,2.9.5,4.3-.5-.5-1.1-1.1-1.8-1.6h-.2c-.3-.4-.6-.6-.9-.8h-.1c-1.4-1-2.8-1.6-4.4-1.9-1.7-.3-3.3-.4-5-.3-5,.4-9.5,2.7-12.7,6.5-3.2,3.8-4.8,8.6-4.4,13.6.8,10.2,9.8,17.9,20.1,17.1,2-.2,4-.7,5.9-1.5,1-.4,2-1.1,3-2,.3-.3.7-.7,1-1,.4-.5.8-1,1.2-1.5,0,1.9,0,3.7,0,5.6Z"/>
                
                <path id="test7-tk-2" class="clickable" data-center="3.4,3.4" d="M141.2,32h111.4c0,.7-.2,1.4-.2,2.1-.2,1.4-.3,2.9-.5,4.3,0,.4,0,.8-.1,1.2-.2,1.4-.3,2.9-.5,4.3-.1,1.3-.2,2.5-.4,3.8,0,.6-.1,1.2-.2,1.8-.1,1.2-.2,2.4-.3,3.6,0,.4,0,.7,0,1.1-.1,1.6-.2,3.2-.4,4.9-.2,3.4-.5,6.9-.6,10.3,0,0,0,0,0-.1-.5-.7-1.2-1.4-1.9-2.2l-.2-.2c-.2-.2-.5-.5-.8-.8h-.1c-1.3-1.2-2.6-1.9-4.1-2.4-1.6-.5-3.3-.8-4.9-.9-5-.2-9.7,1.6-13.4,5-3.6,3.4-5.7,8-5.9,13-.2,5,1.6,9.7,5,13.4,3.4,3.6,8,5.8,13,5.9,2,0,4-.2,6-.8,1.1-.3,2.1-.9,3.2-1.6.4-.3.8-.6,1.1-.9.7-.6,1.4-1.3,2.1-2.2,0,0,.1-.1.2-.2,0,1.9,0,3.8,0,5.7,0,2.8,0,5.5,0,8.3,0,3,.1,6,.2,9,0,1.1,0,2.2.1,3.3,0,1,0,2,.1,3,0,1.1,0,2.1.1,3.2,0,.2,0,.4,0,.5,0,1.2.1,2.5.2,3.8,0,.3,0,.6,0,.8,0,.3,0,.5,0,.8,0,.2,0,.5,0,.7h0c-.8,0-1.5,0-2.3,0-1.4,0-2.9,0-4.3,0-.4,0-.8,0-1.2,0-1.4,0-2.9,0-4.4-.2-1.3,0-2.5,0-3.8-.2-.7,0-1.4,0-2.1-.1-2.3-.1-4.6-.2-7-.4-.9,0-1.8-.1-2.8-.2,0,0,0,0,0,0-3.2-.2-6.3-.5-9.5-.8l-3.7-.3,1.1,3.6c.2.5.3.9.5,1.3h0c.4.8.9,1.3,1.4,1.8.7.6,1.2,1.2,1.7,1.7.2.2.4.5.6.8.4.6.7,1.2.9,1.7.4,1.5.6,3,.5,4.4,0,1.4-.3,2.7-.8,3.9-.1.4-.3.7-.4,1,0,.1-.1.2-.2.4-.2.5-.5,1-.9,1.5-.1.2-.2.4-.4.5-.6.9-1.3,1.6-2.1,2.3,0,0,0,0,0,0-.3.3-.6.5-.9.7t0,0c-.2.1-.4.3-.6.4-.3.2-.6.4-.9.5-.3.2-.6.3-1,.5-.3.1-.6.2-.9.4-.2,0-.4.1-.6.2-.4.1-.8.2-1.3.3-1.1.2-2.2.3-3.3.2-7.6-.4-13.4-6.9-13-14.4,0-1.2.3-2.4.7-3.6.3-.9.7-1.6,1.4-2.4h0c.1-.2.3-.4.5-.6l.2-.2c.6-.6,1.2-1.1,1.7-1.4.6-.4,1.1-1,1.7-1.7.5-.8.9-1.7,1.1-2.6l.7-2.7-2.8-.3c-14.9-1.9-29.8-4.3-44.2-7.4-.4,0-.8-.2-1.2-.2h0s0,0,0,0c0-.4,0-.7,0-1.1,0-.9.1-1.9.2-2.8,0-.7,0-1.4.1-2.2,0-.3,0-.7,0-1,0-.7,0-1.4.1-2.1,0-.9,0-1.8.1-2.8,0-.7,0-1.5,0-2.2,0-.7,0-1.4,0-2.1.2-6.4.2-12.8,0-19.1v-2.7c0,0-2.8.3-2.8.3-1.4.2-2.7.7-4,1.6-.6.5-1.1,1-1.5,1.6-.5.7-1,1.4-1.5,1.9-.2.2-.4.5-.7.7-.6.5-1.1.9-1.6,1.1-1.4.6-2.9,1-4.3,1.1-.4,0-.7,0-1.1,0s-.8,0-1.2,0c-.3,0-.5,0-.8,0-.2,0-.4,0-.6-.1-.2,0-.5,0-.7-.1-.2,0-.4,0-.5-.2l-.6-.2c-.2,0-.5-.1-.7-.2-.2,0-.4-.1-.5-.2-.2,0-.4-.2-.6-.3-.2,0-.4-.2-.6-.3-.8-.4-1.5-.9-2.1-1.5-.3-.2-.6-.5-.8-.8-.4-.4-.9-.9-1.2-1.4-.1-.2-.2-.3-.4-.5-.4-.5-.7-1.1-1-1.6-.2-.4-.4-.7-.5-1.1,0,0,0,0,0,0-.1-.4-.3-.8-.4-1.2-.2-.9-.4-1.8-.5-2.7-.3-3.7.9-7.2,3.2-10,2.4-2.8,5.7-4.5,9.3-4.8.6,0,1.1,0,1.7,0,.4,0,.8,0,1.3.1.2,0,.4,0,.7.1,1,.2,1.7.5,2.6,1.1h0c.2.2.3.3.6.5l.2.2c.7.5,1.2,1,1.7,1.5.5.6,1.1,1,1.9,1.4,1.4.6,2.9.9,4.4.8l2.5-.3-.2-2.4c-.1-1.6-.3-3.1-.5-4.6,0-.2,0-.4,0-.6-.2-1.4-.3-2.9-.5-4.3-.2-1.5-.4-3.1-.7-4.6-.5-3.1-1-6.1-1.5-9-.1-.7-.3-1.5-.4-2.2-.1-.8-.3-1.5-.5-2.3-.2-.8-.3-1.6-.5-2.4-.2-.8-.3-1.6-.5-2.3-.3-1.3-.6-2.5-.9-3.7Z"/>
                
                <path id="test7-tk-3" class="clickable" data-center="9.8,6.6" d="M315.6,131.1c0,.7-.1,1.4,0,2.1.2,1.5.8,2.8,1.7,4.2.5.6,1,1.1,1.7,1.5.8.5,1.4.9,1.9,1.4.2.2.5.4.7.7.5.5.9,1,1.2,1.5.7,1.4,1.1,2.8,1.2,4.3.9,7.5-4.5,14.3-12,15.2-3.6.4-7.2-.6-10.1-2.9-2.9-2.3-4.7-5.5-5.1-9.2-.1-1.2-.1-2.4,0-3.6.2-1,.4-1.7,1-2.6h0c.1-.3.2-.5.4-.7l.2-.2c.5-.7,1-1.2,1.4-1.7.5-.6,1-1.2,1.4-2,.6-1.4.8-2.9.7-4.4,0-.4-.2-.9-.3-1.4l-.6-1.9-2,.2c-14.2,1.5-29.2,2.2-44.6,2.2h0c0-.4,0-.7,0-1.1,0-.4,0-.7,0-1.1,0-1.5-.1-3-.2-4.5,0-1.5-.1-3-.2-4.5s-.1-3-.1-4.5c-.2-6.1-.3-12.1-.3-18.2v-1.8c0-.7,0-1.4,0-2.1,0-1.5,0-3,0-4.6v-2.2s-2.3-.3-2.3-.3c-.2,0-.3,0-.6,0-1.5,0-2.9.4-4.4,1.1-.6.4-1.2.9-1.7,1.4-.6.7-1.1,1.2-1.7,1.7-.2.2-.5.4-.8.6-.6.4-1.2.8-1.7.9-1.5.4-3,.6-4.4.6-3.7-.1-7-1.7-9.5-4.4-2.5-2.7-3.8-6.2-3.7-9.8.1-3.7,1.7-7,4.4-9.5,2.7-2.5,6.2-3.8,9.8-3.7,1.2,0,2.4.3,3.6.6.9.3,1.6.7,2.4,1.4h0c.2.2.3.4.5.6l.2.2c.6.6,1.1,1.1,1.5,1.7.4.6,1,1.1,1.7,1.6,1.3.8,2.7,1.2,4.2,1.3.1,0,.3,0,.5,0h2.3c0,0,0-2.4,0-2.4.2-5.3.6-10.5,1-15.7.1-1.7.3-3.4.4-5.1.1-1.7.3-3.4.5-5.1.1-1.6.3-3.2.5-4.7,0-.2,0-.3,0-.4.1-1.3.3-2.6.4-3.8,0-.6.1-1.1.2-1.7.1-1.2.3-2.3.4-3.5,0-.3,0-.5,0-.8h95.9v88.2c-10.5,3.6-22.6,6.6-35.9,8.8l-1.8.3-.2,1.8Z"/>
                
                <path id="test7-tk-4" class="clickable" data-center="3.4,4.0" d="M166,182.6c0,1-.1,1.9-.3,2.9-.8,3.6-2.9,6.6-6,8.6-3.1,2-6.7,2.7-10.3,1.9-1.4-.3-2.8-.9-4.1-1.7-.5-.3-.9-.7-1.4-1.3-.2-.2-.4-.5-.6-.8-.4-.6-.8-1.3-1.2-2.1-.3-.7-.8-1.3-1.4-1.9-.9-.8-2-1.4-3.2-1.8l-2.8-.9-.4,2.9c-1.1,8.3-2.1,15.9-2.9,23,0,.8-.2,1.6-.3,2.3-.9,7.7-1.7,14.8-2.3,21.5,0,1-.2,1.9-.3,2.9,0,.9-.2,1.9-.3,2.8h0c-.8,0-1.6,0-2.4,0-1.5,0-3,0-4.4-.1-.1,0-.3,0-.4,0-1.3,0-2.7,0-4-.2-.2,0-.3,0-.5,0-1.2,0-2.5-.1-3.7-.2-1.8,0-3.5-.2-5.3-.3-3-.2-5.9-.4-8.8-.6-1.5-.1-2.9-.2-4.3-.4,0,0,.2-.1.2-.2.9-.6,1.7-1.3,2.4-1.9.4-.3.7-.7,1-1,.9-1,1.5-2,1.9-3,.8-1.9,1.3-3.9,1.4-5.9.7-10.3-7.2-19.1-17.4-19.8-5-.3-9.8,1.3-13.5,4.6s-6,7.8-6.3,12.8c-.1,1.6,0,3.3.4,5,.3,1.6.9,2.9,1.9,4.3,0,0,.1.1.2.2.2.3.4.5.7.8l.2.2c.2.2.4.4.5.6-2.6-.4-5.2-.9-7.7-1.3-1-.2-2-.4-3-.6-.8-.2-1.6-.3-2.4-.5-3.7-.8-7.3-1.6-10.7-2.5-1-.3-2-.5-3-.8v-101.7c.7-.2,1.4-.5,2.1-.7.6-.2,1.1-.4,1.7-.5.2,0,.4-.1.7-.2.5-.2,1.1-.3,1.6-.5.2,0,.3,0,.5-.1.5-.1,1-.3,1.6-.4.6-.2,1.2-.3,1.8-.5.5-.1,1-.2,1.5-.3.5-.1,1.1-.2,1.6-.4.8-.2,1.5-.3,2.3-.5,0,0,0,0,0,0,.8-.1,1.5-.3,2.3-.4.8-.1,1.6-.3,2.4-.4.8-.1,1.6-.3,2.4-.4.8-.1,1.6-.2,2.4-.4,2.3-.3,4.7-.6,7.2-.9.8,0,1.5-.1,2.3-.2,1-.1,2.1-.2,3.1-.2h2.1c0-.1.2-2.2.2-2.2,0-.3,0-.5,0-.9,0-1.5-.4-2.9-1.2-4.3-.4-.6-.9-1.2-1.5-1.7-.5-.4-1-.9-1.6-1.5l-.2-.2c-.2-.2-.3-.3-.4-.5h-.1c-.7-1-1-1.6-1.3-2.6-.3-1.2-.5-2.4-.5-3.6,0-7.6,6.2-13.7,13.7-13.7s13.7,6.1,13.7,13.7-.2,2.9-.8,4.4c-.2.5-.5,1.1-1,1.7-.2.3-.4.5-.6.7-.5.5-1.1,1-1.8,1.6-.6.5-1.1,1-1.6,1.8-.7,1.3-1.1,2.8-1.2,4.3,0,0,0,.1,0,.2v2.3c0,0,2.4,0,2.4,0,3.8,0,7.6.2,11.4.5,2.9.2,5.8.4,8.8.8.9,0,1.8.2,2.7.3.7,0,1.4.2,2.1.2.7,0,1.4.2,2.1.3,1.4.2,2.7.4,4.1.6.6,0,1.3.2,1.9.3.3,0,.7.1,1,.2.8.1,1.6.2,2.4.4.6,0,1.2.2,1.7.3,1,.2,2.1.4,3.1.5.8.2,1.7.3,2.5.5.5.1,1,.2,1.5.3,0,.2,0,.3,0,.5,0,.9-.2,1.8-.3,2.7,0,.3,0,.6,0,1-.4,3.5-.8,6.9-1.2,10.4-.8,5.8-1.6,11.7-2.4,17.6l-1.9,13.6,1.8.7c.5.2.9.3,1.4.4,1.4.3,2.9.2,4.5-.3.7-.3,1.4-.6,1.9-1.1.5-.4,1.1-.8,1.8-1.2l.3-.2c.2-.1.4-.2.6-.3h.2c1-.5,1.7-.8,2.7-.8,1.3,0,2.5,0,3.6.3.4,0,.8.2,1.2.3.1,0,.3,0,.4.1.1,0,.3,0,.4.1.2,0,.4.2.6.2.3.1.5.2.8.4.3.2.6.3.9.5.6.4,1.3.8,1.8,1.3.2.2.4.3.6.5.1.1.3.3.4.4.4.4.8.9,1.1,1.3.2.2.3.4.5.7,0,0,.1.2.2.3.2.3.4.7.6,1,.2.3.3.7.5,1.1,0,.1.1.3.2.4.2.4.3.9.4,1.4,0,.1,0,.3.1.4,0,.3.1.6.2,1,0,.3,0,.6,0,.9,0,.3,0,.6,0,1Z"/>
                
                <path id="test7-tk-5" class="clickable" data-center="5.3,5.1" d="M261.6,230.4c-.2,0-.4,0-.6,0-.7,0-1.3.2-2,.3-2.4.3-4.8.7-7.2,1-1.4.2-2.7.4-4.1.6-10.5,1.7-21.4,3.2-32.2,4.5.8-1.2,1.3-2.4,1.7-3.8.4-1.7.6-3.3.5-5-.4-10.3-9.2-18.3-19.4-17.8-10.3.4-18.3,9.1-17.8,19.4,0,2,.5,4,1.3,5.9.4,1,1,2,1.9,3,.3.4.6.7,1,1.1-17.5,1.2-34.7,1.7-51.3,1.5,0,0,0,0,0,0,0-.9.2-1.8.2-2.8,0-1,.2-2,.3-3,.1-1.6.3-3.1.5-4.7.2-2.2.4-4.4.7-6.7.1-1,.2-2,.3-3,0-.5.1-1,.2-1.5.1-.9.2-1.9.3-2.9.5-4.3,1-8.8,1.6-13.5,0-.6.2-1.2.2-1.8.2-1.2.3-2.5.5-3.8.1-1.1.3-2.3.4-3.5.2.4.4.7.7,1.1.3.4.6.8.9,1.1.8,1,1.7,1.8,2.7,2.4,1.8,1.1,3.7,1.8,5.6,2.2,4.9,1,9.9.1,14-2.6,4.2-2.7,7.1-6.9,8.1-11.8.3-1.3.4-2.6.4-4s0-.5,0-.8c0-.3,0-.5,0-.8,0,0,0,0,0,0,0-.5-.1-.9-.2-1.4,0,0,0-.2,0-.3-.1-.7-.3-1.4-.5-2.1,0-.2-.2-.5-.2-.7-.1-.4-.3-.7-.4-1.1-.2-.4-.4-.8-.6-1.2-.1-.3-.3-.6-.5-.8-.1-.2-.2-.3-.3-.5,0,0,0-.2-.1-.2,0,0,0,0,0-.1,0,0,0,0,0-.1-.4-.5-.8-1.1-1.2-1.6-.4-.5-.8-1-1.3-1.4-.9-.9-2-1.7-3.1-2.4-.2-.2-.5-.3-.7-.4-.2-.1-.4-.2-.6-.3,0,0,0,0-.1,0-.2-.1-.5-.2-.7-.3-.2-.1-.4-.2-.7-.3-.5-.2-.9-.4-1.4-.5-.3,0-.6-.2-.9-.2-.3,0-.6-.2-.9-.2-1.6-.3-3.3-.5-5-.4-1.6,0-3,.5-4.5,1.2,0,0-.2,0-.2.1-.3.2-.6.3-.9.5h-.2c-.9.7-1.7,1.2-2.4,1.8-.2.1-.4.2-.5.3-.2,0-.3,0-.5.1l1.2-8.4c.9-6.2,1.7-12.4,2.5-18.5.2-1.4.4-2.8.5-4.2s.3-2.8.5-4.2c.1-1.2.3-2.4.4-3.6,0-.4,0-.8.1-1.2,0-.3,0-.6,0-.9h0c.2,0,.4,0,.6.1,13.2,2.8,26.7,5.1,40.4,6.9-.3.3-.6.6-1,.9l-.2.2c-.2.2-.5.5-.8.8h-.1c-1.1,1.4-1.9,2.6-2.4,4.2-.5,1.6-.9,3.2-.9,4.9-.5,10.3,7.4,19.1,17.7,19.6.2,0,.3,0,.5,0,.2,0,.3,0,.5,0s.4,0,.6,0c.2,0,.4,0,.6,0,.2,0,.4,0,.7,0,.3,0,.5,0,.8,0,0,0,.1,0,.2,0,0,0,.1,0,.2,0,.2,0,.3,0,.5,0,.2,0,.3,0,.5-.1h.1c.3,0,.6-.2.8-.2.3,0,.5-.2.8-.2.3,0,.5-.2.8-.3.5-.2.9-.4,1.4-.6.2,0,.4-.2.6-.3.2-.1.4-.2.7-.4.2-.1.4-.2.6-.3.2-.1.4-.3.6-.4.2-.2.5-.3.7-.5.4-.3.9-.7,1.3-1.1,3.7-3.3,5.9-7.9,6.1-12.9.1-2-.1-4-.7-6-.3-1.1-.8-2.1-1.6-3.2-.2-.2-.3-.4-.5-.6,2.8.2,5.5.4,8.2.6.7,0,1.3,0,1.9.1,1,0,2,.1,3.1.2,1.3,0,2.6.1,4,.2,1.6,0,3.2.1,4.7.2,1.4,0,2.8,0,4.2.1,1.7,0,3.4,0,5.2,0,.4,0,.8,0,1.2,0h0s0,0,0,0h0c.8,12.2,2,24.5,3.5,36.6-.4-.3-.8-.6-1.3-.9h-.2c-.3-.3-.6-.5-.9-.7,0,0-.1,0-.2-.1-1.5-.8-2.9-1.3-4.5-1.4-1.7-.2-3.4-.1-5,.1-10.1,1.7-17,11.4-15.2,21.5.8,4.9,3.5,9.2,7.6,12.1,4.1,2.9,9,4,13.9,3.2,2-.3,3.9-1,5.7-2,1-.5,1.9-1.3,2.8-2.3.3-.4.6-.7.9-1.1.2-.2.4-.5.5-.7.2,1,.3,1.9.5,2.9,1.5,8.1,2.7,16.4,3.6,24.6Z"/>
                
                <path id="test7-tk-6" class="clickable" data-center="5.0,3.0" d="M320.7,133.5c12.2-2.1,23.4-4.9,33.2-8.2v107.6c-8.2-1.9-17.2-3.4-26.7-4.2l-2.8-.3v2.8c.2,1.1.5,2.2,1,3.3h0c.4.8.8,1.4,1.4,1.9.6.6,1.2,1.2,1.6,1.8.2.2.4.5.6.8.4.6.7,1.2.8,1.7.4,1.5.5,3,.4,4.4-.3,3.6-2,7-4.8,9.3-2.8,2.4-6.3,3.5-10,3.2-3.6-.3-7-2-9.3-4.8-2.4-2.8-3.5-6.3-3.2-10,.1-1.2.4-2.4.8-3.6.3-.9.8-1.6,1.5-2.4h0c.2-.2.3-.4.5-.6l.2-.2c.6-.6,1.2-1,1.7-1.4.6-.4,1.2-.9,1.7-1.7.5-.7.8-1.4,1.1-2.2l1.1-3.2h-3.4c-13.2-.2-27.2.5-41.7,2.2h0c-.9-8.3-2.1-16.6-3.6-24.9-.5-2.6-.9-5.1-1.3-7.6l-.5-3-2.8,1.1c-.9.4-1.7.8-2.5,1.5-.6.5-1,1.1-1.4,1.8-.4.8-.9,1.4-1.3,2-.2.3-.4.5-.6.8-.5.6-1,1-1.5,1.2-1.4.7-2.8,1.2-4.2,1.5-7.4,1.3-14.6-3.8-15.8-11.2s3.7-14.6,11.2-15.8c1.2-.2,2.4-.2,3.6-.1,1,0,1.7.3,2.7.9h0c.2.2.4.3.6.4h.2c.7.6,1.3,1.1,1.8,1.5.6.5,1.2.9,2.1,1.3,1.1.4,2.2.6,3.2.5h2.8c0,0-.4-2.8-.4-2.8-1.8-13.2-3.1-26.7-4-40.1,14.6,0,28.7-.6,42.1-2,0,.1,0,.2-.1.3-.1.2-.2.4-.4.6-.6.6-1.2,1.3-1.9,2.2l-.2.2c-.2.3-.4.6-.6.9h0c-.9,1.6-1.4,2.9-1.7,4.5-.3,1.7-.3,3.4-.1,5,.6,4.9,3,9.4,6.9,12.5,3.3,2.6,7.3,4,11.5,4s1.5,0,2.2-.1c10.2-1.2,17.6-10.5,16.4-20.7-.2-2-.8-4-1.7-5.8-.5-1-1.2-1.9-2.1-2.9-.3-.3-.7-.7-1-1-.7-.6-1.5-1.2-2.5-1.8-.2-.1-.3-.2-.5-.4-.2-.2-.3-.5-.4-.8Z"/>
                
                <path id="test7-tk-7" class="clickable" data-center="3.9,7.2" d="M131.1,342.4c.2.7.3,1.3.5,2H41.1v-109.1c1.2.3,2.3.6,3.5.9,1.2.3,2.4.6,3.6.9s2.5.6,3.8.8c1.3.3,2.5.6,3.8.8,5.2,1.1,10.7,2,16.4,2.8l3,.4-.2-3.1c0-1.2-.4-2.3-1-3.5-.4-.7-.8-1.2-1.4-1.8-.5-.4-1-1-1.5-1.6l-.2-.2c-.1-.2-.3-.3-.4-.5h0c-.6-1-.9-1.7-1.1-2.7-.3-1.2-.3-2.4-.3-3.6.2-3.7,1.9-7,4.6-9.4s6.3-3.6,9.9-3.4c7.6.5,13.3,7,12.8,14.6,0,1.4-.4,2.9-1,4.3-.2.5-.6,1-1.1,1.6-.2.2-.4.5-.7.7-.5.5-1.1,1-1.8,1.5-.6.4-1.2,1-1.7,1.7-.8,1.2-1.3,2.7-1.4,4.2,0,.2,0,.3,0,.5v2.3c0,0,2.2.2,2.2.2,1.6.2,3.1.3,4.7.4,1.6.1,3.2.3,4.8.4,1.3.1,2.6.2,3.9.3,1.5.1,3.1.2,4.6.2h.2c1.4,0,2.8.1,4.3.2.2,0,.4,0,.5,0,1.4,0,2.7.1,4.1.1.3,0,.6,0,.9,0,1,0,2.1,0,3.2,0,.4,0,.8,0,1.1,0h0c-.2,3.1-.5,6.1-.7,9.1,0,.7,0,1.5-.1,2.2-.2,3.1-.4,6.1-.5,9.1,0,.8,0,1.6-.1,2.4,0,.8,0,1.6,0,2.4,0,.8,0,1.6,0,2.4-.1,3.9-.2,7.7-.3,11.4-.5-.5-1-1.1-1.6-1.7l-.2-.2c-.2-.2-.5-.5-.8-.7h-.1c-1.3-1.1-2.6-1.8-4.2-2.3-1.6-.5-3.3-.7-4.9-.7-10.3,0-18.7,8.4-18.7,18.7s8.4,18.7,18.7,18.7,4-.3,6-1c1.1-.4,2.1-.9,3.1-1.8.4-.3.7-.6,1.1-.9.7-.6,1.4-1.4,2-2.2,0-.1.2-.2.3-.3.2,2.7.4,5.3.6,7.8,0,.8.2,1.7.3,2.5,0,.5,0,1,.2,1.5,0,.6.1,1.2.2,1.8,0,.6.1,1.1.2,1.6,0,.7.2,1.3.3,1.9.2,1.8.5,3.5.8,5.1.2,1.4.5,2.7.7,4,.2,1.3.5,2.6.8,3.9.1.6.3,1.2.4,1.8Z"/>
                
                <path id="test7-tk-8" class="clickable" data-center="7.9,4.8" d="M295.5,293.7c-.3,3.7-2,7-4.8,9.3-2.8,2.4-6.3,3.5-10,3.2-1.2,0-2.4-.4-3.6-.8-.9-.3-1.6-.8-2.4-1.5h0c-.2-.2-.3-.4-.5-.6l-.2-.2c-.6-.6-1-1.2-1.4-1.7-.4-.6-.9-1.2-1.7-1.7-1.2-.8-2.7-1.4-4.2-1.5-1.1,0-2.1,0-3.2.4l-1.6.5-.2,1.6c-.1,1-.2,2-.3,3-.2,1.8-.4,3.7-.7,5.5-.2,1.2-.3,2.5-.5,3.7-.1.8-.2,1.7-.4,2.5-.3,1.9-.6,3.9-1,5.8-.2.9-.3,1.8-.5,2.6-.2,1.1-.4,2.2-.7,3.4-.2.9-.3,1.7-.5,2.6-.4,1.9-.8,3.8-1.2,5.6-.2.8-.4,1.5-.5,2.3-.5,2.3-1.1,4.6-1.7,6.9h-117.2c-.3-1.3-.7-2.7-1-4.1-.2-.7-.3-1.4-.5-2.1-.2-.7-.3-1.4-.4-2.1-.5-2.6-1-5.2-1.4-7.9-.1-.8-.2-1.6-.3-2.4,0-.7-.2-1.4-.3-2,0-.2,0-.4,0-.7-.1-.8-.2-1.6-.3-2.3,0-.5-.1-1-.2-1.5,0-.6-.1-1.1-.2-1.7-.1-1.6-.3-3.2-.4-4.8,0-.9-.1-1.8-.2-2.7,0-1-.1-1.9-.2-2.9v-2.1c-.1,0-2.3-.2-2.3-.2-.1,0-.3,0-.5,0-1.5,0-2.9.4-4.3,1.2-.6.4-1.2.9-1.7,1.5-.5.7-1.1,1.3-1.6,1.8-.2.2-.5.4-.8.6-.6.5-1.1.8-1.7,1-1.5.5-2.9.8-4.4.8-7.6,0-13.7-6.2-13.7-13.7s6.2-13.7,13.7-13.7,2.4.2,3.6.5c.9.3,1.6.6,2.5,1.3h0c.2.2.3.4.5.5l.2.2c.6.6,1.1,1.1,1.5,1.6.5.6,1,1.1,1.8,1.6,1.2.7,2.6,1.1,4,1.2h2.5c0,0,0-2.5,0-2.5,0-1.7,0-3.4,0-5.1,0-1.6,0-3.1,0-4.8,0-1,0-2.1,0-3.2,0-.9,0-1.8,0-2.7,0-.9,0-1.8.1-2.7,0-.9,0-1.8.1-2.8,0-1.4.2-2.9.2-4.4.1-1.8.2-3.6.3-5.5.2-3.7.5-7.6.8-11.5h.3c3,0,6.1,0,9.2,0,.8,0,1.6,0,2.4,0,.8,0,1.6,0,2.4,0,1.8,0,3.6,0,5.3,0,.8,0,1.6,0,2.4,0,.8,0,1.6,0,2.4,0,2,0,3.9-.1,5.9-.2.5,0,1,0,1.5,0,.8,0,1.6,0,2.5,0,0,0,.2,0,.3,0,1.7,0,3.4-.1,5.1-.2,1.7,0,3.4-.2,5.1-.3,4.2-.2,8.3-.5,12.5-.8l3.4-.3-1.2-3.1c-.2-.6-.5-1-.8-1.6-.4-.6-1-1.2-1.6-1.6-.7-.5-1.3-1-1.8-1.5-.2-.2-.5-.5-.7-.7-.5-.6-.8-1.1-1-1.6-.6-1.4-.9-2.9-.9-4.4-.3-7.6,5.6-14,13.1-14.3,3.7-.2,7.1,1.1,9.9,3.6,2.7,2.5,4.3,5.9,4.4,9.5,0,1.2,0,2.4-.4,3.6-.2.9-.6,1.7-1.2,2.5h0c-.1.3-.3.4-.4.6l-.2.2c-.6.6-1.1,1.2-1.5,1.6-.6.5-1.1,1.1-1.5,1.8h0c0,.2,0,.2,0,.3l-2,4,4.5-.5c13.1-1.4,26.1-3.1,38.7-5.2,2.3-.4,4.6-.7,6.8-1.1.9-.1,1.8-.3,2.6-.4.5,0,1-.1,1.5-.2.9-.1,1.8-.2,2.6-.3,0,0,0,0,0,0v.7c.1.8.2,1.5.3,2.3,0,.7.1,1.4.2,2.1,0,.7.1,1.4.2,2.1,0,1.3.2,2.5.3,3.8,0,.9.1,1.8.2,2.8,0,.5,0,1.1,0,1.6,0,1.2.1,2.4.2,3.7,0,1.4.1,2.9.1,4.3,0,3.7.1,7.5,0,11.2,0,1.7,0,3.4,0,5.1,0,.9,0,1.7,0,2.6,0,1.2,0,2.4-.1,3.5v1.5c0,0,1.3.7,1.3.7,1.1.6,2.2.9,3.4,1.1,1.5.1,2.9-.2,4.4-.9.7-.4,1.3-.8,1.8-1.4.6-.6,1.2-1.2,1.8-1.6.2-.2.5-.4.8-.6.6-.4,1.2-.7,1.7-.8,1.5-.4,3-.5,4.5-.4,7.5.6,13.1,7.3,12.5,14.8Z"/>
                
                <path id="test7-tk-9" class="clickable" data-center="9.5,6.3" d="M353.5,237.8v106.7h-94.5c.2-.8.4-1.6.6-2.5.4-1.6.8-3.3,1.2-5,0,0,0,0,0-.1.3-1.2.6-2.5.9-3.8.8-3.8,1.6-7.6,2.2-11.5.1-.9.3-1.7.4-2.6.1-.9.3-1.7.4-2.6.1-.9.3-1.8.4-2.6.2-1.2.3-2.3.5-3.5,0-.6.2-1.2.2-1.8.2-1.8.4-3.5.6-5.3.5,0,1.1.3,1.4.5.2.2.4.3.5.5.5.7,1.1,1.5,1.8,2.2l.2.2c.2.3.5.5.7.8,0,0,.1.1.2.2,1.2,1.2,2.5,1.9,4,2.5,1.6.6,3.2,1,4.9,1.1,5,.4,9.8-1.1,13.6-4.3,3.8-3.2,6.1-7.7,6.6-12.7.4-4.9-1.1-9.8-4.3-13.6-3.2-3.8-7.7-6.1-12.7-6.6-2-.2-4,0-6.1.5-1.1.3-2.1.8-3.2,1.5-.4.3-.8.6-1.2.8-.7.6-1.5,1.3-2.2,2.1-.1.1-.3.3-.5.4-.6.3-1.2.4-1.8.3,0,0,0,0,0,0,.2-4.1.2-8.2.2-12.3s0-2.9,0-4.3c0-1.2,0-2.5,0-3.7,0-.8,0-1.6,0-2.3,0-.9,0-1.7,0-2.6,0-1.2,0-2.5-.2-3.7,0-.8,0-1.7-.1-2.5,0-.5,0-.9,0-1.4,0-.9-.1-1.8-.2-2.7,0-.8-.1-1.6-.2-2.4,0-1.1-.2-2.2-.3-3.3,0,0,0-.1,0-.2,12.3-1.4,24.2-2.2,35.6-2.2h-.1c-.3.3-.5.6-.8.8,0,0-.1.1-.2.2-1.2,1.2-1.9,2.5-2.5,4-.6,1.6-1,3.2-1.1,4.9-.4,5,1.1,9.8,4.3,13.6,3.2,3.8,7.7,6.1,12.7,6.6,5,.4,9.8-1.1,13.6-4.3,3.8-3.2,6.1-7.7,6.6-12.7.2-2,0-4-.5-6.1-.3-1.1-.8-2.1-1.5-3.2-.3-.4-.5-.8-.8-1.2-.3-.4-.6-.7-.9-1.1,7.9.9,15.3,2.2,22.1,3.8Z"/>
                
                <!-- Hedef alanlar (pr) -->
                <g id="target-areas" style="display: none;">
                    <circle id="test7-pr-1" cx="582" cy="532" r="20" data-center="8.6,6.5"/>
                    <circle id="test7-pr-2" cx="413" cy="564" r="20" data-center="3.9,7.2"/>
                    <circle id="test7-pr-3" cx="488" cy="382" r="20" data-center="5.4,3.4"/>
                    <circle id="test7-pr-4" cx="680" cy="233" r="20" data-center="5.3,5.1"/>
                    <circle id="test7-pr-5" cx="204" cy="564" r="20" data-center="3.4,4.0"/>
                    <circle id="test7-pr-6" cx="752" cy="507" r="20" data-center="7.9,4.8"/>
                    <circle id="test7-pr-7" cx="804" cy="354" r="20" data-center="9.5,6.3"/>
                    <circle id="test7-pr-8" cx="501" cy="107" r="20" data-center="5.0,3.0"/>
                    <circle id="test7-pr-9" cx="836" cy="119" r="20" data-center="9.8,6.6"/>
                </g>
                           
                <!-- Yeşil daire vurguları -->
                <circle id="test7-highlight-pr-1" cx="578" cy="559" r="80" class="highlight-circle"/>
                <circle id="test7-highlight-pr-2" cx="400" cy="564" r="90" class="highlight-circle"/>
                <circle id="test7-highlight-pr-3" cx="488" cy="372" r="90" class="highlight-circle"/>
                <circle id="test7-highlight-pr-4" cx="695" cy="233" r="90" class="highlight-circle"/>
                <circle id="test7-highlight-pr-5" cx="190" cy="540" r="90" class="highlight-circle"/>
                <circle id="test7-highlight-pr-6" cx="752" cy="538" r="90" class="highlight-circle"/>
                <circle id="test7-highlight-pr-7" cx="804" cy="380" r="90" class="highlight-circle"/>
                <circle id="test7-highlight-pr-8" cx="501" cy="135" r="108" class="highlight-circle"/>
                <circle id="test7-highlight-pr-9" cx="845" cy="105" r="90" class="highlight-circle"/>
            </svg>
            
        </div>
    
    <!-- Test 8 Section -->
    <div id="test8-section" class="puzzle-section">
        <!-- Soru Progress Bar (Üstte - 15 saniye) -->
        <div class="question-progress-container">
            <div id="test8-question-progress-bar" class="question-progress-bar"></div>
        </div>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
            <!-- Arka plan -->
            <rect width="957.3" height="666.7" style="fill: #282828;"/>
            
            <!-- SVG içeriği -->
            <image href="puzzle-8-01.svg" width="957.3" height="666.7"/>
                
                <!-- Tıklanabilir alanlar -->
                <path id="test8-tk-1" class="clickable" data-center="8.6,6.5" d="M152,82.3h-79.6v80.8c1.7.9,3.4,1.8,5.3,2.4,4.9,1.7,10,1.9,15.1,2.2,6.5.4,13,.7,19.5,1,12.5.4,25,.3,37.5.4,1.8,0,3.6,0,5.4.1,2.4-5.8,5.7-11.3,7.8-17.2,8.4-23.3-1-48.4-11-69.7Z"/>
                    
                <path id="test8-tk-2" class="clickable" d="M294.7,102.4c-2.2-8.3-7.2-15.5-14.4-20.1h-122.8c.7,1.5,1.4,2.9,2,4.4,5.1,11.6,9.4,23.6,11.1,36.1.8,6.1,1,12.2.2,18.3-.8,6.3-2.7,12.3-5.4,18.1-1.6,3.5-3.4,6.8-4.9,10.3,7,.8,13.8,2.8,19.4,7.5,4.2,3.5,7.2,8.3,11.6,11.7,4.1,3.2,9.1,5.1,14.1,6.2,11.7,2.5,23.6,0,35-2.8,5.5-1.3,11-2.6,16.2-4.7,2.5-1,4.9-2.3,7.1-3.9,2.1-1.5,3.9-3.4,5.8-5.1,3.8-3.2,8.1-5,12.9-5.4,0-1.7.1-3.4.2-5.1.5-6.3,1.4-12.6,3.3-18.6,1.8-5.8,4.5-11.4,6.6-17.1,3.6-9.6,4.7-19.9,2-29.9Z"/>
                    
                <path id="test8-tk-3" class="clickable" d="M288.5,82.3c6.6,6.2,10.7,14.9,12,23.8.8,5.1.8,10.2.1,15.3-.8,5.9-2.8,11.4-5,16.9-2.4,5.8-4.8,11.5-6.2,17.6-1.3,5.7-1.9,11.6-2,17.4,4.8.5,9.4,1.9,13.9,3.4,11.8,3.8,23.6,7.2,35.7,9.8,12.1,2.6,24.2,4.7,36.5,6,5.4.6,11.5,1.5,16.6-.9,2.8-1.3,6.6-3.8,7.8-6.9v-102.4h-109.6Z"/>
                    
                    <path id="test8-tk-4" class="clickable" d="M151.1,208.3c-.1-6.7-.4-13.3,0-20,.3-4.9,1-9.7,2.4-14.3-4.2-.1-8.4,0-12.4,0-13.2,0-26.4-.2-39.6-.9-6.1-.3-12.4-.5-18.5-1.4-3.7-.5-7.2-1.6-10.6-3.2v119.6c1.8.6,3.5,1.4,5.2,2.3,4.4,2.6,7.9,6.4,11.5,9.8,1.9,1.8,3.9,3.4,6.4,4.2,2.6.8,5.2,1.1,7.9,1.1,6.5.2,12.9.1,19.4.2,6.5,0,13,.2,19.5,0,2.1,0,4.2-.2,6.2-.3-.9-5-.5-10.1.2-15.1.9-6.7,1.6-13.4,2-20.1.9-13.8.9-27.6.8-41.4-.1-6.9-.3-13.8-.4-20.7Z"/>
                    
                    <path id="test8-tk-5" class="clickable" d="M285.3,295.8c-6.5-9.1-14.8-16.9-19-27.5-4.2-10.4-3.9-22-1.1-32.7,1.4-5.6,3.6-11,6.1-16.1,1.2-2.5,2.6-4.9,4-7.2,1.6-2.6,3.4-5.1,4.8-7.8,2.9-5.5,2.9-11.3,2.6-17.4-.2-3-.3-6-.3-9-.7,0-1.5.2-2.2.3-2.5.5-4.8,1.7-6.8,3.3-2.2,1.8-4.2,3.9-6.5,5.6-4.5,3.4-9.9,5.5-15.3,7-5.9,1.7-11.9,3.1-17.9,4.4-11.6,2.4-24,3.5-35.4-.7-5.3-1.9-10-4.9-13.9-8.9-3.8-3.9-7-8.4-11.9-11.1-4.3-2.3-9.1-3.4-13.9-3.9-.2.6-.4,1.2-.6,1.9-1.7,6.2-2.1,12.7-2.1,19.1,0,13.7.6,27.4.7,41.1,0,13.8-.2,27.6-1.4,41.3-.6,6.1-1.6,12.2-2,18.4-.2,2.9-.2,6,.4,8.9,2.5-.4,5-.9,7.4-1.5,6.1-1.6,12-3.9,18.1-5.3,6.3-1.5,12.8-2.1,19.3-2.5,6-.3,12.2-.7,18.2-.5,5.7.2,11.5,1.3,16.3,4.6,2.3,1.6,4.4,3.6,6.7,5.2,2,1.4,4.3,2.6,6.6,3.4,9.8,3.4,20.8,1.7,30.3-1.8,4.2-1.6,8.3-3.5,12.2-5.5-1.1-1.8-2.2-3.6-3.4-5.4Z"/>
                    
                    <path id="test8-tk-6" class="clickable" d="M387.9,197.6c-6,1.2-12.3.2-18.3-.5-12.7-1.6-25.3-3.8-37.8-6.6-6.2-1.4-12.3-3-18.5-4.8-5.8-1.7-11.6-3.7-17.4-5.4-2.7-.8-5.6-1.6-8.6-2,.1,5.1.6,10.2.4,15.4-.1,3.2-.5,6.6-1.7,9.6-1.1,2.8-2.6,5.4-4.2,7.9-3.1,4.9-6.1,9.8-8.4,15.2-2.2,5.1-3.9,10.5-4.8,16-1.8,10.8-.2,21.7,5.7,31.1,5.6,8.9,13.4,16.2,18.7,25.3,4.9-2.6,9.7-5.3,14.7-7.7,10.5-5,21.6-8.1,33.3-8.6,11.4-.5,22.9,1.4,33.5,5.5,2.6,1,5.3,2.1,7.8,3.5,2.1,1.2,4.1,2.7,6.1,4.1,2.6,1.9,6,4.7,9.5,5.1v-108.1c-2.9,2.5-6.5,4.3-10.2,5.1Z"/>
                    
                    <path id="test8-tk-7" class="clickable" d="M178.6,338c-.8-4.9-2.3-10.5-6.6-13.5-4.2-2.9-9.5-3.7-14-6.1-3.5-1.8-6.1-4.6-7.8-8-5.9.6-11.8.5-17.7.5-6.6,0-13.2,0-19.8-.1-6,0-12.5.5-18.3-1.3-5.6-1.8-9.2-6.2-13.4-10-2.7-2.5-5.4-4.5-8.6-5.9v114.3h75.5c.2-.7.7-1.3,1.2-1.9,1.2-1.4,3-2.7,3.8-4.1,1.5-2.5,3.5-4.5,5.6-6.5,3.9-3.6,7.4-7.6,10.3-12.1,5.8-8.9,9.4-19.1,10.3-29.7.5-5.2.3-10.6-.6-15.8Z"/>
                    
                    <path id="test8-tk-8" class="clickable" d="M297.1,362.3c.6-11.8,1.5-23.6,0-35.4-1-7.4-2.9-14.6-6.1-21.3-6.8,3.5-13.8,6.6-21.2,8.3-10.3,2.3-21.8,2.2-31.1-3.4-4.8-2.9-8.3-7.3-13.8-9-5.4-1.7-11.2-1.3-16.9-1.2-6.4.2-12.9.4-19.3,1.2-6.4.8-12.5,2.5-18.5,4.4-4.9,1.5-9.8,2.9-14.8,3.8,0,.2.2.3.3.4,2.8,4.1,7.9,5.3,12.3,6.9,5.3,2,9.8,4.8,12.4,10,2.5,5,3.4,10.8,3.8,16.3.4,5.5,0,10.9-.9,16.3-1.8,10.7-6.2,21-12.6,29.7-1.7,2.2-3.4,4.4-5.3,6.4-1.9,2-4.1,3.7-6,5.7-1.7,1.7-2.6,3.9-4.4,5.6-.3.3-.6.6-.9.8h143.6c-.2-2.4-.4-4.8-.6-7.2-.9-12.8-.7-25.6,0-38.4Z"/>
                    
                    <path id="test8-tk-9" class="clickable" d="M394.5,304.9c-4.8-1.8-8.5-5.3-12.8-8-4.5-2.9-9.7-4.8-14.8-6.3-10.7-3.2-22.1-4.1-33.1-2.5-5.6.8-11.1,2.2-16.4,4.3-5.5,2.1-10.7,4.8-15.9,7.6-2,1.1-4,2.1-6,3.2,4.6,9.7,6.6,20.5,7.3,31.2.8,12.4-.6,24.7-1.1,37.1-.4,12.2-.1,24.4,1.1,36.6h95.3v-102.3c-1.2-.1-2.4-.4-3.5-.8Z"/>
                    
                <!-- Hedef alanlar (pr) -->
                <g id="test8-target-areas" style="display: block;">
                    <circle id="test8-pr-1" cx="582" cy="532" r="20" class="highlight-circle" data-center="8.6,6.5"/>
                    <circle id="test8-pr-2" cx="413" cy="564" r="20" class="highlight-circle" data-center="3.9,7.2"/>
                    <circle id="test8-pr-3" cx="488" cy="382" r="20" class="highlight-circle" data-center="5.4,3.4"/>
                    <circle id="test8-pr-4" cx="680" cy="233" r="20" class="highlight-circle" data-center="5.3,5.1"/>
                    <circle id="test8-pr-5" cx="204" cy="564" r="20" class="highlight-circle" data-center="3.4,4.0"/>
                    <circle id="test8-pr-6" cx="752" cy="507" r="20" class="highlight-circle" data-center="7.9,4.8"/>
                    <circle id="test8-pr-7" cx="804" cy="354" r="20" class="highlight-circle" data-center="9.5,6.3"/>
                    <circle id="test8-pr-8" cx="501" cy="107" r="20" class="highlight-circle" data-center="5.0,3.0"/>
                    <circle id="test8-pr-9" cx="836" cy="119" r="20" class="highlight-circle" data-center="9.8,6.6"/>
                               
                    <!-- Yeşil daire vurguları - PR parçalarının tam merkezinde -->
                    <circle id="test8-highlight-pr-1" cx="835" cy="490" r="70" class="highlight-circle"/>
                    <circle id="test8-highlight-pr-2" cx="615" cy="520" r="90" class="highlight-circle"/>
                    <circle id="test8-highlight-pr-3" cx="385" cy="540" r="90" class="highlight-circle"/>
                    <circle id="test8-highlight-pr-4" cx="504" cy="321" r="93" class="highlight-circle"/>
                    <circle id="test8-highlight-pr-5" cx="813" cy="125" r="103" class="highlight-circle"/>
                    <circle id="test8-highlight-pr-6" cx="680" cy="325" r="95" class="highlight-circle"/>
                    <circle id="test8-highlight-pr-7" cx="865" cy="320" r="90" class="highlight-circle"/>
                                    <circle id="test8-highlight-pr-8" cx="580" cy="110" r="105" class="highlight-circle"/>
                <circle id="test8-highlight-pr-9" cx="200" cy="565" r="90" class="highlight-circle"/>
        </svg>
        
                </div>
    
    <!-- Test 9 Section -->
    <div id="test9-section" class="puzzle-section">
        <!-- Soru Progress Bar (Üstte - 15 saniye) -->
        <div class="question-progress-container">
            <div id="test9-question-progress-bar" class="question-progress-bar"></div>
        </div>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 957.3 666.7" width="1000">
            <!-- Arka plan -->
            <rect width="957.3" height="666.7" style="fill: #282828;"/>
            
            <!-- SVG içeriği -->
            <image href="puzzle-9-01.svg" width="957.3" height="666.7"/>
                
                <!-- Tıklanabilir alanlar -->
                <path id="test9-tk-1" class="clickable" d="M72.2,134c2.9.1,5.9.5,8.7,0,1.9-.4,3.8-1.2,4.9-2.9,1.2-1.9.1-3.5-.2-5.6-.5-2.6.7-5.1,3.1-6.2,2.3-1,5-.9,7.4-1.1,6.4-.4,12.9-.7,19.3-1.1,1.1,0,2.2-.1,3.3-.2,2.5-.1,5-.3,7.5-.4-1.9-2.4-3.5-5.1-4.7-7.9-3.7-8.4-4.8-17.6-6.1-26.6-1.2-8.1-2.4-16.6-6-24H45.4v74.8c5.7.3,11.4.5,17.1.8,3.2.1,6.5.3,9.7.4Z"/>
                        
                <path id="test9-tk-2" class="clickable" d="M122.5,95.1c1.6,7.8,4.3,15.5,10.2,21.1,5.1-.3,10.2-.6,15.3-.9,2.9-.2,5.8-.3,8.7-.5,2.5-.1,5.3-.6,7.7.1,2.7.8,4.2,2.8,5.1,5.3,1,2.6,1.8,5.3,2.7,8l3.4,10.1c1-2.5,2.1-4.9,3.1-7.4l2.7-6.3c.8-1.9,1.5-3.9,2.6-5.7.3-.5.7-1,1.1-1.4.1-.2.3-.4.6-.6.7-.6,1.5-1.2,2.4-1.6,1.1-.5,2.2-.8,3.3-1,1-.3,2-.6,3-.8,1.7-.3,3.4-.7,5.1-1,.8-.2,1.6-.4,2.5-.5h.4c0-.4-.2-.7-.3-1-.4-1.2-.8-2.4-1.2-3.7-.5-1.6-.5-3.3-.7-4.9-.3-2.2-.6-4.5-.9-6.7-.6-4.6-1.1-9.1-1.7-13.7-1-8-2-16-3-24h-79.6c1.3,3.2,2.3,6.5,3.1,9.9,2.1,9,2.7,18.2,4.6,27.3Z"/>
                        
                <path id="test9-tk-3" class="clickable" d="M204.2,95.7c.4,3.2.6,6.5,1.2,9.7,0-.1.1.5.2.6,0,.3.2.6.3.9.3.8.5,1.5.8,2.3.2.6.4,1.2.6,1.8,7.4-1.6,15.1-3,22.8-2.2,6.9.8,13.4,3.4,18.4,8.3,3.4,3.4,6,7.8,6.7,12.5,4.8-3.7,8.1-9.2,8.7-15.4.2-1.7,1.5-2.7,3.2-2.4,5.8,1.1,11.6,1.9,17.5,2.4,0-.2,0-.4,0-.6.3-6.5,1-13.1,1.8-19.6,1.4-12,3.2-23.9,4.1-36h-90.9l2.4,18.9c.8,6.3,1.6,12.5,2.4,18.8Z"/>
                        
                <path id="test9-tk-4" class="clickable" d="M291,95.9c-.7,6.2-1.5,12.5-1.6,18.7,2.5.2,5,.3,7.5.4,4.4.1,8.9.1,13.3,0,4-.1,8-.5,12-.6,3.6,0,7.3.3,10.7,1.8,3.3,1.5,5.4,4.2,7.5,7.1.8,1.2,1.7,2.5,2.8,3.4,1.3,1,2.9,1.2,4.5,1.2,3.9,0,7.8-.9,11.6-1.6,7.2-1.3,14.3-2.8,21.5-3.9V58h-85.4c-.5,6.4-1.2,12.7-2,19.1-.8,6.3-1.7,12.5-2.4,18.8Z"/>
                        
                <path id="test9-tk-5" class="clickable" d="M56.1,214.3c3.7-.2,7.5-.6,11.2-.4,3.2.2,6.3,1,9.2,2.3,4.4,1.9,8.2,5.4,9.7,9.8.3-.3.6-.5.9-.8,2.2-2.3,3.7-5.1,5.5-7.7,2.1-3,4.5-5.7,7.9-7.4,3.9-1.9,8.1-2.6,12.3-3.5l14.5-2.9c.6-.1,1.2-.3,1.9-.4-5-3.2-9.1-8.2-11.5-13.4-3.8-8.3-4.5-17.6-5.4-26.6-.9-9.6-1.8-19.2-2.7-28.9-.2-2.2-.5-4.5,0-6.7.1-.6.4-1.2.6-1.7,0-.2.1-.2.1-.2,0,0,0,0,0,0,0-.2.1-.5.2-.7,0,0,0-.1,0-.2,0,0,0-.2,0-.3,0-.6.1-1.4.2-2.1-1.4,0-2.8.2-4.2.2l-8.4.5c-1.5,0-3,.2-4.5.3-.9,0-1.8,0-2.7.3-.5.2-.8.2-.8.7,0,1,.7,2.2.9,3.2.4,2.3-.2,4.7-1.6,6.6-3.1,4.2-8.3,5.1-13.3,4.9-10.4-.3-20.7-.9-31.1-1.4v76.8c3.6,0,7.2-.2,10.8-.4Z"/>
                        
                <path id="test9-tk-6" class="clickable" d="M152.2,200.4c3.4.5,6.6,2.2,8.4,5.2,1,1.7,1.4,3.5,2,5.4.5,1.6,1.4,2.5,3,2.8,1.9.4,3.9.4,5.8.7,1.8.3,3.6.8,5.4,1.4,3.3,1.1,6.5,2.5,9.9,3.3,2.8.7,5.6.8,8.2-.6,1.6-.9,2.9-2.4,4.7-3.1.8-.7,1.7-1.4,2.7-2,1.8-1.2,3.4-2.4,4.9-3.9,5.5-5.6,9.2-13,15.1-18.2-3.5-1.8-6.7-3.9-9.1-7.1-2.9-4-4.1-9.1-4.9-13.9-1.3-7.5-1.2-15.1-.7-22.7.2-3.8.6-7.6.9-11.4,0-1.4.3-3-.3-4.3-.5-1.1-1.6-1.6-2.6-2.1-3.1-1.5-6.4-2.8-9.5-4.2-2.7-1.2-5.4-2.5-8.1-3.6-.6,1.1-1,2.2-1.5,3.3-3,7.1-6,14.2-9,21.3-.9,2.1-4,1.2-4.6-.6-2-6-4-12.1-6-18.1-.5-1.5-1-3-1.5-4.5-.3-1-.6-2.4-1.4-3.2-.6-.6-1.6-.7-2.5-.7-1.4,0-2.9.1-4.3.2-8.5.5-16.9,1-25.4,1.5-2.5.1-5,.3-7.4.5-1.5.1-3,.2-4.6.3-1,0-2,0-3,.1,0,0-.4,0-.7,0,0,.2,0,.4-.1.6,0,.4-.1.8-.2,1.5-.2,1.3-.3,2.6-.8,3.8-.7,1.5-.5,3.1-.4,4.7.2,2.2.4,4.4.6,6.6.8,9,1.7,18,2.5,27.1.7,7.8,1.5,16,5.4,23,3.2,5.6,8.4,10.7,14.9,12.1,1.2-.2,2.4-.5,3.7-.7,3.5-.7,7-1,10.6-.5Z"/>
                        
                <path id="test9-tk-7" class="clickable" d="M288.8,185.7c0-1.9-.3-3.9-.4-5.8-.1-2-.3-4-.4-5.9-.6-8.3-1.2-16.5-1.7-24.8,0-1.2-.2-2.3-.2-3.5,0-1-.3-2.2,0-3.1.3-1.1,1.4-1.7,2.3-2.3.8-.6,1.6-1.1,2.4-1.7,2.7-1.9,5.4-3.7,8-5.6,0,0-.2-.2-.2-.2-.8-.6-1.9-1.1-2.7-1.4-2.4-1-4.8-1.8-6.8-3.4-2.8-2.2-3.9-5.4-4.4-8.8-5.4-.5-10.9-1.2-16.3-2.1-1.6,8.1-6.9,15.4-14.4,19.1-1.5.7-4-.1-3.8-2.2.6-6.1-2.6-11.5-7.3-15.1-10.7-8.3-25.3-5.1-37.5-2.4-1.2.5-2.7.6-3.8.8-.1,0-.2,0-.4,0-2.6.6-5.2,1.1-7.7,1.7,1.9.8,3.7,1.7,5.5,2.5,1.9.9,3.8,1.7,5.7,2.6,1.6.7,3.3,1.2,4.7,2.2,3.1,2,4.2,5.2,4.1,8.8-.1,3.7-.6,7.5-.8,11.2-.5,7.4-.8,15,.4,22.3.4,2.8,1,5.7,2,8.4.4,1.1.6,1.6,1.1,2.6.2.4.5.9.7,1.3.1.2.3.4.4.6,0,0,.2.2.2.3,2.7,3.3,6.8,5.2,10.9,7.1,1.8.8,1.5,3.4,0,4.3-4.2,2.6-7.3,6.9-10.2,10.8-3.2,4.4-6.4,8.9-10.8,12.2-.4.3-.9.6-1.3.9,2.2,1.5,4.2,3.5,5.8,5.5.4.4.7.9,1.1,1.4.2-.2.3-.3.5-.5.2-.2.4-.4.5-.6,0,0,0,0,0-.1,0,0,.1-.2.1-.2.7-1,1.5-2,2.2-3,1.4-1.9,2.8-4,4.6-5.6.8-.7,1.7-1.4,2.8-1.7,1.8-.5,4.1-.3,6-.3,4.5-.1,8.9-.2,13.4-.2,8.1,0,16.2-.1,24.4-.4,0-2.1.2-4.3.3-6.4.1-2.6-.2-5.6.6-8.1.8-2.7,3-4.1,5.7-4.6,2.9-.5,5.9-.9,8.9-1.3,1.8-.2,3.6-.5,5.4-.7,0-.4,0-.8.1-1.2.2-1.3.4-2.1.4-3.1Z"/>
                        
                <path id="test9-tk-8" class="clickable" d="M344.3,132.5c-3.7-.8-6.1-3.6-8.1-6.6-1.8-2.7-3.7-4.9-6.9-5.8-3.3-1-6.9-.8-10.3-.6-8.8.5-17.6.8-26.4.3-.9,0-1.9-.1-2.8-.2.1.8.4,1.5.7,2.3.9,2,2.3,2.9,4.2,3.7,3.8,1.7,8.7,2.9,9.8,7.6.3,1.1-.2,2.2-1.1,2.8-4.1,2.8-8.2,5.7-12.3,8.5.5,7.3,1,14.7,1.6,22,.2,3.5.5,6.9.7,10.4.1,1.8.3,3.6.4,5.4,0,1.3.3,2.5.2,3.8,0,.9-.3,2.4-.4,3,0,.1,0,.2,0,.4,0,0,0,0,0,0,.5,0,.9,0,1.4-.1.1,0,.2,0,.3,0,1,0,2-.2,3.1-.3.7,0,1.4,0,2.1-.1,4.5-.3,9-.5,13.4-.5,4.5,0,9.6-.4,13.5,2.4,3.7,2.7,5.6,7.2,7.6,11.1,2.4,4.5,4.8,9.1,7.3,13.6.9,1.6,1.7,2.9,3.7,2.8,2.4,0,4.8-.7,7.1-1.1,9.3-1.6,18.6-3.3,28-4.9v-85c-8.1,1.2-16.1,3.1-24.2,4.4-4,.6-8.3,1.6-12.3.8Z"/>
                        
                <path id="test9-tk-9" class="clickable" d="M95.3,313.1c0-.5,0-1,0-1.5.5-6.5,1.7-13.4,5.9-18.6,2.1-2.6,5.1-4.6,8.4-5.4,1.3-.3,2.6-.5,3.9-.6,2.9-2.2,5-5.5,6.2-8.8,2.5-7.1,2.2-14.8,2.4-22.2.2-8.1.5-16.3.7-24.4.2-6.2.3-12.6,2.7-18.4.6-1.6,1.4-3.1,2.3-4.4-2.2.4-4.3.9-6.5,1.3-4.5.9-9.1,1.6-13.6,2.8-3.6.9-6.7,2.3-9.2,5.1-2.1,2.4-3.6,5.3-5.5,7.9-2.1,2.9-4.5,5.2-7.9,6.6-1.6.6-3.1-1-3.2-2.4-.4-6.4-7.5-10-13.3-10.8-4.1-.6-8.4,0-12.5.2-3.7.2-7.3.4-11,.4v85.8c8.6.1,17.1.8,25.6,2.2,8.2,1.3,16.3,3.2,24.3,5.5Z"/>
                        
                <path id="test9-tk-10" class="clickable" d="M205.9,261.4c-2.4-1.3-5-2.3-6.7-4.5-1.8-2.3-2.3-5.2-2.4-8.1-.1-3.2-.1-6.4-.2-9.5,0-3.3,0-6.6-.1-9.9,0-1.9-.2-3.9-.1-5.9-1.6.7-3.2,1.1-5,1.2-3.3.2-6.7-.7-9.8-1.8-3.4-1.2-6.7-2.5-10.2-3.3-3.8-.8-8.3-.2-11.3-3.3-1.4-1.5-2.1-3.4-2.6-5.3-.4-1.4-.8-2.9-1.8-3.9-2-2-5.3-2.2-8-2-2.9.1-5.8.7-8.7,1.3,0,0-.1,0-.2,0-5.7,1.5-8.4,7-9.6,12.5-.6,2.7-.9,5.5-.9,8.3-.1,4.1-.2,8.3-.4,12.4-.2,8.2-.4,16.5-.7,24.7-.3,7.1-1.1,14.8-5.2,20.9-.5.7-1,1.4-1.5,2,.8.1,1.7.2,2.5.4,17.4,2.8,34.4,8.1,50.3,15.5,4,1.9,7.8,4,11.8,5.9.8.4,1.7.8,2.6.8.5,0,.2,0,.5,0,0,0,.4-.1.4-.1.9-.4,1.6-1.2,2.2-2,1.6-2.4,2.7-5.2,4.4-7.6,2.1-3.1,4.9-5.2,8.4-6.2,3.5-1,7.2-1.1,10.8-1.1,1.1,0,2.3,0,3.4,0-.3-9.4-.2-19.6-6.4-27.1-1.5-1.8-3.3-3.3-5.4-4.4Z"/>
                        
                <path id="test9-tk-11" class="clickable" d="M276.8,196.6c-.9.2-2.1.2-3,.6-.6.3-.7.9-.7,1.5-.3,2.3-.2,4.8-.3,7.1-.1,2.5-.2,5.1-.3,7.6,0,1.4-1.1,2.5-2.5,2.5-2.4,0-4.8.1-7.2.2-8.6.2-17.3.2-25.9.3-2.3,0-4.6,0-6.8.1-1.2,0-2.4,0-3.6.1-.3,0-.7,0-1,0,0,0,0,0-.1,0,0,0-.2,0-.4.2,0,0,0,0,0,0,0,0,0,0,0,0-.3.3-.7.6-1,.9-.4.4-.8.9-1.2,1.4-.4.6-.3.4-.8,1-1.5,2.1-3,4.2-4.6,6.2-1.2,1.5-2.9,3.2-5,2.9-1.4-.2-2.1-1.2-2.9-2.2-.6-.8-1.7-2.2-2.7-3.1-1-1.1-2.1-2.2-3.4-3-.5-.3-1.1-.6-1.4-.7-.6,1-.6,2.2-.6,3.4,0,1.6,0,3.2,0,4.8,0,6.5.1,13,.3,19.5,0,2.3.2,4.9,2.2,6.5,1.9,1.6,4.5,2.2,6.5,3.7,4.3,3,7.2,7.4,9.1,12.3,2,5.2,2.6,10.9,2.8,16.4,0,1.9.1,3.9.2,5.8,2,0,4.1,0,6.1,0,9.6,0,19.1.1,28.7.2,4.7,0,9.5,0,14.2,0,4.3,0,8,1.2,10.5,4.9,1.1,1.7,1.9,3.6,2.7,5.4,1,2.2,2,4.4,3,6.6,1.3,2.8,2.6,5.7,3.9,8.5.2-.3.3-.5.5-.7,3.6-5.1,8.1-9.5,12.6-13.6,2.9-2.7,5.9-5.2,9-7.7l-8.7-5c-1.8-1.1-3.7-2.1-5.5-3.2-1.7-1-3.5-2.2-4.5-4-.9-1.6-1-3.4-1.1-5.2,0-2-.1-3.9-.2-5.9-.1-4-.2-8-.4-12-.2-8-.5-16-.7-24-.1-4-.2-8-.4-12,0-2.1-.8-5.3,1.1-6.7,1.2-.9,2.5-1.7,3.8-2.5,4.6-3.3,8.7-7.1,12.3-11.4-.7-1.9-1.4-3.9-2.1-5.5-.3-.6-.5-1.2-.9-1.7-.3-.5-.6-1-.8-1.2-.4-.4-.8-.9-1.2-1.2,0,0-.5-.3-.6-.4,0,0-.4-.2-.5-.2-.8-.3-1.6-.4-2.4-.5-1.9.1-3.7.2-5.6.4-1.2.2-2.5.4-3.7.3-2.7.3-5.4.6-8,.9-2.4.3-4.8.7-7.1,1Z"/>
                        
                <path id="test9-tk-12" class="clickable" d="M343.9,223.3c-2.2-.4-3.9-1.8-5.2-3.6-1.3-1.8-2.2-3.8-3.2-5.8l-3.6-6.8c-1.2-2.2-2.3-4.4-3.5-6.5-.9-1.7-1.8-3.4-3.1-4.8-2.9-3-7.5-2.4-11.3-2.4-1.3,0-2.6,0-3.8,0,1.2,1.6,2,3.4,2.7,5.2.4,1,.7,1.9,1.1,2.9.2.4.3.9.5,1.3,0,.2.4,1.1.3.9.5,1.1.4,2-.4,3-4.8,6.1-10.5,10.9-16.9,15.2.2,6.1.4,12.1.6,18.2.3,11.3.7,22.6,1,33.9,0,1.5,0,3,.1,4.5,0,1,0,2.1.4,3,.4.9,1.3,1.5,2.2,2,1.1.6,2.2,1.3,3.3,1.9,4.9,2.8,9.8,5.7,14.6,8.5,1.8,1,1.4,3.2,0,4.3.6-.4-.2.2-.3.3-.2.2-.4.3-.6.5-.5.4-1,.8-1.5,1.2-1.2.9-2.3,1.9-3.5,2.9-2.2,1.8-4.3,3.8-6.4,5.7,3.3-1,6.6-1.6,10-2.2,7.3-1.3,14.6-2.4,21.9-3.4,13.8-1.9,27.6-3.2,41.5-3.4v-82.4c-9.8,1.7-19.5,3.4-29.3,5.1-2.5.4-5,1.1-7.5.7Z"/>
                        
                <path id="test9-tk-13" class="clickable" d="M116.6,347.7c0-3.7-.2-7.4.7-11,.8-3.6,3-6.5,4.3-9.8,2.4-6.1.5-13-2.9-18.3-3.3-5.2-8.1-9.3-12.8-13.1-1,1-1.8,2.2-2.5,3.5-2.7,5.3-3.1,11.7-3.2,17.5,0,1.6-1.6,2.9-3.2,2.4-8.8-2.6-17.8-4.8-26.9-6.3-8.2-1.3-16.5-1.9-24.7-2.1v83h71.8c0-7.7-.2-15.3-.3-23,0-7.6-.2-15.2-.3-22.8Z"/>
                        
                <path id="test9-tk-14" class="clickable" d="M211.3,345.3c-1.8-7.9-5.5-15.6-13.6-18.4-2.2-.8-2.6-4.2,0-4.8,6.3-1.4,11.7-5.2,17.2-8.5,1.2-.7,2.4-1.3,3.4-2.4.9-1,1-2.2.9-3.5-.2-1.7-.6-3.4-.9-5.1-.2-1.6-.4-3.2-.5-4.8-3.1,0-6.2-.1-9.2.2-3,.3-6.1,1.1-8.2,3.3-3.6,3.8-4.5,10.7-10,13-3.9,1.6-7.5-.5-10.8-2.3-3.8-2-7.6-3.9-11.5-5.6-15.3-6.9-31.8-11.8-48.4-14.1-1.5-.2-3-.4-4.5-.4-1.1.7-2.3,1.3-3.6,1.8,4.9,4.1,9.5,8.6,12.5,14.2,3.3,6.1,4.8,13.8,2.2,20.4-1.4,3.4-3.6,6.4-4.3,10.1-.7,3.7-.4,7.5-.4,11.2.2,14.6.3,29.2.5,43.8h90.3c0-5.8.4-11.5.5-17.3.3-10.2.7-20.8-1.6-30.9Z"/>
                        
                <path id="test9-tk-15" class="clickable" d="M288.1,357.1c2.9,1.6,6.5,0,8.7-2.3,3-3.1,3.5-7.7,3.4-11.8,0-2.1-.1-4.3-.4-6.4,0-.3-.1-.7-.2-1,0,0-.2-.5-.2-.6-.1-.2-.2-.4-.4-.6,0,0,0,0,0,0,0,0-.1-.2-.2-.2,0,0-.2-.1-.3-.2,0,0-.1,0-.1,0-.2-.1-.4-.2-.6-.3,0,0-.3-.2-.5-.2-.1,0-.4-.1-.4-.2-1.1-.4-2.2-.8-3.2-1.3-2.5-1.3-4-3.9-4.2-6.6-.9-1.9-1.8-3.8-2.6-5.8l-5.8-12.7c-1.3-2.9-2.5-7.2-6-8.2-1.8-.5-3.7-.4-5.5-.4-2.3,0-4.7,0-7,0-4.7,0-9.3,0-14,0-8.5,0-17-.1-25.6-.2.2,2.7.7,5.4,1.1,8.1.5,3.2.3,6.2-2,8.7-1.9,2.1-4.6,3.3-7,4.7-3.3,2-6.7,4.1-10.3,5.6,2.5,1.8,4.7,4,6.5,6.7,5.2,7.9,6.3,18,6.7,27.2.5,11.5-.4,23.1-.6,34.6h72.2c-.2-11.4-1.9-22.6-5.1-33.5-.6-2.2,1.8-3.8,3.7-2.8Z"/>
                        
                <path id="test9-tk-16" class="clickable" d="M317.7,311.7c-7.3,1.3-17.3,3.2-21.8,9.8-.4.7-.8,1.4-1.2,2.1,0,0,0,0,0,0-.2.4-.3.8-.4,1.1.1.3.1.7.2.9,0,0,.1.3.2.4,0,0,.1.2.1.2,0,0,.3.4.3.4.1.1.3.3.4.4.1,0,.2.1.3.2.2.1.5.3.7.4,0,0,0,0,.1,0,0,0,0,0,.1,0,.5.2,1,.4,1.4.5,1.2.4,2.3.9,3.3,1.7,2.9,2.3,3.2,5.8,3.4,9.2.3,4.4.4,9-1.1,13.2-2,5.6-7.6,10.5-13.5,10.3,2.6,10,4,20.4,4.2,30.7h86.2v-88.6c-6.9.1-13.8.5-20.6,1.1-14.2,1.2-28.4,3.3-42.4,5.8Z"/>
                        
                        <!-- Yeşil daire vurguları - PR parçalarının detaylı path analizine göre konumlandırılmış -->
                        <circle id="test9-highlight-pr-1" cx="110" cy="490" r="70" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-2" cx="625" cy="575" r="65" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-3" cx="428" cy="600" r="65" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-4" cx="545" cy="370" r="70" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-5" cx="860" cy="270" r="75" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-6" cx="815" cy="580" r="80" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-7" cx="715" cy="280" r="80" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-8" cx="320" cy="485" r="75" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-9" cx="870" cy="445" r="80" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-10" cx="685" cy="130" r="75" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-11" cx="845" cy="120" r="80" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-12" cx="200" cy="590" r="75" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-13" cx="495" cy="485" r="70" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-14" cx="525" cy="96" r="85" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-15" cx="735" cy="455" r="75" class="highlight-circle"/>
                        <circle id="test9-highlight-pr-16" cx="520" cy="235" r="75" class="highlight-circle"/>
        </svg>
        
                </div>
    
    <!-- Test Completion Screen -->
    <div id="test-completion-screen" class="puzzle-section">
        <div class="instruction-box">
            <div class="highlight-text">
                Testi Tamamladınız! Sıradaki Bölüme Geçmek İçin İleri Butonuna Tıklayın!
            </div>
        </div>
        <button class="btn btn-next" id="testCompletionBtn" onclick="goToNextSection()" style="opacity: 0; transform: translateY(20px);">İleri</button>
    </div>

    <!-- Genel Progress Bar - Test alanının altında -->
    <div class="global-total-progress-container" id="globalProgressBar">
        <div class="total-progress-bar" id="timeProgressFill"></div>
    </div>

</div> <!-- Container kapatma -->
    
    <script>
        // Global değişkenler
        let currentSection = 0;
        const sections = ['demo-section', 'transition-screen', 'practice-section', 'practice-completion-screen', 'practice-fail-screen', 'test-preparation-screen', 'test1-section', 'test2-section', 'test3-section', 'test4-section', 'test5-section', 'test6-section', 'test7-section', 'test8-section', 'test9-section', 'test-completion-screen'];
        const totalSteps = 57; // 3 + 4 + 4 + 4 + 4 + 4 + 9 + 9 + 16
        let completedSteps = 0;
        
        // Progress Bar Değişkenleri
        let questionTimer = null;
        let totalTimer = null;
        let questionTimeLeft = 15; // 15 saniye her soru için
        let totalTimeLeft = 300; // 5 dakika toplam (300 saniye) 
        let totalTestStartTime = null;
        let currentTestNumber = 0; // Hangi testte olduğumuzu takip etmek için
        
        // Test Kategorileri - Excel'e göre
        const testCategories = {
            fourPiece: {
                tests: ['test1', 'test2', 'test3', 'test4', 'test5'],
                totalPieces: 4,
                description: '4 Parçalı Puzzle\'lar'
            },
            sixPiece: {
                tests: ['test6'],
                totalPieces: 6,
                description: '6 Parçalı Puzzle'
            },
            ninePiece: {
                tests: ['test7', 'test8'],
                totalPieces: 9,
                description: '9 Parçalı Puzzle\'lar'
            },
            sixteenPiece: {
                tests: ['test9'],
                totalPieces: 16,
                description: '16 Parçalı Puzzle'
            }
        };

        // Test Sonuçları Takibi - Excel'deki tüm verileri kapsayacak şekilde genişletildi
        let testResults = {
            // Her test için detaylı veriler
            test1: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 4,
                category: 'fourPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test2: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 4,
                category: 'fourPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test3: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 4,
                category: 'fourPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test4: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 4,
                category: 'fourPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test5: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 4,
                category: 'fourPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test6: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 6,
                category: 'sixPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test7: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 9,
                category: 'ninePiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test8: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 9,
                category: 'ninePiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            test9: { 
                questions: [], 
                currentRound: 1, 
                totalRounds: 16,
                category: 'sixteenPiece',
                testStartTime: null,
                testEndTime: null,
                testDuration: 0
            },
            // Excel'deki genel sonuçlar
            summary: {
                // Ham Veri
                totalPieces: 60, // Toplam parça sayısı (4+4+4+4+4+6+9+9+16)
                correctPieces: 0,
                wrongPieces: 0,
                timeoutPieces: 0,
                
                // Doğruluk Skorları (Her kategori için)
                fourPieceAccuracy: 0, // 4 parçalıların doğruluk yüzdesi
                sixPieceAccuracy: 0,  // 6 parçalının doğruluk yüzdesi  
                ninePieceAccuracy: 0, // 9 parçalıların doğruluk yüzdesi
                sixteenPieceAccuracy: 0, // 16 parçalının doğruluk yüzdesi
                overallAccuracy: 0, // Genel doğruluk yüzdesi (60 parça üzerinden)
                
                // İşlem Hızı Skorları
                averageResponseTime: 0, // Tüm doğru cevaplar için ortalama süre
                fourPieceAvgTime: 0,    // 4 parçalılar için ortalama süre
                sixPieceAvgTime: 0,     // 6 parçalı için ortalama süre
                ninePieceAvgTime: 0,    // 9 parçalılar için ortalama süre
                sixteenPieceAvgTime: 0, // 16 parçalı için ortalama süre
                
                // Test Tamamlama Süreleri
                fourPieceCompletionTime: 0,    // 4 parçalıların toplam süresi
                sixPieceCompletionTime: 0,     // 6 parçalının süresi
                ninePieceCompletionTime: 0,    // 9 parçalıların toplam süresi
                sixteenPieceCompletionTime: 0, // 16 parçalının süresi
                totalCompletionTime: 0,        // Tüm testlerin toplam süresi
                
                // Bilgi İşleme Hızı Skorları (Excel'deki formüllere göre)
                processingSpeedScore: 0,    // Süreye dayalı puanlama (hızlı doğru tepki yüksek puan)
                normalizedSpeedScore: 0,    // 100 - (Ortalama Süre / Maksimum Süre) * 100
                
                // Tamamlanmama Durumu (Excel'deki "EKSTRA" kısmı)
                incompleteTest: null,       // Hangi testte kaldığı
                incompletePuzzle: null,     // Hangi puzzle'da kaldığı
                incompletePieceNumber: null, // Kaç numaralı parçaya geçerken kaldığı
                
                // Test başlangıç ve bitiş zamanları
                testSessionStartTime: null,
                testSessionEndTime: null,
                totalSessionDuration: 0
            }
        };

        // ============================================================================
        // EXCEL UYUMLU SAĞLAM LOGLAMA VE ANALİZ SİSTEMİ
        // ============================================================================
        
        // Excel'deki tam veri yapısına uygun loglama sistemi
        function createExcelCompatibleData() {
            console.log("📊 EXCEL UYUMLU VERİ OLUŞTURULUYOR...");
            
            const excelData = {
                // Excel'deki her test için ayrı veriler
                tests: {
                    // 4 Parçalı Testler (Test 1-5)
                    fourPiece: {
                        test1: extractTestData('test1', 4),
                        test2: extractTestData('test2', 4), 
                        test3: extractTestData('test3', 4),
                        test4: extractTestData('test4', 4),
                        test5: extractTestData('test5', 4),
                        // Kategori toplamları
                        categoryTotal: {
                            totalCorrect: 0, // 20 parça üzerinden
                            totalWrong: 0,
                            totalResponseTime: 0,
                            totalCompletionTime: 0,
                            accuracyScore: 0, // (Doğru/20) * 100
                            averageResponseTime: 0
                        }
                    },
                    // 6 Parçalı Test (Test 6)
                    sixPiece: {
                        test6: extractTestData('test6', 6),
                        categoryTotal: {
                            totalCorrect: 0, // 6 parça üzerinden
                            totalWrong: 0,
                            accuracyScore: 0, // (Doğru/6) * 100
                            completionTime: 0
                        }
                    },
                    // 9 Parçalı Testler (Test 7-8)
                    ninePiece: {
                        // Her test için ayrı ayrı (9 parça üzerinden)
                        test7: extractTestData('test7', 9), // Doğru Sayısı / 9 x 100
                        test8: extractTestData('test8', 9), // Doğru Sayısı / 9 x 100
                        // Kategori toplamı (18 parça üzerinden)
                        categoryTotal: {
                            totalCorrect: 0, // Test7 + Test8 doğru sayısı
                            totalWrong: 0, // Test7 + Test8 yanlış sayısı
                            accuracyScore: 0, // (Toplam Doğru/18) * 100
                            totalCompletionTime: 0, // Test7 + Test8 süreleri
                            averageResponseTime: 0 // Sadece doğru cevaplar için
                        }
                    },
                    // 16 Parçalı Test (Test 9)
                    sixteenPiece: {
                        test9: extractTestData('test9', 16),
                        categoryTotal: {
                            totalCorrect: 0, // 16 parça üzerinden
                            totalWrong: 0,
                            accuracyScore: 0, // (Doğru/16) * 100
                            completionTime: 0
                        }
                    }
                },
                // Genel sonuçlar
                overallResults: {
                    totalCorrectAllTests: 0, // 60 parça üzerinden
                    totalWrongAllTests: 0,
                    overallAccuracyScore: 0, // (Doğru/60) * 100
                    averageResponseTimeAllCorrect: 0,
                    processingSpeedScore: 0, // Bilgi İşleme Hızı Skoru
                    normalizedScore: 0, // 100 - (Ortalama Süre / Max Süre) * 100
                    incompleteInfo: {
                        wasIncomplete: false,
                        stoppedAtTest: null,
                        stoppedAtPiece: null
                    }
                }
            };
            
            return excelData;
        }
        
        // Test verilerini çıkart (Excel formatında)
        function extractTestData(testKey, expectedPieces) {
            const testData = testResults[testKey];
            if (!testData) return null;
            
            const questions = testData.questions || [];
            
            return {
                testName: testKey,
                expectedPieces: expectedPieces,
                actualPieces: questions.length,
                correctCount: questions.filter(q => q.isCorrect).length,
                wrongCount: questions.filter(q => !q.isCorrect && q.answered).length,
                unansweredCount: questions.filter(q => !q.answered).length,
                accuracyScore: expectedPieces > 0 ? (questions.filter(q => q.isCorrect).length / expectedPieces) * 100 : 0,
                totalResponseTime: questions.reduce((sum, q) => sum + (q.responseTime || 0), 0),
                averageResponseTime: questions.length > 0 ? questions.reduce((sum, q) => sum + (q.responseTime || 0), 0) / questions.length : 0,
                averageCorrectResponseTime: questions.filter(q => q.isCorrect).length > 0 ? 
                    questions.filter(q => q.isCorrect).reduce((sum, q) => sum + (q.responseTime || 0), 0) / questions.filter(q => q.isCorrect).length : 0,
                completionTime: testData.testEndTime && testData.testStartTime ? 
                    (testData.testEndTime - testData.testStartTime) / 1000 : 0,
                questions: questions.map(q => ({
                    piece: q.round,
                    correct: q.isCorrect,
                    answered: q.answered,
                    responseTime: q.responseTime,
                    timeout: q.timeoutOccurred
                }))
            };
        }

        // Test başlangıç zamanını kaydet
        function startTestTimer(testName) {
            if (testResults[testName]) {
                testResults[testName].testStartTime = Date.now();
                
                // İlk test başladığında session zamanını da başlat
                if (!testResults.summary.testSessionStartTime) {
                    testResults.summary.testSessionStartTime = Date.now();
                    console.log(`🚀 TEST OTURUMU BAŞLADI: ${new Date().toLocaleTimeString()}`);
                }
                
                console.log(`⏰ ${testName.toUpperCase()} BAŞLADI: ${new Date().toLocaleTimeString()}`);
            }
        }

        // Test bitiş zamanını kaydet ve süreyi hesapla
        function endTestTimer(testName) {
            if (testResults[testName] && testResults[testName].testStartTime) {
                testResults[testName].testEndTime = Date.now();
                testResults[testName].testDuration = testResults[testName].testEndTime - testResults[testName].testStartTime;
                
                console.log(`⏹️ ${testName.toUpperCase()} BİTTİ: ${new Date().toLocaleTimeString()}`);
    
            }
        }

        // Doğruluk skorunu hesapla (Excel: Doğru Sayısı / Toplam Parça x 100)
        function calculateAccuracyScore(testName) {
            const test = testResults[testName];
            if (!test || !test.questions.length) return 0;
            
            const correctCount = test.questions.filter(q => q.isCorrect).length;
            const totalCount = test.totalRounds;
            const accuracy = (correctCount / totalCount) * 100;
            
            console.log(`📊 ${testName.toUpperCase()} DOĞRULUK SKORU: ${correctCount}/${totalCount} = %${accuracy.toFixed(1)}`);
            return accuracy;
        }

        // Ortalama tepki süresini hesapla (sadece doğru cevaplar için)
        function calculateAverageResponseTime(testName) {
            const test = testResults[testName];
            if (!test || !test.questions.length) return 0;
            
            const correctAnswers = test.questions.filter(q => q.isCorrect && !q.timeoutOccurred);
            if (correctAnswers.length === 0) return 0;
            
            const totalTime = correctAnswers.reduce((sum, q) => sum + q.responseTime, 0);
            const avgTime = totalTime / correctAnswers.length;
            
            console.log(`🕒 ${testName.toUpperCase()} ORTALAMA TEPKİ SÜRESİ: ${avgTime.toFixed(2)} saniye (${correctAnswers.length} doğru cevap)`);
            return avgTime;
        }

        // Bilgi işleme hızı skoru (Excel: Süreye dayalı puanlama - hızlı doğru tepki yüksek puan)
        function calculateProcessingSpeedScore(responseTime, maxTime = 15) {
            // Hızlı tepki yüksek puan getirir: 100 - (süre/max_süre * 100)
            const score = Math.max(0, 100 - ((responseTime / maxTime) * 100));
            return score;
        }

        // Normalize edilmiş hız skoru (Excel: 100 - (Ortalama Süre / Maksimum Süre) * 100)
        function calculateNormalizedSpeedScore(averageTime, maxTime = 15) {
            const normalizedScore = Math.max(0, 100 - ((averageTime / maxTime) * 100));
            return normalizedScore;
        }

        // Kategori bazlı istatistikleri hesapla
        function calculateCategoryStats(categoryName) {
            const category = testCategories[categoryName];
            if (!category) return null;
            
            let totalCorrect = 0;
            let totalQuestions = 0;
            let totalResponseTime = 0;
            let correctResponseCount = 0;
            let totalTestDuration = 0;
            
            category.tests.forEach(testName => {
                const test = testResults[testName];
                if (test && test.questions.length > 0) {
                    const correctAnswers = test.questions.filter(q => q.isCorrect);
                    const correctWithTime = correctAnswers.filter(q => !q.timeoutOccurred);
                    
                    totalCorrect += correctAnswers.length;
                    totalQuestions += test.questions.length;
                    totalTestDuration += test.testDuration || 0;
                    
                    if (correctWithTime.length > 0) {
                        totalResponseTime += correctWithTime.reduce((sum, q) => sum + q.responseTime, 0);
                        correctResponseCount += correctWithTime.length;
                    }
                }
            });
            
            const accuracy = totalQuestions > 0 ? (totalCorrect / totalQuestions) * 100 : 0;
            const avgResponseTime = correctResponseCount > 0 ? totalResponseTime / correctResponseCount : 0;
            
            console.log(`📈 ${category.description.toUpperCase()} İSTATİSTİKLERİ:`);
            console.log(`   📊 Doğruluk: ${totalCorrect}/${totalQuestions} = %${accuracy.toFixed(1)}`);
            console.log(`   🕒 Ortalama Tepki Süresi: ${avgResponseTime.toFixed(2)} saniye`);
            console.log(`   ⏱️ Toplam Test Süresi: ${(totalTestDuration / 1000).toFixed(2)} saniye`);
            
            return {
                accuracy,
                avgResponseTime,
                totalTestDuration,
                totalCorrect,
                totalQuestions
            };
        }

        // Genel sonuçları hesapla ve güncelle
        function updateSummaryStats() {
            console.log(`\n🎯 ============= GENEL SONUÇLAR GÜNCELLENİYOR =============`);
            
            const summary = testResults.summary;
            
            // Test oturumu bitiş zamanı
            summary.testSessionEndTime = Date.now();
            if (summary.testSessionStartTime) {
                summary.totalSessionDuration = summary.testSessionEndTime - summary.testSessionStartTime;
            }
            
            // Ham veriler
            let totalCorrect = 0;
            let totalWrong = 0;
            let totalTimeout = 0;
            let totalResponseTime = 0;
            let correctResponseCount = 0;
            let totalTestDuration = 0;
            
            // Her test için verileri topla
            Object.keys(testResults).forEach(testName => {
                if (testName === 'summary') return;
                
                const test = testResults[testName];
                if (test && test.questions.length > 0) {
                    test.questions.forEach(q => {
                        if (q.isCorrect) {
                            totalCorrect++;
                            if (!q.timeoutOccurred) {
                                totalResponseTime += q.responseTime;
                                correctResponseCount++;
                            }
                        } else {
                            totalWrong++;
                        }
                        
                        if (q.timeoutOccurred) {
                            totalTimeout++;
                        }
                    });
                    
                    totalTestDuration += test.testDuration || 0;
                }
            });
            
            // Ham verileri güncelle
            summary.correctPieces = totalCorrect;
            summary.wrongPieces = totalWrong;
            summary.timeoutPieces = totalTimeout;
            summary.totalCompletionTime = totalTestDuration;
            summary.averageResponseTime = correctResponseCount > 0 ? totalResponseTime / correctResponseCount : 0;
            
            // Genel doğruluk yüzdesi
            summary.overallAccuracy = summary.totalPieces > 0 ? (totalCorrect / summary.totalPieces) * 100 : 0;
            
            // Kategori bazlı skorları hesapla
            const fourPieceStats = calculateCategoryStats('fourPiece');
            const sixPieceStats = calculateCategoryStats('sixPiece');
            const ninePieceStats = calculateCategoryStats('ninePiece');
            const sixteenPieceStats = calculateCategoryStats('sixteenPiece');
            
            if (fourPieceStats) {
                summary.fourPieceAccuracy = fourPieceStats.accuracy;
                summary.fourPieceAvgTime = fourPieceStats.avgResponseTime;
                summary.fourPieceCompletionTime = fourPieceStats.totalTestDuration;
            }
            
            if (sixPieceStats) {
                summary.sixPieceAccuracy = sixPieceStats.accuracy;
                summary.sixPieceAvgTime = sixPieceStats.avgResponseTime;
                summary.sixPieceCompletionTime = sixPieceStats.totalTestDuration;
            }
            
            if (ninePieceStats) {
                summary.ninePieceAccuracy = ninePieceStats.accuracy;
                summary.ninePieceAvgTime = ninePieceStats.avgResponseTime;
                summary.ninePieceCompletionTime = ninePieceStats.totalTestDuration;
            }
            
            if (sixteenPieceStats) {
                summary.sixteenPieceAccuracy = sixteenPieceStats.accuracy;
                summary.sixteenPieceAvgTime = sixteenPieceStats.avgResponseTime;
                summary.sixteenPieceCompletionTime = sixteenPieceStats.totalTestDuration;
            }
            
            // Bilgi işleme hızı skorları
            summary.processingSpeedScore = calculateProcessingSpeedScore(summary.averageResponseTime);
            summary.normalizedSpeedScore = calculateNormalizedSpeedScore(summary.averageResponseTime);
            
            console.log(`\n📋 ============= EXCEL VERİLERİ ÖZET =============`);
            console.log(`📊 HAM VERİ:`);
            console.log(`   Toplam Parça: ${summary.totalPieces}`);
            console.log(`   Doğru Parça: ${summary.correctPieces}`);
            console.log(`   Yanlış Parça: ${summary.wrongPieces}`);
            console.log(`   Timeout Parça: ${summary.timeoutPieces}`);
            console.log(`\n🎯 DOĞRULUK SKORLARI:`);
            console.log(`   Genel Doğruluk: %${summary.overallAccuracy.toFixed(1)} (${summary.correctPieces}/${summary.totalPieces})`);
            console.log(`   4 Parçalı Doğruluk: %${summary.fourPieceAccuracy.toFixed(1)}`);
            console.log(`   6 Parçalı Doğruluk: %${summary.sixPieceAccuracy.toFixed(1)}`);
            console.log(`   9 Parçalı Doğruluk: %${summary.ninePieceAccuracy.toFixed(1)}`);
            console.log(`   16 Parçalı Doğruluk: %${summary.sixteenPieceAccuracy.toFixed(1)}`);
            console.log(`\n⚡ İŞLEM HIZI SKORLARI:`);
            console.log(`   Ortalama Tepki Süresi: ${summary.averageResponseTime.toFixed(2)} saniye`);
            console.log(`   4 Parçalı Ort. Süre: ${summary.fourPieceAvgTime.toFixed(2)} saniye`);
            console.log(`   6 Parçalı Ort. Süre: ${summary.sixPieceAvgTime.toFixed(2)} saniye`);
            console.log(`   9 Parçalı Ort. Süre: ${summary.ninePieceAvgTime.toFixed(2)} saniye`);
            console.log(`   16 Parçalı Ort. Süre: ${summary.sixteenPieceAvgTime.toFixed(2)} saniye`);
            console.log(`\n🏆 BİLGİ İŞLEME HIZI SKORLARI:`);
            console.log(`   İşleme Hızı Skoru: ${summary.processingSpeedScore.toFixed(1)} puan`);
            console.log(`   Normalize Hız Skoru: ${summary.normalizedSpeedScore.toFixed(1)} puan`);
            console.log(`\n⏱️ TAMAMLAMA SÜRELERİ:`);
            console.log(`   Toplam Oturum Süresi: ${(summary.totalSessionDuration / 1000).toFixed(2)} saniye`);
            console.log(`   Toplam Test Süresi: ${(summary.totalCompletionTime / 1000).toFixed(2)} saniye`);
            console.log(`   4 Parçalı Toplam Süre: ${(summary.fourPieceCompletionTime / 1000).toFixed(2)} saniye`);
            console.log(`   6 Parçalı Süre: ${(summary.sixPieceCompletionTime / 1000).toFixed(2)} saniye`);
            console.log(`   9 Parçalı Toplam Süre: ${(summary.ninePieceCompletionTime / 1000).toFixed(2)} saniye`);
            console.log(`   16 Parçalı Süre: ${(summary.sixteenPieceCompletionTime / 1000).toFixed(2)} saniye`);
            
            if (summary.incompleteTest) {
                console.log(`\n⚠️ TAMAMLANMAMA DURUMU:`);
                console.log(`   Kaldığı Test: ${summary.incompleteTest}`);
                console.log(`   Kaldığı Puzzle: ${summary.incompletePuzzle}`);
                console.log(`   Kaldığı Parça: ${summary.incompletePieceNumber}`);
            }
            
            console.log(`\n============================================\n`);
        }

        // ================================
        // YENİ LOGLAMA SİSTEMİ
        // ================================
        
        // Parça numarası çıkarma fonksiyonu - UI gösterim sırasına göre
        function getPieceNumber(testId, pieceId) {
            // Test kurallarından UI gösterim sırasını al
            const testRules = getTestRules(testId);
            if (testRules) {
                const rule = testRules.find(r => r.clickable_id === pieceId || r.tk === pieceId);
                if (rule && rule.round_number) {
                    return rule.round_number;
                } else if (rule && rule.round) {
                    return rule.round;
                }
            }
            
            // Fallback: ID'den numara çıkar
            const match = pieceId.match(/-(\d+)$/) || pieceId.match(/tk-?(\d*)$/);
            if (match && match[1]) {
                return parseInt(match[1]);
            }
            
            return 1; // Default
        }
        
        // UI'daki mevcut round numarasını al (tıklama anında)
        function getCurrentUIRoundAtClick(testId) {
            // testResults'tan currentRound'u al (tıklama anında doğru değeri gösterir)
            if (testResults[testId] && testResults[testId].currentRound) {
                return testResults[testId].currentRound;
            }
            
            return 1;
        }
        
                 // Round numarası ile log fonksiyonu
         function logQuestionResultWithRound(testId, pieceId, isCorrect, responseTime, roundNumber, isTimeout = false) {
             const testType = getTestType(testId);
             const currentData = testData.tests[testId];
             
             // Test adını daha okunabilir hale getir
             const testName = testId === 'practice' ? 'ÖRNEK UYGULAMA' : 
                             testId.toUpperCase().replace('TEST', 'TEST ');
             
             // Timeout durumunda özel mesaj
             let resultText;
             if (isTimeout) {
                 resultText = 'İşaretlemedi ⏰';
             } else {
                 resultText = isCorrect ? 'EVET ✓' : 'HAYIR ✗';
             }
             
             console.log(`\n🧩 ${testName} - PARÇA ${roundNumber} SONUCU:`);
             console.log(`   ✅ Doğru mu: ${resultText}`);
             console.log(`   ⏱️ Tepki Süresi: ${responseTime.toFixed(0)}ms (${(responseTime/1000).toFixed(2)}s)`);
             console.log(`   🎯 Tıklanan Parça: ${roundNumber} (${pieceId})`);
             console.log(`   📊 Test İlerlemesi: ${currentData ? currentData.correct : 0}/${testType.pieces} doğru`);
             console.log(`   📈 Anlık Doğruluk: %${currentData ? currentData.accuracy.toFixed(1) : 0}`);
             console.log(`   🕐 Zaman: ${new Date().toLocaleTimeString()}`);
             
             // Hız değerlendirmesi
             const speedEval = responseTime < 2000 ? '🚀 Hızlı' : 
                              responseTime < 5000 ? '⚡ Normal' : 
                              responseTime < 10000 ? '🐌 Yavaş' : '⏰ Çok Yavaş';
             console.log(`   🏆 Hız Değerlendirmesi: ${speedEval}`);
         }
        
        // Test kurallarını getir
        function getTestRules(testId) {
            // Her test için kural dizisini döndür
            switch(testId) {
                case 'practice':
                    return [
                        { clickable_id: "practice-tk-1", highlight_id: "practice-pr-1", round_number: 1 },
                        { clickable_id: "practice-tk-2", highlight_id: "practice-pr-2", round_number: 2 },
                        { clickable_id: "practice-tk-3", highlight_id: "practice-pr-3", round_number: 3 }
                    ];
                case 'test1':
                    return [
                        { clickable_id: "test1-tk-1", highlight_id: "test1-pr-1", round_number: 1 },
                        { clickable_id: "test1-tk-2", highlight_id: "test1-pr-2", round_number: 2 },
                        { clickable_id: "test1-tk-3", highlight_id: "test1-pr-3", round_number: 3 },
                        { clickable_id: "test1-tk-4", highlight_id: "test1-pr-4", round_number: 4 }
                    ];
                case 'test2':
                    return [
                        { clickable_id: "test2-tk-1", highlight_id: "test2-pr-1", round_number: 1 },
                        { clickable_id: "test2-tk-2", highlight_id: "test2-pr-2", round_number: 2 },
                        { clickable_id: "test2-tk-3", highlight_id: "test2-pr-3", round_number: 3 },
                        { clickable_id: "test2-tk-4", highlight_id: "test2-pr-4", round_number: 4 }
                    ];
                case 'test3':
                    return [
                        { clickable_id: "test3-tk-1", highlight_id: "test3-pr-1", round_number: 1 },
                        { clickable_id: "test3-tk-2", highlight_id: "test3-pr-2", round_number: 2 },
                        { clickable_id: "test3-tk-3", highlight_id: "test3-pr-3", round_number: 3 },
                        { clickable_id: "test3-tk-4", highlight_id: "test3-pr-4", round_number: 4 }
                    ];
                case 'test4':
                    return [
                        { clickable_id: "test4-tk-1", highlight_id: "test4-pr-1", round_number: 1 },
                        { clickable_id: "test4-tk-2", highlight_id: "test4-pr-2", round_number: 2 },
                        { clickable_id: "test4-tk-3", highlight_id: "test4-pr-3", round_number: 3 },
                        { clickable_id: "test4-tk-4", highlight_id: "test4-pr-4", round_number: 4 }
                    ];
                case 'test5':
                    return [
                        { tk: "test5-tk-1", pr: "pr-1", round: 1 },
                        { tk: "test5-tk-2", pr: "pr-2", round: 2 },
                        { tk: "test5-tk-3", pr: "pr-3", round: 3 },
                        { tk: "test5-tk-4", pr: "pr-4", round: 4 }
                    ];
                case 'test6':
                    return [
                        { clickable_id: "test6-tk-1", highlight_id: "test6-pr-1", round_number: 1 },
                        { clickable_id: "test6-tk-2", highlight_id: "test6-pr-2", round_number: 2 },
                        { clickable_id: "test6-tk-3", highlight_id: "test6-pr-3", round_number: 3 },
                        { clickable_id: "test6-tk-4", highlight_id: "test6-pr-4", round_number: 4 },
                        { clickable_id: "test6-tk-5", highlight_id: "test6-pr-5", round_number: 5 },
                        { clickable_id: "test6-tk-6", highlight_id: "test6-pr-6", round_number: 6 }
                    ];
                case 'test7':
                    return [
                        { clickable_id: "test7-tk-1", highlight_id: "test7-pr-1", round_number: 1 },
                        { clickable_id: "test7-tk-2", highlight_id: "test7-pr-2", round_number: 2 },
                        { clickable_id: "test7-tk-3", highlight_id: "test7-pr-3", round_number: 3 },
                        { clickable_id: "test7-tk-4", highlight_id: "test7-pr-4", round_number: 4 },
                        { clickable_id: "test7-tk-5", highlight_id: "test7-pr-5", round_number: 5 },
                        { clickable_id: "test7-tk-6", highlight_id: "test7-pr-6", round_number: 6 },
                        { clickable_id: "test7-tk-7", highlight_id: "test7-pr-7", round_number: 7 },
                        { clickable_id: "test7-tk-8", highlight_id: "test7-pr-8", round_number: 8 },
                        { clickable_id: "test7-tk-9", highlight_id: "test7-pr-9", round_number: 9 }
                    ];
                case 'test8':
                    return [
                        { clickable_id: "test8-tk-1", highlight_id: "test8-pr-1", round_number: 1 },
                        { clickable_id: "test8-tk-2", highlight_id: "test8-pr-2", round_number: 2 },
                        { clickable_id: "test8-tk-3", highlight_id: "test8-pr-3", round_number: 3 },
                        { clickable_id: "test8-tk-4", highlight_id: "test8-pr-4", round_number: 4 },
                        { clickable_id: "test8-tk-5", highlight_id: "test8-pr-5", round_number: 5 },
                        { clickable_id: "test8-tk-6", highlight_id: "test8-pr-6", round_number: 6 },
                        { clickable_id: "test8-tk-7", highlight_id: "test8-pr-7", round_number: 7 },
                        { clickable_id: "test8-tk-8", highlight_id: "test8-pr-8", round_number: 8 },
                        { clickable_id: "test8-tk-9", highlight_id: "test8-pr-9", round_number: 9 }
                    ];
                case 'test9':
                    return [
                        { clickable_id: "test9-tk-1", highlight_id: "test9-pr-1", round_number: 1 },
                        { clickable_id: "test9-tk-2", highlight_id: "test9-pr-2", round_number: 2 },
                        { clickable_id: "test9-tk-3", highlight_id: "test9-pr-3", round_number: 3 },
                        { clickable_id: "test9-tk-4", highlight_id: "test9-pr-4", round_number: 4 },
                        { clickable_id: "test9-tk-5", highlight_id: "test9-pr-5", round_number: 5 },
                        { clickable_id: "test9-tk-6", highlight_id: "test9-pr-6", round_number: 6 },
                        { clickable_id: "test9-tk-7", highlight_id: "test9-pr-7", round_number: 7 },
                        { clickable_id: "test9-tk-8", highlight_id: "test9-pr-8", round_number: 8 },
                        { clickable_id: "test9-tk-9", highlight_id: "test9-pr-9", round_number: 9 },
                        { clickable_id: "test9-tk-10", highlight_id: "test9-pr-10", round_number: 10 },
                        { clickable_id: "test9-tk-11", highlight_id: "test9-pr-11", round_number: 11 },
                        { clickable_id: "test9-tk-12", highlight_id: "test9-pr-12", round_number: 12 },
                        { clickable_id: "test9-tk-13", highlight_id: "test9-pr-13", round_number: 13 },
                        { clickable_id: "test9-tk-14", highlight_id: "test9-pr-14", round_number: 14 },
                        { clickable_id: "test9-tk-15", highlight_id: "test9-pr-15", round_number: 15 },
                        { clickable_id: "test9-tk-16", highlight_id: "test9-pr-16", round_number: 16 }
                    ];
                default:
                    return null;
            }
        }



        // Test bölümü tamamlandığında çağrılacak fonksiyon
        function logSectionCompletion(testId) {
            const test = testData.tests[testId];
            if (!test || !test.completed) return;
            
            const testType = getTestType(testId);
            
            console.log(`\n🏁 =============== ${testType.type} TAMAMLANDI ===============`);
            console.log(`📊 ${testId.toUpperCase()} BÖLÜM İSTATİSTİKLERİ:`);
            console.log(`   🎯 Test Tipi: ${testType.type}`);
            console.log(`   📦 Kategori: ${testType.category} (${testType.pieces} parça)`);
            console.log(`   ✅ Doğru Cevaplar: ${test.correct}/${test.totalPieces}`);
            console.log(`   ❌ Yanlış Cevaplar: ${test.wrong}/${test.totalPieces}`);
            console.log(`   📈 Doğruluk Oranı: %${test.accuracy.toFixed(1)}`);
            console.log(`   ⏱️ Ortalama Tepki Süresi: ${test.averageResponseTime.toFixed(0)}ms`);
            console.log(`   ⏰ TEST SÜRESİ: ${(test.duration / 1000).toFixed(2)} saniye`);
            console.log(`   📅 Başlangıç: ${new Date(test.startTime).toLocaleTimeString()}`);
            console.log(`   🏁 Bitiş: ${new Date(test.endTime).toLocaleTimeString()}`);
            
            // Parça detayları - UI sırasına göre
            console.log(`\n📋 ${testId.toUpperCase()} PARÇA DETAYLARI:`);
            
            // Parçaları UI sırasına göre sıralayalım
            const sortedPieces = Object.values(test.pieces).sort((a, b) => {
                // Piece ID'den round numarası çıkar ve sırala
                const aRound = getPieceNumber(testId, a.pieceId);
                const bRound = getPieceNumber(testId, b.pieceId);
                return aRound - bRound;
            });
            
            sortedPieces.forEach((piece, index) => {
                let status, statusText;
                if (piece.isTimeout) {
                    status = '⏰';
                    statusText = 'İşaretlemedi';
                } else if (piece.isCorrect) {
                    status = '✅';
                    statusText = 'Doğru';
                } else {
                    status = '❌';
                    statusText = 'Yanlış';
                }
                
                const attempts = piece.attempts > 1 ? ` (${piece.attempts} deneme)` : '';
                const pieceNumber = index + 1; // UI sırası (1, 2, 3, 4...)
                console.log(`   ${status} Parça ${pieceNumber} (${piece.pieceId}): ${piece.responseTime.toFixed(0)}ms${attempts} - ${statusText}`);
            });
            
            // Excel kategorisine göre özel bilgi
            if (testType.category === '4piece') {
                console.log(`   🔢 4 Parçalı Puzzle Kategorisi - Excel Sütun: Dörtparçalı`);
            } else if (testType.category === '6piece') {
                console.log(`   🔢 6 Parçalı Puzzle Kategorisi - Excel Sütun: Altıparçalı`);
            } else if (testType.category === '9piece') {
                console.log(`   🔢 9 Parçalı Puzzle Kategorisi - Excel Sütun: Dokuzparçalı`);
            } else if (testType.category === '16piece') {
                console.log(`   🔢 16 Parçalı Puzzle Kategorisi - Excel Sütun: Onaltıparçalı`);
            }
            
            console.log(`============================================\n`);
        }

        // ============================================================================
        // DEMO VE NAVİGASYON FONKSİYONLARI
        // ============================================================================
        
        // Demo başlatma
        function startDemo() {
            // Demo section'a geç
            currentSection = 0;
            nextSection();
        }
        
        // Sonraki bölüme geç
        function nextSection() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Sadece question timer'ı durdur, alttaki progress bar çalışmaya devam etsin
            stopQuestionTimer();
            
            // Önceki test'in veri kaydını bitir
            const previousSection = sections[currentSection];
            if (previousSection && previousSection.includes('test') && previousSection !== 'test-preparation-screen' && previousSection !== 'test-completion-screen') {
                const testId = previousSection.replace('-section', '');
                onTestComplete(testId);
            }
            
            document.getElementById(sections[currentSection]).classList.remove('active');
            currentSection++;
            
            if (currentSection < sections.length) {
                document.getElementById(sections[currentSection]).classList.add('active');
                
                // Yeni test başlıyorsa veri kaydını başlat
                const newSection = sections[currentSection];
                if (newSection && newSection.includes('test') && newSection !== 'test-preparation-screen' && newSection !== 'test-completion-screen') {
                    const testId = newSection.replace('-section', '');
                    initializeTestRecording(testId);
                    startPieceTimer();
                }
                
                if (currentSection > 0) { // Demo değilse
                    initCurrentSection();
                }
            } else {
                // Tüm testler tamamlandı
                showTestCompletion();
            }
        }
        
        
        
        // Mevcut bölümü başlat
        function initCurrentSection() {
            switch(currentSection) {
                case 1: // Transition
                    initTransitionSection();
                    break;
                case 2: // Practice
                    initPracticeSection();
                    break;
                case 3: // Practice Completion
                    // Bu ekranda herhangi bir init işlemi gerekmiyor
                    break;
                case 4: // Practice Fail
                    // Bu ekranda herhangi bir init işlemi gerekmiyor
                    break;
                case 5: // Test Preparation
                    initTestPreparationSection();
                    break;
                case 6: // Test 1
                    initTest1Section();
                    break;
                case 7: // Test 2
                    initTest2Section();
                    break;
                case 8: // Test 3
                    initTest3Section();
                    break;
                case 9: // Test 4
                    initTest4Section();
                    break;
                case 10: // Test 5
                    initTest5Section();
                    break;
                case 11: // Test 6
                    initTest6Section();
                    break;
                case 12: // Test 7
                    initTest7Section();
                    break;
                case 13: // Test 8
                    initTest8Section();
                    break;
                case 14: // Test 9
                    initTest9Section();
                    break;
                case 15: // Test Completion
                    initTestCompletionSection();
                    break;
            }
        }
        
        // Transition section logic
        function initTransitionSection() {
            // Ses çal ve ses bitiminde butonu göster
            playAudio('uygulamagecis.mp3', () => {
                showButton('transitionStartBtn');
            });
        }
        
        // Practice section logic
        function initPracticeSection() {
            const practiceRules = [
                { clickable_id: "practice-tk-1", highlight_id: "practice-pr-1", round_number: 1 },
                { clickable_id: "practice-tk-2", highlight_id: "practice-pr-2", round_number: 2 },
                { clickable_id: "practice-tk-3", highlight_id: "practice-pr-3", round_number: 3 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let correctClicks = 0;
            let roundStartTime = null; // Her round için başlangıç zamanı
            
            function setupClickHandlers() {
                document.querySelectorAll('#practice-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = practiceRules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                
                // Tepki süresini hesapla
                const responseTime = Date.now() - roundStartTime;
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Önceki durumları temizle
                document.querySelectorAll('#practice-section .clickable').forEach(el => {
                    el.classList.remove('correct');
                });
                
                // Sonucu göster - her zaman yeşil
                event.target.classList.add('correct');
                gameActive = false;
                completedSteps++;
                
                if (isCorrect) {
                    correctClicks++;
                }
                
                // Sonraki parçaya geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    if (currentRound <= practiceRules.length) {
                        startRound(currentRound);
                    } else {
                        // Practice tamamlandığında veri kaydını bitir
                        onTestComplete('practice');
                        
                        // Practice tamamlandı, kontrol et
                        if (correctClicks >= 2) {
                            // En az 2 doğru varsa devam et
                            setTimeout(() => {
                                showPracticeCompletion();
                            }, 1000);
                        } else {
                            // 2'den az doğru varsa fail screen'a git
                            setTimeout(() => {
                                showPracticeFail();
                            }, 1000);
                        }
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                
                // Round başlangıç zamanını kaydet
                roundStartTime = Date.now();
                
                // Parça timer'ını başlat
                startPieceTimer();
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#practice-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                // İlgili yeşil daireyi göster
                const rule = practiceRules[roundNumber - 1];
                const highlightCircle = document.getElementById(rule.highlight_id.replace('practice-pr-', 'practice-highlight-pr-'));
                if (highlightCircle) {
                    highlightCircle.style.display = 'block';
                }
            }
            
            // Practice section başladığında ses çal
            playAudio('uygulama.mp3');
            
            setupClickHandlers();
            startRound(1);
        }
        
        // Test 1 section logic
        function initTest1Section() {
            const test1Rules = [
                { clickable_id: "test1-tk-1", highlight_id: "test1-pr-1", round_number: 1 },
                { clickable_id: "test1-tk-2", highlight_id: "test1-pr-2", round_number: 2 },
                { clickable_id: "test1-tk-3", highlight_id: "test1-pr-3", round_number: 3 },
                { clickable_id: "test1-tk-4", highlight_id: "test1-pr-4", round_number: 4 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 1;
            
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test1');
            
            // İlk test başladığında toplam timer'ı başlat
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            function calculateAndPositionHighlights() {
                const prElements = ['test1-pr-1', 'test1-pr-2', 'test1-pr-3', 'test1-pr-4'];
                
                prElements.forEach((prId, index) => {
                    const element = document.getElementById(prId);
                    if (element) {
                        // Önce merkez noktayı bul
                        const bbox = element.getBBox();
                        let cx = bbox.x + bbox.width / 2;
                        let cy = bbox.y + bbox.height / 2;
                        
                        // pr-3 ve pr-4 için gerçek geometrik merkezi hesapla
                        if (prId === 'test1-pr-3' || prId === 'test1-pr-4') {
                            let totalX = 0, totalY = 0, pointCount = 0;
                            
                            const children = element.querySelectorAll('path[style*="fill"], polygon[style*="fill"], rect[style*="fill"]');
                            children.forEach(child => {
                                if (child.tagName === 'polygon') {
                                    const pointsStr = child.getAttribute('points').trim();
                                    const points = pointsStr.split(/[\s,]+/).filter(v => v);
                                    
                                    for (let i = 0; i < points.length; i += 2) {
                                        if (i + 1 < points.length) {
                                            totalX += parseFloat(points[i]);
                                            totalY += parseFloat(points[i + 1]);
                                            pointCount++;
                                        }
                                    }
                                } else if (child.tagName === 'path') {
                                    const pathBbox = child.getBBox();
                                    const corners = [
                                        { x: pathBbox.x, y: pathBbox.y },
                                        { x: pathBbox.x + pathBbox.width, y: pathBbox.y },
                                        { x: pathBbox.x, y: pathBbox.y + pathBbox.height },
                                        { x: pathBbox.x + pathBbox.width, y: pathBbox.y + pathBbox.height }
                                    ];
                                    corners.forEach(corner => {
                                        totalX += corner.x;
                                        totalY += corner.y;
                                        pointCount++;
                                    });
                                } else if (child.tagName === 'rect') {
                                    const x = parseFloat(child.getAttribute('x'));
                                    const y = parseFloat(child.getAttribute('y'));
                                    const width = parseFloat(child.getAttribute('width'));
                                    const height = parseFloat(child.getAttribute('height'));
                                    
                                    const corners = [
                                        { x: x, y: y },
                                        { x: x + width, y: y },
                                        { x: x, y: y + height },
                                        { x: x + width, y: y + height }
                                    ];
                                    corners.forEach(corner => {
                                        totalX += corner.x;
                                        totalY += corner.y;
                                        pointCount++;
                                    });
                                }
                            });
                            
                            if (pointCount > 0) {
                                cx = totalX / pointCount;
                                cy = totalY / pointCount;
                            }
                        }
                        
                        // Parçanın tüm alt elemanlarını al ve en uzak noktayı bul
                        let maxDistance = 0;
                        const children = element.querySelectorAll('path[style*="fill"], polygon[style*="fill"], rect[style*="fill"]');
                        
                        children.forEach(child => {
                            if (child.tagName === 'polygon') {
                                const pointsStr = child.getAttribute('points').trim();
                                const points = pointsStr.split(/[\s,]+/).filter(v => v);
                                
                                for (let i = 0; i < points.length; i += 2) {
                                    if (i + 1 < points.length) {
                                        const x = parseFloat(points[i]);
                                        const y = parseFloat(points[i + 1]);
                                        const distance = Math.sqrt(Math.pow(x - cx, 2) + Math.pow(y - cy, 2));
                                        maxDistance = Math.max(maxDistance, distance);
                                    }
                                }
                            } else if (child.tagName === 'path') {
                                const pathBbox = child.getBBox();
                                const corners = [
                                    { x: pathBbox.x, y: pathBbox.y },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y },
                                    { x: pathBbox.x, y: pathBbox.y + pathBbox.height },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y + pathBbox.height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'rect') {
                                const x = parseFloat(child.getAttribute('x'));
                                const y = parseFloat(child.getAttribute('y'));
                                const width = parseFloat(child.getAttribute('width'));
                                const height = parseFloat(child.getAttribute('height'));
                                
                                const corners = [
                                    { x: x, y: y },
                                    { x: x + width, y: y },
                                    { x: x, y: y + height },
                                    { x: x + width, y: y + height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            }
                        });
                        
                        // Eğer maxDistance bulunamadıysa, bbox kullan
                        if (maxDistance === 0) {
                            maxDistance = Math.max(bbox.width, bbox.height) / 2;
                        }
                        
                        // Parça tipine göre farklı boşluk ekle
                        let multiplier = 1.2; // varsayılan
                        
                        // Eğer parça düzensiz şekilli ise (path içeriyorsa) daha fazla boşluk
                        if (element.querySelector('path')) {
                            multiplier = 1.35;
                        }
                        
                        // Özel durumlar için ince ayar
                        if (prId === 'test1-pr-2') {
                            multiplier = 1.4; // pr-2 biraz büyüt
                        } else if (prId === 'test1-pr-3') {
                            multiplier = 1.45; // pr-3 küçült (önceden 1.6 idi)
                        } else if (prId === 'test1-pr-4') {
                            multiplier = 1.6; // pr-4 aynı kalsın
                        }
                        
                        const radius = maxDistance * multiplier;
                        
                        const highlight = document.getElementById(`test1-highlight-${prId.replace('test1-', '')}`);
                        if (highlight) {
                            highlight.setAttribute('cx', cx);
                            highlight.setAttribute('cy', cy);
                            highlight.setAttribute('r', radius);
                        }
                    }
                });
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test1-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test1Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test1-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                const questionData = {
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                };
                
                testResults.test1.questions.push(questionData);
                

                
                // Önceki durumları temizle
                document.querySelectorAll('#test1-section .clickable').forEach(el => {
                    el.classList.remove('correct');
                });
                
                // Sonucu göster - her zaman yeşil
                event.target.classList.add('correct');
                gameActive = false;
                completedSteps++;
                
                // Sonraki parçaya geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test1.currentRound = currentRound;
                    
                    if (currentRound <= test1Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 1 tamamlandı, veri kaydını bitir
                        onTestComplete('test1');
                        setTimeout(() => {
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(1);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test1-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                // İlgili yeşil daireyi göster
                const rule = test1Rules[roundNumber - 1];
                const highlightCircle = document.getElementById(rule.highlight_id.replace('test1-pr-', 'test1-highlight-pr-'));
                if (highlightCircle) {
                    highlightCircle.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test1StartNextRound = function() {
                // Test 1 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test1.currentRound;
                
                if (currentRound <= test1Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 1 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            calculateAndPositionHighlights();
            setupClickHandlers();
            startRound(1);
        }
        
        // Test 2 section logic
        function initTest2Section() {
            // Eşleştirme kuralları - sıralı olarak pr-1'den başlayıp pr-4'e kadar
            const test2Rules = [
                { clickable_id: "test2-tk-1", highlight_id: "test2-pr-1", round_number: 1 },
                { clickable_id: "test2-tk-2", highlight_id: "test2-pr-2", round_number: 2 },
                { clickable_id: "test2-tk-3", highlight_id: "test2-pr-3", round_number: 3 },
                { clickable_id: "test2-tk-4", highlight_id: "test2-pr-4", round_number: 4 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 2;
            
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test2');
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                calculateAndPositionHighlights();
                startRound(currentRound);
            }
            
            // PR parçalarının gerçek sınırlarını hesapla ve çemberleri konumlandır
            function calculateAndPositionHighlights() {
                const prElements = ['test2-pr-1', 'test2-pr-2', 'test2-pr-3', 'test2-pr-4'];
                
                prElements.forEach((prId, index) => {
                    const element = document.getElementById(prId);
                    if (element) {
                        // Önce merkez noktayı bul
                        const bbox = element.getBBox();
                        const cx = bbox.x + bbox.width / 2;
                        const cy = bbox.y + bbox.height / 2;
                        
                        // Parçanın tüm alt elemanlarını al ve en uzak noktayı bul
                        let maxDistance = 0;
                        // Sadece fill'i olan (görünür) elemanları al
                        const children = element.querySelectorAll('path[style*="fill"], polygon[style*="fill"], rect[style*="fill"]');
                        
                        children.forEach(child => {
                            if (child.tagName === 'polygon') {
                                // Polygon noktalarını al - boşluk veya virgül ile ayrılmış olabilir
                                const pointsStr = child.getAttribute('points').trim();
                                const points = pointsStr.split(/[\s,]+/).filter(v => v);
                                const coordinates = [];
                                
                                for (let i = 0; i < points.length; i += 2) {
                                    if (i + 1 < points.length) {
                                        coordinates.push({
                                            x: parseFloat(points[i]),
                                            y: parseFloat(points[i + 1])
                                        });
                                    }
                                }
                                
                                // Her noktanın merkeze uzaklığını hesapla
                                coordinates.forEach(point => {
                                    const distance = Math.sqrt(Math.pow(point.x - cx, 2) + Math.pow(point.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'path') {
                                // Path için bbox kullan
                                const pathBbox = child.getBBox();
                                const corners = [
                                    { x: pathBbox.x, y: pathBbox.y },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y },
                                    { x: pathBbox.x, y: pathBbox.y + pathBbox.height },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y + pathBbox.height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'rect') {
                                // Rect için köşeleri hesapla
                                const x = parseFloat(child.getAttribute('x'));
                                const y = parseFloat(child.getAttribute('y'));
                                const width = parseFloat(child.getAttribute('width'));
                                const height = parseFloat(child.getAttribute('height'));
                                
                                const corners = [
                                    { x: x, y: y },
                                    { x: x + width, y: y },
                                    { x: x, y: y + height },
                                    { x: x + width, y: y + height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            }
                        });
                        
                        // Eğer maxDistance bulunamadıysa, bbox kullan
                        if (maxDistance === 0) {
                            maxDistance = Math.max(bbox.width, bbox.height) / 2;
                        }
                        
                        // Parça tipine göre farklı boşluk ekle
                        let multiplier = 1.2; // varsayılan
                        
                        // Eğer parça düzensiz şekilli ise (path içeriyorsa) daha fazla boşluk
                        if (element.querySelector('path')) {
                            multiplier = 1.35;
                        }
                        
                        // Özel durumlar için ince ayar
                        if (prId === 'test2-pr-3') {
                            multiplier = 1.25; // pr-3 küçült
                        } else if (prId === 'test2-pr-4') {
                            multiplier = 1.4; // pr-4 aynı kalsın
                        }
                        
                        const radius = maxDistance * multiplier;
                        
                        const highlight = document.getElementById(`test2-highlight-${prId.replace('test2-', '')}`);
                        if (highlight) {
                            highlight.setAttribute('cx', cx);
                            highlight.setAttribute('cy', cy);
                            highlight.setAttribute('r', radius);
                        }
                    }
                });
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test2-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test2Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test2-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                const questionData = {
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                };
                
                testResults.test2.questions.push(questionData);
                

                
                // Önceki durumları temizle
                document.querySelectorAll('#test2-section .clickable').forEach(el => {
                    el.classList.remove('correct');
                });
                
                // Sonucu göster - her zaman yeşil
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki parçaya geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    
                    // proceedToNextRound fonksiyonu round artırma işlemini yapacak
                    proceedToNextRound(2);
                }, 1500);
            }
            
            // Global fonksiyon olarak tanımla (proceedToNextRound için)
            window.test2StartNextRound = function() {
                // Local currentRound'u global ile senkronize et
                currentRound = testResults.test2.currentRound;
                
                if (currentRound <= test2Rules.length) {
                    startRound(currentRound);
                } else {
                    // Test 2 tamamlandı, veri kaydını bitir
                    onTestComplete('test2');
                    setTimeout(() => {
                        nextSection();
                    }, 1000);
                }
            };

            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(2);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test2-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test2Rules[roundNumber - 1];
                const highlightElement = document.getElementById(`test2-highlight-${rule.highlight_id.replace('test2-', '')}`);
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test2StartNextRound = function() {
                // Test 2 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test2.currentRound;
                
                if (currentRound <= test2Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 2 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Test 2 başlat
            initGame();
        }
        
        // Test 3 section logic
        function initTest3Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test3');
            // Eşleştirme kuralları - sıralı olarak pr-1'den başlayıp pr-4'e kadar
            const test3Rules = [
                { clickable_id: "test3-tk-1", highlight_id: "test3-pr-1", round_number: 1 },
                { clickable_id: "test3-tk-2", highlight_id: "test3-pr-2", round_number: 2 },
                { clickable_id: "test3-tk-3", highlight_id: "test3-pr-3", round_number: 3 },
                { clickable_id: "test3-tk-4", highlight_id: "test3-pr-4", round_number: 4 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 3;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                calculateAndPositionHighlights();
                startRound(currentRound);
            }
            
            // PR parçalarının gerçek sınırlarını hesapla ve çemberleri konumlandır
            function calculateAndPositionHighlights() {
                const prElements = ['test3-pr-1', 'test3-pr-2', 'test3-pr-3', 'test3-pr-4'];
                
                prElements.forEach((prId, index) => {
                    const element = document.getElementById(prId);
                    if (element) {
                        // Önce merkez noktayı bul
                        const bbox = element.getBBox();
                        const cx = bbox.x + bbox.width / 2;
                        const cy = bbox.y + bbox.height / 2;
                        
                        // Parçanın tüm alt elemanlarını al ve en uzak noktayı bul
                        let maxDistance = 0;
                        // Sadece fill'i olan (görünür) elemanları al
                        const children = element.querySelectorAll('path[style*="fill"], polygon[style*="fill"], rect[style*="fill"]');
                        
                        children.forEach(child => {
                            if (child.tagName === 'polygon') {
                                // Polygon noktalarını al - boşluk veya virgül ile ayrılmış olabilir
                                const pointsStr = child.getAttribute('points').trim();
                                const points = pointsStr.split(/[\s,]+/).filter(v => v);
                                const coordinates = [];
                                
                                for (let i = 0; i < points.length; i += 2) {
                                    if (i + 1 < points.length) {
                                        coordinates.push({
                                            x: parseFloat(points[i]),
                                            y: parseFloat(points[i + 1])
                                        });
                                    }
                                }
                                
                                // Her noktanın merkeze uzaklığını hesapla
                                coordinates.forEach(point => {
                                    const distance = Math.sqrt(Math.pow(point.x - cx, 2) + Math.pow(point.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'path') {
                                // Path için bbox kullan
                                const pathBbox = child.getBBox();
                                const corners = [
                                    { x: pathBbox.x, y: pathBbox.y },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y },
                                    { x: pathBbox.x, y: pathBbox.y + pathBbox.height },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y + pathBbox.height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'rect') {
                                // Rect için köşeleri hesapla
                                const x = parseFloat(child.getAttribute('x'));
                                const y = parseFloat(child.getAttribute('y'));
                                const width = parseFloat(child.getAttribute('width'));
                                const height = parseFloat(child.getAttribute('height'));
                                
                                const corners = [
                                    { x: x, y: y },
                                    { x: x + width, y: y },
                                    { x: x, y: y + height },
                                    { x: x + width, y: y + height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            }
                        });
                        
                        // Eğer maxDistance bulunamadıysa, bbox kullan
                        if (maxDistance === 0) {
                            maxDistance = Math.max(bbox.width, bbox.height) / 2;
                        }
                        
                        // Parça bazında farklı boşluk ekle - üçgenler için daha az boşluk
                        let multiplier = 1.15; // varsayılan
                        
                        // Özel durumlar için ince ayar - 3 klasörü ayarları
                        if (prId === 'test3-pr-1' || prId === 'test3-pr-2') {
                            multiplier = 1.05; // pr-1 ve pr-2 küçült
                        }
                        
                        const radius = maxDistance * multiplier;
                        
                        const highlight = document.getElementById(`test3-highlight-${prId.replace('test3-', '')}`);
                        if (highlight) {
                            highlight.setAttribute('cx', cx);
                            highlight.setAttribute('cy', cy);
                            highlight.setAttribute('r', radius);
                        }
                    }
                });
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test3-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test3Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test3-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test3.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                });
                

                
                // Önceki durumları temizle
                document.querySelectorAll('#test3-section .clickable').forEach(el => {
                    el.classList.remove('correct');
                });
                
                // Sonucu göster - her zaman yeşil
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki parçaya geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test3.currentRound = currentRound;
                    
                    if (currentRound <= test3Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 3 tamamlandı, sonraki bölüme geç
                        setTimeout(() => {
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(3);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test3-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test3Rules[roundNumber - 1];
                const highlightElement = document.getElementById(`test3-highlight-${rule.highlight_id.replace('test3-', '')}`);
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test3StartNextRound = function() {
                // Test 3 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test3.currentRound;
                
                if (currentRound <= test3Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 3 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Test 3 başlat
            initGame();
        }
        
        // Test 4 section logic
        function initTest4Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test4');
            // Eşleştirme kuralları - mantıklı pozisyon eşleştirmesi
            const test4Rules = [
                { clickable_id: "test4-tk-1", highlight_id: "test4-pr-2", round_number: 1 }, // Sol üst → Sol taraf
                { clickable_id: "test4-tk-2", highlight_id: "test4-pr-4", round_number: 2 }, // Sağ üst → Sağ taraf
                { clickable_id: "test4-tk-3", highlight_id: "test4-pr-1", round_number: 3 }, // Sol alt → Alt orta
                { clickable_id: "test4-tk-4", highlight_id: "test4-pr-3", round_number: 4 }  // Sağ alt → Sağ alt
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 4;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                calculateAndPositionHighlights();
                startRound(currentRound);
            }
            
            // PR parçalarının gerçek sınırlarını hesapla ve çemberleri konumlandır
            function calculateAndPositionHighlights() {
                const prElements = ['test4-pr-1', 'test4-pr-2', 'test4-pr-3', 'test4-pr-4'];
                
                prElements.forEach((prId, index) => {
                    const element = document.getElementById(prId);
                    if (element) {
                        // Önce merkez noktayı bul
                        const bbox = element.getBBox();
                        const cx = bbox.x + bbox.width / 2;
                        const cy = bbox.y + bbox.height / 2;
                        
                        // Parçanın tüm alt elemanlarını al ve en uzak noktayı bul
                        let maxDistance = 0;
                        // Sadece fill'i olan (görünür) elemanları al
                        const children = element.querySelectorAll('path[style*="fill"], polygon[style*="fill"], rect[style*="fill"]');
                        
                        children.forEach(child => {
                            if (child.tagName === 'polygon') {
                                // Polygon noktalarını al - boşluk veya virgül ile ayrılmış olabilir
                                const pointsStr = child.getAttribute('points').trim();
                                const points = pointsStr.split(/[\s,]+/).filter(v => v);
                                const coordinates = [];
                                
                                for (let i = 0; i < points.length; i += 2) {
                                    if (i + 1 < points.length) {
                                        coordinates.push({
                                            x: parseFloat(points[i]),
                                            y: parseFloat(points[i + 1])
                                        });
                                    }
                                }
                                
                                // Her noktanın merkeze uzaklığını hesapla
                                coordinates.forEach(point => {
                                    const distance = Math.sqrt(Math.pow(point.x - cx, 2) + Math.pow(point.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'path') {
                                // Path için bbox kullan
                                const pathBbox = child.getBBox();
                                const corners = [
                                    { x: pathBbox.x, y: pathBbox.y },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y },
                                    { x: pathBbox.x, y: pathBbox.y + pathBbox.height },
                                    { x: pathBbox.x + pathBbox.width, y: pathBbox.y + pathBbox.height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            } else if (child.tagName === 'rect') {
                                // Rect için köşeleri hesapla
                                const x = parseFloat(child.getAttribute('x'));
                                const y = parseFloat(child.getAttribute('y'));
                                const width = parseFloat(child.getAttribute('width'));
                                const height = parseFloat(child.getAttribute('height'));
                                
                                const corners = [
                                    { x: x, y: y },
                                    { x: x + width, y: y },
                                    { x: x, y: y + height },
                                    { x: x + width, y: y + height }
                                ];
                                
                                corners.forEach(corner => {
                                    const distance = Math.sqrt(Math.pow(corner.x - cx, 2) + Math.pow(corner.y - cy, 2));
                                    maxDistance = Math.max(maxDistance, distance);
                                });
                            }
                        });
                        
                        // Eğer maxDistance bulunamadıysa, bbox kullan
                        if (maxDistance === 0) {
                            maxDistance = Math.max(bbox.width, bbox.height) / 2;
                        }
                        
                        // Parça tipine göre farklı boşluk ekle - kareler için standart boşluk
                        let multiplier = 1.3; // varsayılan - kareler için biraz daha büyük
                        
                        const radius = maxDistance * multiplier;
                        
                        const highlight = document.getElementById(`test4-highlight-${prId.replace('test4-', '')}`);
                        if (highlight) {
                            highlight.setAttribute('cx', cx);
                            highlight.setAttribute('cy', cy);
                            highlight.setAttribute('r', radius);
                        }
                    }
                });
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test4-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test4Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test4-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test4.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                });
                

                
                // Önceki durumları temizle
                document.querySelectorAll('#test4-section .clickable').forEach(el => {
                    el.classList.remove('correct');
                });
                
                // Sonucu göster - her zaman yeşil
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki parçaya geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test4.currentRound = currentRound;
                    
                    if (currentRound <= test4Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 4 tamamlandı, sonraki bölüme geç
                        setTimeout(() => {
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(4);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test4-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test4Rules[roundNumber - 1];
                const highlightElement = document.getElementById(`test4-highlight-${rule.highlight_id.replace('test4-', '')}`);
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test4StartNextRound = function() {
                // Test 4 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test4.currentRound;
                
                if (currentRound <= test4Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 4 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Test 4 başlat
            initGame();
        }
        
        // Test 5 section logic
        function initTest5Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test5');
            // TK→PR eşleştirme kuralları
            const mappingRules = [
                { tk: "test5-tk-1", pr: "pr-1", round: 1 },
                { tk: "test5-tk-2", pr: "pr-2", round: 2 },
                { tk: "test5-tk-3", pr: "pr-3", round: 3 },
                { tk: "test5-tk-4", pr: "pr-4", round: 4 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            const totalRounds = mappingRules.length;
            currentTestNumber = 5;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function startGame() {
                setupEventListeners();
                showCurrentRound();
            }
            
            // Event listener'ları kur
            function setupEventListeners() {
                document.querySelectorAll('#test5-section .clickable').forEach(piece => {
                    piece.addEventListener('click', handleClick);
                });
            }
            
            // TK parçası tıklandığında
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedTK = event.target.id;
                const currentRule = mappingRules[currentRound - 1];
                const isCorrect = clickedTK === currentRule.tk;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedTK, currentRule.tk);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test5-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test5.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedTK,
                    correctElement: currentRule.tk,
                    timestamp: Date.now()
                });
                

                
                // Önceki stilleri temizle
                document.querySelectorAll('#test5-section .clickable').forEach(piece => {
                    piece.classList.remove('correct');
                });
                
                // Her zaman yeşil göster (Tests 1-4 standardı)
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki round'a geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test5.currentRound = currentRound;
                    
                    if (currentRound <= totalRounds) {
                        showCurrentRound();
                    } else {
                        // Test 5 tamamlandı, sonraki bölüme geç
                        setTimeout(() => {
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            // Mevcut round'u göster
            function showCurrentRound() {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(5);
                
                // Tüm vurguları gizle
                hideAllHighlights();
                
                // Mevcut round'un yeşil dairesini göster
                const currentRule = mappingRules[currentRound - 1];
                const highlightId = `test5-highlight-${currentRule.pr}`;
                const highlightElement = document.getElementById(highlightId);
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Tüm vurguları gizle
            function hideAllHighlights() {
                document.querySelectorAll('#test5-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test5StartNextRound = function() {
                // Test 5 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test5.currentRound;
                
                if (currentRound <= mappingRules.length) {
                    showCurrentRound();
                } else {
                                            // Test 5 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Oyunu başlat
            startGame();
        }
        
        // Test 6 section logic
        function initTest6Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test6');
            
            // Test veri kaydını başlat
            initializeTestRecording('test6');
            // Eşleştirme kuralları - sıralı eşleştirme
            const test6Rules = [
                { clickable_id: "test6-tk-1", highlight_id: "pr-1", round_number: 1 },
                { clickable_id: "test6-tk-2", highlight_id: "pr-2", round_number: 2 },
                { clickable_id: "test6-tk-3", highlight_id: "pr-3", round_number: 3 },
                { clickable_id: "test6-tk-4", highlight_id: "pr-4", round_number: 4 },
                { clickable_id: "test6-tk-5", highlight_id: "pr-5", round_number: 5 },
                { clickable_id: "test6-tk-6", highlight_id: "pr-6", round_number: 6 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 6;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                calculateAndPositionHighlights();
                startRound(currentRound);
            }
            
            // PR parçalarının koordinatlarını manuel olarak ayarla
            function calculateAndPositionHighlights() {
                // Python analizi sonucu PR parçalarının koordinatları
                const prCoordinates = {
                    'pr-1': { x: 795.9, y: 421.4 },
                    'pr-2': { x: 774.3, y: 187.4 },
                    'pr-3': { x: 330.2, y: 465.0 },
                    'pr-4': { x: 532.0, y: 345.8 },
                    'pr-5': { x: 537.2, y: 143.5 },
                    'pr-6': { x: 543.0, y: 538.4 }
                };
                
                // Her PR parçası için yeşil daireyi konumlandır
                Object.keys(prCoordinates).forEach(prId => {
                    const coords = prCoordinates[prId];
                    const highlight = document.getElementById(`test6-highlight-${prId}`);
                    
                    if (highlight) {
                        highlight.setAttribute('cx', coords.x);
                        highlight.setAttribute('cy', coords.y);
                        highlight.setAttribute('r', 80); // Büyütülmüş radius
                    }
                });
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test6-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test6Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test6-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test6.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                });
                

                
                // Önceki durumları temizle
                document.querySelectorAll('#test6-section .clickable').forEach(el => {
                    el.classList.remove('correct');
                });
                
                // Sonucu göster - her zaman yeşil (Test 1-4 standardı)
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki parçaya geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test6.currentRound = currentRound;
                    
                    if (currentRound <= test6Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 6 tamamlandı, sonraki bölüme geç
                        setTimeout(() => {
                            completedSteps += 6;
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(6);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test6-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test6Rules[roundNumber - 1];
                const highlightElement = document.getElementById(`test6-highlight-${rule.highlight_id}`);
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test6StartNextRound = function() {
                // Test 6 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test6.currentRound;
                
                if (currentRound <= test6Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 6 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Test 6 başlat
            initGame();
        }
        
        // Test 7 section logic
        function initTest7Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test7');
            
            // Test veri kaydını başlat
            initializeTestRecording('test7');
            // Test 7 eşleştirme kuralları - orijinal sıralama
            const test7Rules = [
                { clickable_id: "test7-tk-1", highlight_id: "test7-pr-1", round_number: 1 },
                { clickable_id: "test7-tk-2", highlight_id: "test7-pr-2", round_number: 2 },
                { clickable_id: "test7-tk-3", highlight_id: "test7-pr-3", round_number: 3 },
                { clickable_id: "test7-tk-4", highlight_id: "test7-pr-4", round_number: 4 },
                { clickable_id: "test7-tk-5", highlight_id: "test7-pr-5", round_number: 5 },
                { clickable_id: "test7-tk-6", highlight_id: "test7-pr-6", round_number: 6 },
                { clickable_id: "test7-tk-7", highlight_id: "test7-pr-7", round_number: 7 },
                { clickable_id: "test7-tk-8", highlight_id: "test7-pr-8", round_number: 8 },
                { clickable_id: "test7-tk-9", highlight_id: "test7-pr-9", round_number: 9 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 7;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                calculateAndPositionHighlights();
                startRound(currentRound);
            }
            
            // PR parçalarının koordinatlarını ayarla (SVG'den alınan koordinatlar)
            function calculateAndPositionHighlights() {
                // Test 7'deki pr circle elementlerinin koordinatları zaten SVG'de tanımlı
                // Bu yüzden ek pozisyon ayarlamasına gerek yok
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test7-section .clickable').forEach(element => {
                    element.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test7Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test7-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test7.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                });
                

                
                // Önceki stilleri temizle
                document.querySelectorAll('#test7-section .clickable').forEach(piece => {
                    piece.classList.remove('correct');
                });
                
                // Her zaman yeşil göster (Tests 1-4 standardı)
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki round'a geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test7.currentRound = currentRound;
                    
                    if (currentRound <= test7Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 7 tamamlandı
                        setTimeout(() => {
                            completedSteps += 9;
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(7);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test7-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test7Rules[roundNumber - 1];
                const highlightElement = document.getElementById(rule.highlight_id.replace('test7-pr', 'test7-highlight-pr'));
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test7StartNextRound = function() {
                // Test 7 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test7.currentRound;
                
                if (currentRound <= test7Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 7 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Test 7 başlat
            initGame();
        }
        
        // Test 8 section logic
        function initTest8Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test8');
            
            // Test veri kaydını başlat
            initializeTestRecording('test8');
            // Test 8 eşleştirme kuralları - orijinal sıralama
            const test8Rules = [
                { clickable_id: "test8-tk-1", highlight_id: "test8-pr-1", round_number: 1 },
                { clickable_id: "test8-tk-2", highlight_id: "test8-pr-2", round_number: 2 },
                { clickable_id: "test8-tk-3", highlight_id: "test8-pr-3", round_number: 3 },
                { clickable_id: "test8-tk-4", highlight_id: "test8-pr-4", round_number: 4 },
                { clickable_id: "test8-tk-5", highlight_id: "test8-pr-5", round_number: 5 },
                { clickable_id: "test8-tk-6", highlight_id: "test8-pr-6", round_number: 6 },
                { clickable_id: "test8-tk-7", highlight_id: "test8-pr-7", round_number: 7 },
                { clickable_id: "test8-tk-8", highlight_id: "test8-pr-8", round_number: 8 },
                { clickable_id: "test8-tk-9", highlight_id: "test8-pr-9", round_number: 9 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı  
            currentTestNumber = 8;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                startRound(currentRound);
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test8-section .clickable').forEach(piece => {
                    piece.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test8Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test8-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test8.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                });
                

                
                // Önceki stilleri temizle
                document.querySelectorAll('#test8-section .clickable').forEach(piece => {
                    piece.classList.remove('correct');
                });
                
                // Her zaman yeşil göster (Tests 1-4 standardı)
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki round'a geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test8.currentRound = currentRound;
                    
                    if (currentRound <= test8Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 8 tamamlandı
                        setTimeout(() => {
                            completedSteps += 9;
                            nextSection();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(8);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test8-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test8Rules[roundNumber - 1];
                const highlightElement = document.getElementById(rule.highlight_id.replace('test8-pr', 'test8-highlight-pr'));
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test8StartNextRound = function() {
                // Test 8 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test8.currentRound;
                
                if (currentRound <= test8Rules.length) {
                    startRound(currentRound);
                } else {
                                            // Test 8 tamamlandı, zaten nextSection çağrılacak
                }
            };
            
            // Test 8 başlat
            initGame();
        }
        
        // Test 9 section logic
        function initTest9Section() {
            // Test timer'ını başlat ve loglama yap
            startTestTimer('test9');
            
            // Test veri kaydını başlat
            initializeTestRecording('test9');
            // Test 9 eşleştirme kuralları - orijinal sıralama (16 parça)
            const test9Rules = [
                { clickable_id: "test9-tk-1", highlight_id: "test9-pr-1", round_number: 1 },
                { clickable_id: "test9-tk-2", highlight_id: "test9-pr-2", round_number: 2 },
                { clickable_id: "test9-tk-3", highlight_id: "test9-pr-3", round_number: 3 },
                { clickable_id: "test9-tk-4", highlight_id: "test9-pr-4", round_number: 4 },
                { clickable_id: "test9-tk-5", highlight_id: "test9-pr-5", round_number: 5 },
                { clickable_id: "test9-tk-6", highlight_id: "test9-pr-6", round_number: 6 },
                { clickable_id: "test9-tk-7", highlight_id: "test9-pr-7", round_number: 7 },
                { clickable_id: "test9-tk-8", highlight_id: "test9-pr-8", round_number: 8 },
                { clickable_id: "test9-tk-9", highlight_id: "test9-pr-9", round_number: 9 },
                { clickable_id: "test9-tk-10", highlight_id: "test9-pr-10", round_number: 10 },
                { clickable_id: "test9-tk-11", highlight_id: "test9-pr-11", round_number: 11 },
                { clickable_id: "test9-tk-12", highlight_id: "test9-pr-12", round_number: 12 },
                { clickable_id: "test9-tk-13", highlight_id: "test9-pr-13", round_number: 13 },
                { clickable_id: "test9-tk-14", highlight_id: "test9-pr-14", round_number: 14 },
                { clickable_id: "test9-tk-15", highlight_id: "test9-pr-15", round_number: 15 },
                { clickable_id: "test9-tk-16", highlight_id: "test9-pr-16", round_number: 16 }
            ];
            
            let currentRound = 1;
            let gameActive = true;
            let roundStartTime = null; // Her round için başlangıç zamanı
            currentTestNumber = 9;
            
            // İlk test başladığında toplam timer'ı başlat (güvenlik kontrolü)
            if (!totalTestStartTime) {
                startTotalTimer();
            }
            
            // Oyunu başlat
            function initGame() {
                setupClickHandlers();
                startRound(currentRound);
            }
            
            function setupClickHandlers() {
                document.querySelectorAll('#test9-section .clickable').forEach(piece => {
                    piece.addEventListener('click', handleClick);
                });
            }
            
            function handleClick(event) {
                if (!gameActive) return;
                
                const clickedId = event.target.id;
                const currentRule = test9Rules[currentRound - 1];
                const isCorrect = clickedId === currentRule.clickable_id;
                const responseTime = (Date.now() - roundStartTime) / 1000; // Round başlangıç zamanından itibaren
                
                // Veri toplama sistemine kaydet
                onPieceClick(clickedId, currentRule.clickable_id);
                
                // Soru timer'ını durdur ve progress bar animasyonunu temizle
                stopQuestionTimer();
                
                // Progress bar animasyonunu durdur
                const questionProgressBar = document.getElementById(`test9-question-progress-bar`);
                if (questionProgressBar) {
                    questionProgressBar.classList.remove('animating');
                }
                
                // Test sonucunu kaydet
                testResults.test9.questions.push({
                    round: currentRound,
                    answered: true,
                    isCorrect: isCorrect,
                    responseTime: Math.min(responseTime, 15), // Max 15 saniye
                    timeoutOccurred: false,
                    selectedElement: clickedId,
                    correctElement: currentRule.clickable_id,
                    timestamp: Date.now()
                });
                

                
                // Önceki stilleri temizle
                document.querySelectorAll('#test9-section .clickable').forEach(piece => {
                    piece.classList.remove('correct');
                });
                
                // Her zaman yeşil göster (Tests 1-4 standardı)
                event.target.classList.add('correct');
                gameActive = false;
                
                // Sonraki round'a geç
                setTimeout(() => {
                    event.target.classList.remove('correct');
                    currentRound++;
                    
                    // Global değişkeni senkronize et (timeout için)
                    testResults.test9.currentRound = currentRound;
                    
                    if (currentRound <= test9Rules.length) {
                        startRound(currentRound);
                    } else {
                        // Test 9 tamamlandı - completion screen'a geç
                        setTimeout(() => {
                            showTestCompletion();
                        }, 1000);
                    }
                }, 1500);
            }
            
            function startRound(roundNumber) {
                gameActive = true;
                roundStartTime = Date.now(); // Round başlangıç zamanını kaydet
                
                // Soru timer'ını başlat
                startQuestionTimer(9);
                
                // Tüm yeşil daireleri gizle
                document.querySelectorAll('#test9-section .highlight-circle').forEach(circle => {
                    circle.style.display = 'none';
                });
                
                const rule = test9Rules[roundNumber - 1];
                const highlightElement = document.getElementById(rule.highlight_id.replace('test9-pr', 'test9-highlight-pr'));
                
                if (highlightElement) {
                    highlightElement.style.display = 'block';
                }
            }
            
            // Global fonksiyon - timeout durumunda çağrılacak
            window.test9StartNextRound = function() {
                // Test 9 round'larını güncellemeli ama testResults'taki currentRound zaten artırıldı
                currentRound = testResults.test9.currentRound;
                
                if (currentRound <= test9Rules.length) {
                    startRound(currentRound);
                } else {
                    // Test 9 tamamlandı, zaten showTestCompletion çağrılacak

                }
            };
            
            // Test 9 başlat
            initGame();
        }
        
        // PROGRESS BAR YÖNETİMİ
        function startQuestionTimer(testNum) {
            // Önceki timer'ı temizle
            if (questionTimer) {
                clearTimeout(questionTimer);
            }
            
            questionTimeLeft = 15; // 15 saniye sıfırla
            const questionProgressBar = document.getElementById(`test${testNum}-question-progress-bar`);
            
            if (!questionProgressBar) {
                console.warn(`Test ${testNum} progress bar not found`);
                return;
            }
            
            // Progress bar'ı sıfırla ve animasyonu başlat (akıl-mantık testindeki gibi)
            questionProgressBar.classList.remove('animating');
            questionProgressBar.style.width = '100%';
            
            // Bir sonraki frame'de animasyonu başlat (reflow için)
            requestAnimationFrame(() => {
                questionProgressBar.classList.add('animating');
            });
            
            // 15 saniye sonra otomatik geçiş
            questionTimer = setTimeout(() => {
                questionTimer = null;
                handleQuestionTimeout(testNum);
            }, 15000); // 15 saniye = 15000 ms
        }
        
        function startTotalTimer() {
            // Toplam timer zaten başlamışsa tekrar başlatma
            if (totalTestStartTime) {
                console.log('🔵 Total timer zaten başlamış, return ediliyor');
                return;
            }
            
            console.log('🟢 Total timer başlatılıyor - sadece bir kez çalışmalı!');
            totalTestStartTime = Date.now();
            totalTimeLeft = 300; // 5 dakika
            
            // Wrapper'ı görünür yap
            const wrapper = document.getElementById('globalProgressBar');
            if (wrapper) {
                wrapper.style.display = 'block';
            }
            
            // Progress bar'ı başlat (akıl-mantık testindeki gibi)
            const progressBar = document.getElementById('timeProgressFill');
            if (progressBar) {
                // Progress bar'ı sıfırla
                progressBar.style.width = '0%';
                progressBar.classList.remove('animating');
                
                // Bir sonraki frame'de animasyonu başlat (reflow için)
                requestAnimationFrame(() => {
                    progressBar.classList.add('animating');
                });
            }
            
            // 5 dakika sonra testi bitir
            if (!totalTimer) {
                totalTimer = setTimeout(() => {
                    totalTimer = null;
                    handleTotalTimeout();
                }, 300000); // 5 dakika = 300000 ms
            }
        }
        
        function stopQuestionTimer() {
            if (questionTimer) {
                clearTimeout(questionTimer);
                questionTimer = null;
            }
        }
        
        function stopTotalTimer() {
            if (totalTimer) {
                clearTimeout(totalTimer);
                totalTimer = null;
            }
            // totalTestStartTime'ı null YAPMA - böylece timer tekrar başlamaz
        }
        
        function stopAllTimers() {
            stopQuestionTimer();
            // Alttaki progress bar hiç durmasın - sadece question timer'ı durdur
            // stopTotalTimer(); // Bu satırı yorum yapıyoruz
        }
        
        function handleQuestionTimeout(testNum) {
            // Test sonucunu "işaretlememiş" olarak kaydet
            const testKey = `test${testNum}`;
            const currentRound = testResults[testKey].currentRound;
            
            // Timeout olan gerçek round - currentRound timeout anında doğru değeri gösterir
            const timeoutRound = currentRound;
            
            // 15 saniye doldu - "İşaretlememiş" olarak kaydet ve sonraki soruya geç
            console.log(`⏰ TEST ${testNum} - PARÇA ${timeoutRound} - Zaman doldu, işaretlemediğiniz parça`);
            
            // Progress bar animasyonunu durdur
            const questionProgressBar = document.getElementById(`test${testNum}-question-progress-bar`);
            if (questionProgressBar) {
                questionProgressBar.classList.remove('animating');
            }
            
            // ROUND SİSTEM DÜZELTMESİ: Mevcut round'u kullan, artırma!
            
            
            // Doğru cevabı bul (timeout durumunda)
            let correctElement = null;
            const testRules = {
                1: ["test1-tk-1", "test1-tk-2", "test1-tk-3", "test1-tk-4"],
                2: ["test2-tk-1", "test2-tk-2", "test2-tk-3", "test2-tk-4"],
                3: ["test3-tk-1", "test3-tk-2", "test3-tk-3", "test3-tk-4"],
                4: ["test4-tk-1", "test4-tk-2", "test4-tk-3", "test4-tk-4"],
                5: ["test5-tk-1", "test5-tk-2", "test5-tk-3", "test5-tk-4"],
                6: ["test6-tk-1", "test6-tk-2", "test6-tk-3", "test6-tk-4", "test6-tk-5", "test6-tk-6"],
                7: ["test7-tk-1", "test7-tk-2", "test7-tk-3", "test7-tk-4", "test7-tk-5", "test7-tk-6", "test7-tk-7", "test7-tk-8", "test7-tk-9"],
                8: ["test8-tk-1", "test8-tk-2", "test8-tk-3", "test8-tk-4", "test8-tk-5", "test8-tk-6", "test8-tk-7", "test8-tk-8", "test8-tk-9"],
                9: ["test9-tk-1", "test9-tk-2", "test9-tk-3", "test9-tk-4", "test9-tk-5", "test9-tk-6", "test9-tk-7", "test9-tk-8", "test9-tk-9", "test9-tk-10", "test9-tk-11", "test9-tk-12", "test9-tk-13", "test9-tk-14", "test9-tk-15", "test9-tk-16"]
            };
            
            if (testRules[testNum] && testRules[testNum][timeoutRound - 1]) {
                correctElement = testRules[testNum][timeoutRound - 1];
            }
            
            // Excel'e uygun veri yapısı - her parça için ayrı kayıt
            const questionData = {
                round: timeoutRound,
                answered: false, // İşaretlememiş
                isCorrect: false,
                responseTime: 15, // Tam süre doldu (maksimum süre)
                timeoutOccurred: true,
                selectedElement: null,
                correctElement: correctElement,
                timestamp: Date.now(),
                // Excel için ek veriler
                testNumber: testNum,
                testCategory: testResults[testKey].category,
                pieceNumber: timeoutRound, // Hangi parça (Excel için)
                maxResponseTime: 15 // Her parça için maksimum süre
            };
            
            testResults[testKey].questions.push(questionData);
            
            // Yeni veri sistemi ile timeout durumunu kaydet
            if (correctElement) {
                console.log(`🔍 DEBUG TIMEOUT: testKey=${testKey}, correctElement=${correctElement}, timeoutRound=${timeoutRound}`);
                recordPieceClick(testKey, correctElement, false, 15000, true); // isTimeout = true
                logQuestionResultWithRound(testKey, correctElement, false, 15000, timeoutRound, true); // isTimeout = true
            } else {
                console.log(`❌ DEBUG TIMEOUT: correctElement bulunamadı! testKey=${testKey}, testNum=${testNum}, timeoutRound=${timeoutRound}`);
                console.log(`❌ testRules[${testNum}]:`, testRules[testNum]);
                console.log(`❌ testRules[${testNum}][${timeoutRound - 1}]:`, testRules[testNum] ? testRules[testNum][timeoutRound - 1] : 'undefined');
            }
            
            // ROUND YÖNETİMİ: Round artırma işlemi proceedToNextRound'da yapılacak
            // testResults[testKey].currentRound++; // Bu satırı kaldırıyoruz
            
            
            
            // Test tamamlandı mı kontrol et
            if (testResults[testKey].currentRound > testResults[testKey].totalRounds) {

                // Test tamamlandı, veri kaydını bitir
                onTestComplete(testKey);
                
                // Tamamlanmama durumunu kaydet (Excel'deki EKSTRA kısmı)
                if (testResults.summary.incompleteTest === null) {
                    testResults.summary.incompleteTest = testKey;
                    testResults.summary.incompletePuzzle = testNum;
                    testResults.summary.incompletePieceNumber = currentRound;
                    console.log(`⚠️ Tamamlanmama durumu kaydedildi: ${testKey}, Parça: ${currentRound}`);
                }
                
                // Sonraki test'e geç
                if (testNum < 9) {
                    setTimeout(() => {
                        nextSection();
                    }, 1000);
                } else {
                    setTimeout(() => {
                        showTestCompletion();
                    }, 1000);
                }
            } else {
                // Sonraki round'a geç - proceedToNextRound kullan
                setTimeout(() => {
                    proceedToNextRound(testNum);
                }, 1000);
            }
        }
        
        function proceedToNextRound(testNum) {
            const testKey = `test${testNum}`;
            const currentTest = testResults[testKey];
            
            // Round sayısını artır
            currentTest.currentRound++;
            
            // Test tamamlandı mı kontrol et
            if (currentTest.currentRound > currentTest.totalRounds) {
                // Test tamamlandı, veri kaydını bitir
                onTestComplete(testKey);
                
                // Sonraki test'e geç
                if (testNum < 9) {
                    nextSection();
                } else {
                    showTestCompletion();
                }
                return;
            }
            
            // Aynı testte sonraki round'a geç

            
            // Test'e özel sonraki round başlatma mantığı
            if (testNum === 1) {
                // Test 1 için sonraki round'u başlat
                if (window.test1StartNextRound) {
                    window.test1StartNextRound();
                }
            } else if (testNum === 2) {
                // Test 2 için sonraki round'u başlat  
                if (window.test2StartNextRound) {
                    window.test2StartNextRound();
                }
                         } else if (testNum === 3) {
                 // Test 3 için sonraki round'u başlat
                 if (window.test3StartNextRound) {
                     window.test3StartNextRound();
                 }
             } else if (testNum === 4) {
                 // Test 4 için sonraki round'u başlat
                 if (window.test4StartNextRound) {
                     window.test4StartNextRound();
                 }
             } else if (testNum === 5) {
                 // Test 5 için sonraki round'u başlat
                 if (window.test5StartNextRound) {
                     window.test5StartNextRound();
                 }
             } else if (testNum === 6) {
                 // Test 6 için sonraki round'u başlat
                 if (window.test6StartNextRound) {
                     window.test6StartNextRound();
                 }
             } else if (testNum === 7) {
                 // Test 7 için sonraki round'u başlat
                 if (window.test7StartNextRound) {
                     window.test7StartNextRound();
                 }
             } else if (testNum === 8) {
                 // Test 8 için sonraki round'u başlat
                 if (window.test8StartNextRound) {
                     window.test8StartNextRound();
                 }
             } else if (testNum === 9) {
                 // Test 9 için sonraki round'u başlat
                 if (window.test9StartNextRound) {
                     window.test9StartNextRound();
                 }
             }
        }
        
        function handleTotalTimeout() {
            // 5 dakika doldu - testi bitir
            console.log('🔴 Toplam test süresi doldu, test bitiriliyok');
            stopQuestionTimer();
            stopTotalTimer();
            
            // Test completion screen'a git
            showTestCompletion();
        }
        
        function resetTimersForNewTest() {
            stopQuestionTimer();
            // totalTestStartTime = null; // BUNU YAPMA - alttaki bar sıfırlanır
            totalTimeLeft = 300;
            questionTimeLeft = 15;
        }

        // SES YÖNETİMİ
        let currentAudio = null;

        function playAudio(filename, callback) {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            
            const audio = new Audio(`mp3/${filename}`);
            currentAudio = audio;
            
            audio.addEventListener('ended', () => {
                if (callback) callback();
            });
            
            audio.play().catch(error => {
                console.log('Ses çalma hatası:', error);
                if (callback) callback();
            });
            
            return audio;
        }

        function playAudioForDuration(filename, duration, callback) {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
            }
            
            const audio = new Audio(`mp3/${filename}`);
            currentAudio = audio;
            
            // Belirtilen süre sonra sesi durdur ve callback çağır
            const timeoutId = setTimeout(() => {
                audio.pause();
                audio.currentTime = 0;
                currentAudio = null;
                if (callback) callback();
            }, duration);
            
            // Ses doğal olarak biterse timeout'u temizle
            audio.addEventListener('ended', () => {
                clearTimeout(timeoutId);
                if (callback) callback();
            });
            
            audio.play().catch(error => {
                console.log('Ses çalma hatası:', error);
                clearTimeout(timeoutId);
                if (callback) callback();
            });
            
            return audio;
        }

        function stopCurrentAudio() {
            if (currentAudio) {
                currentAudio.pause();
                currentAudio.currentTime = 0;
                currentAudio = null;
            }
        }

        function showButton(buttonId) {
            setTimeout(() => {
                const button = document.getElementById(buttonId);
                if (button) {
                    button.classList.add('visible');
                    // Inline style'ları temizle
                    button.style.opacity = '';
                    button.style.transform = '';
                }
            }, 100);
        }

        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.classList.add('show');
            }, 100);
            
            setTimeout(() => {
                notification.classList.remove('show');
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }

        // Title screen'dan instruction'a geç
        function goToInstructions() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            document.getElementById('title-screen').classList.remove('active');
            document.getElementById('instructions-screen').classList.add('active');
            
            // Ses çal
            playAudio('giris.mp3', () => {
                showButton('instructionsNextBtn');
            });
        }

        // Instructions'dan demo'ya geç veya demo'yu yeniden başlat
        function startDemo() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Tüm section'ları temizle
            document.querySelectorAll('.puzzle-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Demo section'ı aktif yap
            document.getElementById('demo-section').classList.add('active');
            
            // Pozisyonları hemen hesapla (DOM render edilmeden önce)
            setTimeout(() => {
                updateFakeCursorPosition();
            }, 100);
            
            // Tüm animasyonları sıfırla
            
            document.querySelectorAll('.demo-section .highlight-circle').forEach(circle => {
                circle.style.animation = 'none';
                circle.style.animationDelay = '0s';
                circle.style.opacity = '0';
                circle.offsetHeight; // Force reflow
                circle.style.animation = '';
                circle.style.animationDelay = '';
                circle.style.opacity = '';
            });
            
            const cursor = document.querySelector('.demo-section .fake-cursor');
            if (cursor) {
                cursor.style.animation = 'none';
                cursor.style.animationDelay = '0s';
                cursor.style.opacity = '0';
                cursor.offsetHeight; // Force reflow
                cursor.style.animation = '';
                cursor.style.animationDelay = '';
                cursor.style.opacity = '';
            }
            
            // Demo ses dosyalarını başlat
            setTimeout(() => {
                startDemoAudio();
            }, 500);
        }
        
        // Demo ses dosyalarını sırayla çal
        function startDemoAudio() {
            // İlk olarak pozisyonları hesapla (animasyon başlamadan önce)
            updateFakeCursorPosition();
            
            // Önce ornek1.mp3 çal
            playAudio('ornek1.mp3', () => {
                // Örnek1 bitince ornek2.mp3 çal
                playAudio('ornek2.mp3', () => {
                    // Örnek2 bitince demo animasyonunu başlat
                    setTimeout(() => {
                        demoAnimation();
                    }, 500);
                });
            });
        }
        
        // Demo animasyonu
        function demoAnimation() {
            // Önceki event listener'ı temizle
            window.removeEventListener('resize', updateFakeCursorPosition);
            
            // Throttled resize handler
            let resizeTimeout;
            const throttledUpdatePosition = () => {
                clearTimeout(resizeTimeout);
                resizeTimeout = setTimeout(updateFakeCursorPosition, 100);
            };
            
            // Window resize event'ine throttled handler bağla
            window.addEventListener('resize', throttledUpdatePosition);
            
            // Debug: SVG ve element pozisyonlarını console'a yazdır
            setTimeout(() => {
                const svg = document.querySelector('.demo-section svg');
                const targetElement = document.getElementById('demo-tk-2');
                const container = document.querySelector('.demo-section');
                
                if (svg && targetElement && container) {
                    const svgRect = svg.getBoundingClientRect();
                    const containerRect = container.getBoundingClientRect();
                    
                    console.log('=== DEBUG INFO ===');
                    console.log('Container rect:', containerRect);
                    console.log('SVG rect:', svgRect);
                    console.log('SVG viewBox:', svg.viewBox.baseVal);
                    console.log('Target element attrs:', {
                        x: targetElement.getAttribute('x'),
                        y: targetElement.getAttribute('y'),
                        width: targetElement.getAttribute('width'),
                        height: targetElement.getAttribute('height')
                    });
                    
                    // Gerçek hedef pozisyonu hesapla
                    const targetX = parseFloat(targetElement.getAttribute('x'));
                    const targetY = parseFloat(targetElement.getAttribute('y'));
                    const targetWidth = parseFloat(targetElement.getAttribute('width'));
                    const targetHeight = parseFloat(targetElement.getAttribute('height'));
                    
                    const centerX = targetX + (targetWidth / 2);
                    const centerY = targetY + (targetHeight / 2);
                    
                    const scaleX = svgRect.width / svg.viewBox.baseVal.width;
                    const scaleY = svgRect.height / svg.viewBox.baseVal.height;
                    
                    const realX = (svgRect.left - containerRect.left) + (centerX * scaleX);
                    const realY = (svgRect.top - containerRect.top) + (centerY * scaleY);
                    
                    console.log('Calculated target position:', realX, realY);
                }
            }, 1000);
            
            // Ana animasyonları:
            // - Tıklama efekti başlar: 17s delay
            // - Tıklama efekti animasyonu: 1s sürer
            // - Tıklama efekti biter: 18s
            
            // Yeşil daire pulse animasyonu başladıktan hemen sonra geçiş yap
            setTimeout(() => {
                // Sayfa değişiminde ses durdur
                stopCurrentAudio();
                
                // Event listener'ları temizle
                window.removeEventListener('resize', updateFakeCursorPosition);
                window.removeEventListener('resize', throttledUpdatePosition);
                
                document.getElementById('demo-section').classList.remove('active');
                document.getElementById('transition-screen').classList.add('active');
                
                // Transition section'ı başlat (uygulamagecis.mp3 çalar)
                currentSection = 1;
                initCurrentSection();
            }, 4000); // 4 saniye sonra transition screen'a geç
        }

        // Fake cursor pozisyonunu dinamik olarak hesapla
        function updateFakeCursorPosition() {
            try {
                const targetElement = document.getElementById('demo-tk-2');
                const cursor = document.querySelector('.demo-section .fake-cursor');
                const container = document.querySelector('.demo-section');
                
                // Null check
                if (!targetElement || !cursor || !container) {
                    console.warn('Fake cursor: Gerekli elementler bulunamadı');
                    return;
                }
                
                // SVG container'ı bul
                const svgContainer = targetElement.closest('svg');
                if (!svgContainer || !svgContainer.viewBox || !svgContainer.viewBox.baseVal) {
                    console.warn('Fake cursor: SVG container veya viewBox bulunamadı');
                    return;
                }
                
                // SVG'nin gerçek boyutlarını al
                const svgRect = svgContainer.getBoundingClientRect();
                const containerRect = container.getBoundingClientRect();
                
                // Sıfıra bölme kontrolü
                if (svgContainer.viewBox.baseVal.width === 0 || svgContainer.viewBox.baseVal.height === 0) {
                    console.warn('Fake cursor: SVG viewBox boyutları geçersiz');
                    return;
                }
                
                // Target element'in SVG içindeki pozisyonu
                const targetX = parseFloat(targetElement.getAttribute('x'));
                const targetY = parseFloat(targetElement.getAttribute('y'));
                const targetWidth = parseFloat(targetElement.getAttribute('width'));
                const targetHeight = parseFloat(targetElement.getAttribute('height'));
                
                // NaN kontrolü
                if (isNaN(targetX) || isNaN(targetY) || isNaN(targetWidth) || isNaN(targetHeight)) {
                    console.warn('Fake cursor: Target element boyutları geçersiz');
                    return;
                }
                
                // Merkez koordinatları hesapla
                const centerX = targetX + (targetWidth / 2);
                const centerY = targetY + (targetHeight / 2);
                
                // SVG'nin scale oranını hesapla
                const scaleX = svgRect.width / svgContainer.viewBox.baseVal.width;
                const scaleY = svgRect.height / svgContainer.viewBox.baseVal.height;
                
                // Gerçek pixel pozisyonunu hesapla
                const realX = (svgRect.left - containerRect.left) + (centerX * scaleX);
                const realY = (svgRect.top - containerRect.top) + (centerY * scaleY);
                
                // Başlangıç pozisyonunu hesapla (SVG'nin merkezinden başlasın)
                const startX = (svgRect.left - containerRect.left) + (svgRect.width * 0.5);
                const startY = (svgRect.top - containerRect.top) + (svgRect.height * 0.5);
                
                // Geçerli değer kontrolü
                if (isNaN(realX) || isNaN(realY) || isNaN(startX) || isNaN(startY)) {
                    console.warn('Fake cursor: Hesaplanan pozisyonlar geçersiz');
                    return;
                }
                
                // CSS custom property'leri güncelle
                document.documentElement.style.setProperty('--cursor-start-x', startX + 'px');
                document.documentElement.style.setProperty('--cursor-start-y', startY + 'px');
                document.documentElement.style.setProperty('--cursor-target-x', realX + 'px');
                document.documentElement.style.setProperty('--cursor-target-y', realY + 'px');
                
                console.log(`Cursor start position: ${startX}px, ${startY}px`);
                console.log(`Cursor target position: ${realX}px, ${realY}px`);
                
            } catch (error) {
                console.error('Fake cursor pozisyon hesaplama hatası:', error);
                // Fallback pozisyonlar
                document.documentElement.style.setProperty('--cursor-start-x', '50%');
                document.documentElement.style.setProperty('--cursor-start-y', '50%');
                document.documentElement.style.setProperty('--cursor-target-x', '60%');
                document.documentElement.style.setProperty('--cursor-target-y', '40%');
            }
        }

        // Practice tamamlandı mesajını göster
        function showPracticeCompletion() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Practice section'ı kapat
            document.getElementById('practice-section').classList.remove('active');
            
            // Completion screen'ı aç
            document.getElementById('practice-completion-screen').classList.add('active');
            
            // Tamamlandı sesini çal
            playAudio('uygulamason.mp3', () => {
                // Ses bitince sadece butonu göster, otomatik geçiş yapma
                showButton('practiceCompletionBtn');
            });
            
            // Butonu göster (ses bitmeden de görünsün)
            showButton('practiceCompletionBtn');
        }

        // Practice başarısızlık mesajını göster
        function showPracticeFail() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Practice section'ı kapat
            document.getElementById('practice-section').classList.remove('active');
            
            // Fail screen'ı aç
            document.getElementById('practice-fail-screen').classList.add('active');
            
            // currentSection'ı güncelle
            currentSection = sections.indexOf('practice-fail-screen');
        }

        // Practice fail'den tekrar dene
        function retryPracticeFromFail() {
            console.log('🔄 Örnek uygulama tekrar edilecek...');
            
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Fail screen'ı kapat
            document.getElementById('practice-fail-screen').classList.remove('active');
            
            // Demo section'a geri dön
            currentSection = 0; // Demo section'a geri dön
            document.getElementById('demo-section').classList.add('active');
            
            // Demo'yu tamamen baştan başlat
            startDemo();
        }

        // Test preparation'a geç
        function goToTestPreparation() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            document.getElementById('practice-completion-screen').classList.remove('active');
            document.getElementById('test-preparation-screen').classList.add('active');
            
            // Test preparation section'ı başlat
            currentSection = 5; // practice-completion-screen'den sonra test-preparation-screen (yeni index)
            initCurrentSection();
        }

        // Test preparation section logic
        function initTestPreparationSection() {
            // anatestgecis.mp3'ü 9 saniye çal, ses bitince butonu göster
            playAudioForDuration('anatestgecis.mp3', 9000, () => {
                showButton('testPreparationBtn');
            });
        }

        // Test'e geç
        function goToTest() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Tüm section'ları kapat
            document.querySelectorAll('.puzzle-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Sadece test1-section'ı aç
            document.getElementById('test1-section').classList.add('active');
            
            // Test1 veri kaydını başlat
            initializeTestRecording('test1');
            startPieceTimer();
            
            // Genel progress bar'ı göster (ana test başladığı için)
            document.getElementById('globalProgressBar').style.display = 'block';
            
            // Test 1 section'ı başlat
            currentSection = 6; // test-preparation-screen'den sonra test1-section (yeni index)
            initCurrentSection();
        }

        // Test completion screen'ı göster
        function showTestCompletion() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Test bitince tüm timer'ları durdur
            stopQuestionTimer();
            stopTotalTimer();
            
            // Progress bar'ı gizle
            const progressContainer = document.querySelector('.progress-container');
            if (progressContainer) {
                progressContainer.style.display = 'none';
            }
            
            // Genel sonuçları hesapla ve logla
            updateOverallStatistics();
            displayTestResults();
            
            // TÜM test section'larını kapat (sadece test9 değil)
            document.querySelectorAll('.puzzle-section').forEach(section => {
                section.classList.remove('active');
            });
            
            // Completion screen'ı aç
            document.getElementById('test-completion-screen').classList.add('active');
            
            // Test completion section'ı başlat
            currentSection = 15; // yeni index
            initCurrentSection();
        }

        // Test completion section logic
        function initTestCompletionSection() {
            // bitis.mp3 çal ve ses bitiminde butonu göster
            playAudio('bitis.mp3', () => {
                showButton('testCompletionBtn');
            });
        }

        // Sonraki bölüme geç
        function goToNextSection() {

            
            // Ana pencereye test tamamlandığını bildir
            try {
                // Genel sonuçları güncelle (son kez)
                updateSummaryStats();
                
                // Test sonuçlarını localStorage'a kaydet
                const fullTestResults = {
                    // Excel'deki tüm veriler
                    summary: testResults.summary,
                    // Her test için detaylı veriler
                    individualTests: {},
                    // Metadata
                    metadata: {
                        testVersion: '1.0',
                        completedAt: new Date().toISOString(),
                        userAgent: navigator.userAgent,
                        screenResolution: `${window.screen.width}x${window.screen.height}`
                    }
                };
                
                // Her test için verileri ekle
                Object.keys(testResults).forEach(testName => {
                    if (testName !== 'summary') {
                        const test = testResults[testName];
                        if (test && test.questions && test.questions.length > 0) {
                            fullTestResults.individualTests[testName] = {
                                questions: test.questions,
                                category: test.category,
                                totalRounds: test.totalRounds,
                                testDuration: test.testDuration,
                                accuracy: calculateAccuracyScore(testName),
                                averageResponseTime: calculateAverageResponseTime(testName)
                            };
                        }
                    }
                });
                
                // localStorage'a kaydet
                localStorage.setItem('puzzleTestResults', JSON.stringify(fullTestResults));
                console.log('📦 Test sonuçları localStorage\'a kaydedildi');
                
                console.log('✅ Puzzle testi tamamlandı, akıl mantık testine geçiliyor...');
                
                // Aynı pencerede akıl mantık testini yükle
                window.location.href = '../akil-mantik/akil-mantik.html';
                
            } catch (error) {
                console.error('❌ Test completion hatası:', error);
                // Hata durumunda yine de akıl mantık testine geç
                window.location.href = '../akil-mantik/akil-mantik.html';
            }
        }

        // Transition screen'dan practice'a geç
        function startPractice() {
            // Sayfa değişiminde ses durdur
            stopCurrentAudio();
            
            // Veri kaydını başlat
            initializeTestRecording('practice');
            startPieceTimer();
            
            document.getElementById('transition-screen').classList.remove('active');
            document.getElementById('practice-section').classList.add('active');
            
            // Practice section'ı başlat
            currentSection = 2; // transition-screen'den sonra practice-section index 2
            initCurrentSection();
        }
        
        // Sayfa yüklendiğinde title screen göster
        window.addEventListener('DOMContentLoaded', () => {
            // Title screen zaten aktif
        });

        // Sayfa kapanırken ses durdur
        window.addEventListener('beforeunload', function() {
            stopCurrentAudio();
        });

        // NOT: visibilitychange ve blur event'leri kaldırıldı
        // Çünkü dev tools açıldığında veya başka ekrana geçince ses durmasın

        // ================================
        // VERİ TOPLAMA SİSTEMİ
        // ================================
        
        // Test verilerini saklamak için global değişkenler
        let testData = {
            userId: null,
            testStartTime: null,
            testEndTime: null,
            tests: {},
            summary: {
                totalCorrect: 0,
                totalWrong: 0,
                totalPieces: 0,
                totalTime: 0,
                averageResponseTime: 0
            }
        };

        // Her test için veri yapısı
        function initTestData(testId, totalPieces) {
            testData.tests[testId] = {
                testId: testId,
                testType: getTestType(testId),
                totalPieces: totalPieces,
                startTime: null,
                endTime: null,
                duration: 0,
                pieces: {},
                correct: 0,
                wrong: 0,
                accuracy: 0,
                averageResponseTime: 0,
                completed: false
            };
        }

        // Test tipini belirle
        function getTestType(testId) {
            const testTypes = {
                'practice': { type: 'Örnek Uygulama', pieces: 3, category: 'practice' },
                'test1': { type: 'Dörtparçalıtekrenklikare', pieces: 4, category: '4piece' },
                'test2': { type: 'Dörtparçalıtekrenkliyuvarlak', pieces: 4, category: '4piece' },
                'test3': { type: 'Dörtparçalıtekrenkliüçgen', pieces: 4, category: '4piece' },
                'test4': { type: 'Dörtparçalıçiftrenklibir', pieces: 4, category: '4piece' },
                'test5': { type: 'Dörtparçalıçiftrenkliiki', pieces: 4, category: '4piece' },
                'test6': { type: 'Altıparçalıçiftrenkli', pieces: 6, category: '6piece' },
                'test7': { type: 'Dokuzparçalıtekrenklibir', pieces: 9, category: '9piece' },
                'test8': { type: 'Dokuzparçalıçokrenklibir', pieces: 9, category: '9piece' },
                'test9': { type: 'Onaltıparçalıtekrenkli', pieces: 16, category: '16piece' }
            };
            return testTypes[testId] || { type: 'Bilinmeyen', pieces: 0, category: 'unknown' };
        }

        // Parça tıklaması için veri kaydet
        function recordPieceClick(testId, pieceId, isCorrect, responseTime, isTimeout = false) {
            if (!testData.tests[testId]) {
                const testType = getTestType(testId);
                initTestData(testId, testType.pieces);
            }

            const test = testData.tests[testId];
            
            // Parça verilerini kaydet
            test.pieces[pieceId] = {
                pieceId: pieceId,
                clickTime: Date.now(),
                responseTime: responseTime,
                isCorrect: isCorrect,
                isTimeout: isTimeout, // Timeout durumu
                answered: !isTimeout, // Timeout ise cevaplamadı
                attempts: (test.pieces[pieceId]?.attempts || 0) + 1
            };

            // Test istatistiklerini güncelle
            updateTestStatistics(testId);
        }

        // Test istatistiklerini güncelle
        function updateTestStatistics(testId) {
            const test = testData.tests[testId];
            if (!test) return;

            let correct = 0;
            let wrong = 0;
            let totalResponseTime = 0;
            let validResponses = 0;

            Object.values(test.pieces).forEach(piece => {
                if (piece.isCorrect) {
                    correct++;
                    totalResponseTime += piece.responseTime;
                    validResponses++;
                } else {
                    wrong++;
                }
            });

            test.correct = correct;
            test.wrong = wrong;
            test.accuracy = test.totalPieces > 0 ? (correct / test.totalPieces) * 100 : 0;
            test.averageResponseTime = validResponses > 0 ? totalResponseTime / validResponses : 0;
        }

        // Test başlangıcını kaydet
        function startTestRecording(testId) {
            const testType = getTestType(testId);
            if (!testData.tests[testId]) {
                initTestData(testId, testType.pieces);
            }
            
            testData.tests[testId].startTime = Date.now();
            
            // İlk test ise genel başlangıç zamanını kaydet
            if (!testData.testStartTime) {
                testData.testStartTime = Date.now();
            }
        }

        // Test bitişini kaydet
        function finishTestRecording(testId) {
            const test = testData.tests[testId];
            if (!test) return;
            
            test.endTime = Date.now();
            test.duration = test.endTime - test.startTime;
            test.completed = true;
            
            updateTestStatistics(testId);
            updateOverallStatistics();
        }

        // Genel istatistikleri güncelle
        function updateOverallStatistics() {
            let totalCorrect = 0;
            let totalWrong = 0;
            let totalPieces = 0;
            let totalTime = 0;
            let totalResponseTime = 0;
            let validResponses = 0;

            // Kategori bazlı hesaplamalar
            let fourPieceTime = 0, fourPieceCorrect = 0, fourPieceTotal = 0, fourPieceResponseTime = 0, fourPieceValidResponses = 0;
            let sixPieceTime = 0, sixPieceCorrect = 0, sixPieceTotal = 0, sixPieceResponseTime = 0, sixPieceValidResponses = 0;
            let ninePieceTime = 0, ninePieceCorrect = 0, ninePieceTotal = 0, ninePieceResponseTime = 0, ninePieceValidResponses = 0;
            let sixteenPieceTime = 0, sixteenPieceCorrect = 0, sixteenPieceTotal = 0, sixteenPieceResponseTime = 0, sixteenPieceValidResponses = 0;

            Object.keys(testData.tests).forEach(testId => {
                const test = testData.tests[testId];
                if (test.completed) {
                    totalCorrect += test.correct;
                    totalWrong += test.wrong;
                    totalPieces += test.totalPieces;
                    totalTime += test.duration;
                    
                    // Kategori bazlı süre hesaplamaları
                    const testType = getTestType(testId);
                    if (testType.category === '4piece') {
                        fourPieceTime += test.duration;
                        fourPieceCorrect += test.correct;
                        fourPieceTotal += test.totalPieces;
                    } else if (testType.category === '6piece') {
                        sixPieceTime += test.duration;
                        sixPieceCorrect += test.correct;
                        sixPieceTotal += test.totalPieces;
                    } else if (testType.category === '9piece') {
                        ninePieceTime += test.duration;
                        ninePieceCorrect += test.correct;
                        ninePieceTotal += test.totalPieces;
                    } else if (testType.category === '16piece') {
                        sixteenPieceTime += test.duration;
                        sixteenPieceCorrect += test.correct;
                        sixteenPieceTotal += test.totalPieces;
                    }
                    
                    Object.values(test.pieces).forEach(piece => {
                        if (piece.isCorrect) {
                            totalResponseTime += piece.responseTime;
                            validResponses++;
                            
                            // Kategori bazlı tepki süreleri
                            if (testType.category === '4piece') {
                                fourPieceResponseTime += piece.responseTime;
                                fourPieceValidResponses++;
                            } else if (testType.category === '6piece') {
                                sixPieceResponseTime += piece.responseTime;
                                sixPieceValidResponses++;
                            } else if (testType.category === '9piece') {
                                ninePieceResponseTime += piece.responseTime;
                                ninePieceValidResponses++;
                            } else if (testType.category === '16piece') {
                                sixteenPieceResponseTime += piece.responseTime;
                                sixteenPieceValidResponses++;
                            }
                        }
                    });
                }
            });

            testData.summary = {
                // Temel istatistikler
                totalCorrect,
                totalWrong,
                totalPieces,
                totalTime,
                averageResponseTime: validResponses > 0 ? totalResponseTime / validResponses : 0,
                overallAccuracy: totalPieces > 0 ? (totalCorrect / totalPieces) * 100 : 0,
                
                // Kategori bazlı doğruluk
                fourPieceAccuracy: fourPieceTotal > 0 ? (fourPieceCorrect / fourPieceTotal) * 100 : 0,
                sixPieceAccuracy: sixPieceTotal > 0 ? (sixPieceCorrect / sixPieceTotal) * 100 : 0,
                ninePieceAccuracy: ninePieceTotal > 0 ? (ninePieceCorrect / ninePieceTotal) * 100 : 0,
                sixteenPieceAccuracy: sixteenPieceTotal > 0 ? (sixteenPieceCorrect / sixteenPieceTotal) * 100 : 0,
                
                // Kategori bazlı ortalama tepki süreleri (saniye cinsinden)
                fourPieceAvgTime: fourPieceValidResponses > 0 ? (fourPieceResponseTime / fourPieceValidResponses) / 1000 : 0,
                sixPieceAvgTime: sixPieceValidResponses > 0 ? (sixPieceResponseTime / sixPieceValidResponses) / 1000 : 0,
                ninePieceAvgTime: ninePieceValidResponses > 0 ? (ninePieceResponseTime / ninePieceValidResponses) / 1000 : 0,
                sixteenPieceAvgTime: sixteenPieceValidResponses > 0 ? (sixteenPieceResponseTime / sixteenPieceValidResponses) / 1000 : 0,
                
                // Kategori bazlı toplam tamamlama süreleri
                fourPieceCompletionTime: fourPieceTime,
                sixPieceCompletionTime: sixPieceTime,
                ninePieceCompletionTime: ninePieceTime,
                sixteenPieceCompletionTime: sixteenPieceTime,
                
                // Toplam süre hesaplamaları
                totalCompletionTime: totalTime,
                totalSessionDuration: testData.testEndTime && testData.testStartTime ? testData.testEndTime - testData.testStartTime : 0,
                
                // Hız skorları (basit hesaplama)
                processingSpeedScore: validResponses > 0 ? Math.max(0, 100 - (totalResponseTime / validResponses) / 100) : 0,
                normalizedSpeedScore: validResponses > 0 ? Math.max(0, 100 - (totalResponseTime / validResponses) / 100) : 0,
                
                // Diğer alanlar
                correctPieces: totalCorrect,
                wrongPieces: totalWrong,
                timeoutPieces: totalPieces - totalCorrect - totalWrong
            };

            if (testData.testStartTime) {
                testData.testEndTime = Date.now();
                testData.summary.totalSessionDuration = testData.testEndTime - testData.testStartTime;
            }
        }

        // Excel formatında veri çıktısı
        function generateExcelData() {
            const excelData = {
                // Genel Bilgiler
                testInfo: {
                    userId: testData.userId || 'Anonymous',
                    testDate: new Date().toISOString(),
                    totalDuration: testData.testEndTime - testData.testStartTime,
                    totalTests: Object.keys(testData.tests).length
                },
                
                // Test Kategorileri
                categories: {
                    fourPiece: {
                        tests: ['test1', 'test2', 'test3', 'test4', 'test5'],
                        totalPieces: 20,
                        correctAnswers: 0,
                        wrongAnswers: 0,
                        accuracy: 0,
                        averageTime: 0
                    },
                    sixPiece: {
                        tests: ['test6'],
                        totalPieces: 6,
                        correctAnswers: 0,
                        wrongAnswers: 0,
                        accuracy: 0,
                        averageTime: 0
                    },
                    ninePiece: {
                        tests: ['test7', 'test8'],
                        totalPieces: 18,
                        correctAnswers: 0,
                        wrongAnswers: 0,
                        accuracy: 0,
                        averageTime: 0
                    },
                    sixteenPiece: {
                        tests: ['test9'],
                        totalPieces: 16,
                        correctAnswers: 0,
                        wrongAnswers: 0,
                        accuracy: 0,
                        averageTime: 0
                    }
                },
                
                // Detaylı Test Verileri
                detailedResults: {},
                
                // Özet İstatistikler
                summary: testData.summary
            };

            // Kategori verilerini hesapla
            Object.keys(excelData.categories).forEach(categoryKey => {
                const category = excelData.categories[categoryKey];
                let categoryCorrect = 0;
                let categoryWrong = 0;
                let categoryTotalTime = 0;
                let categoryValidResponses = 0;

                category.tests.forEach(testId => {
                    const test = testData.tests[testId];
                    if (test && test.completed) {
                        categoryCorrect += test.correct;
                        categoryWrong += test.wrong;
                        categoryTotalTime += test.duration;
                        
                        Object.values(test.pieces).forEach(piece => {
                            if (piece.isCorrect) {
                                categoryValidResponses++;
                            }
                        });
                    }
                });

                category.correctAnswers = categoryCorrect;
                category.wrongAnswers = categoryWrong;
                category.accuracy = category.totalPieces > 0 ? (categoryCorrect / category.totalPieces) * 100 : 0;
                category.averageTime = categoryValidResponses > 0 ? categoryTotalTime / categoryValidResponses : 0;
                category.totalDuration = categoryTotalTime; // Kategori toplam süresi
            });

            // Detaylı test verilerini ekle
            Object.keys(testData.tests).forEach(testId => {
                const test = testData.tests[testId];
                excelData.detailedResults[testId] = {
                    testType: test.testType.type,
                    category: test.testType.category,
                    totalPieces: test.totalPieces,
                    correctAnswers: test.correct,
                    wrongAnswers: test.wrong,
                    accuracy: test.accuracy,
                    duration: test.duration,
                    averageResponseTime: test.averageResponseTime,
                    pieces: test.pieces
                };
            });

            return excelData;
        }

        // Veriyi konsola yazdır (geliştirme amaçlı)
        function logTestData() {
            console.log('=== PUZZLE TEST VERİLERİ ===');
            console.log('Genel Özet:', testData.summary);
            console.log('Test Detayları:', testData.tests);
            console.log('Excel Formatı:', generateExcelData());
        }

        // Genel test sonuçlarını göster
        function displayTestResults() {
            const results = generateExcelData();
            
            console.log('\n🎯 ================= GENEL PUZZLE TEST SONUÇLARI =================');
            console.log('📊 GENEL İSTATİSTİKLER:');
            console.log(`   👤 Kullanıcı: ${results.testInfo.userId}`);
            console.log(`   📅 Test Tarihi: ${new Date(results.testInfo.testDate).toLocaleString()}`);
            console.log(`   ⏰ TOPLAM TEST SÜRESİ: ${(results.testInfo.totalDuration / 1000).toFixed(2)} saniye`);
            console.log(`   🧩 Tamamlanan Testler: ${results.testInfo.totalTests}`);
            console.log(`   ✅ Toplam Doğru: ${results.summary.totalCorrect}/${results.summary.totalPieces}`);
            console.log(`   ❌ Toplam Yanlış: ${results.summary.totalWrong}/${results.summary.totalPieces}`);
            console.log(`   📈 Genel Başarı Oranı: %${results.summary.overallAccuracy.toFixed(1)}`);
            console.log(`   ⏱️ Ortalama Tepki Süresi: ${results.summary.averageResponseTime.toFixed(0)}ms`);
            
            console.log('\n📦 KATEGORİ BAZLI SONUÇLAR (EXCEL FORMAT):');
            
            // 4 Parçalı Puzzlelar
            const fourPiece = results.categories.fourPiece;
            console.log(`   🔲 4 PARÇALI PUZZLELAR (Dörtparçalı):`);
            console.log(`      ✅ Doğru: ${fourPiece.correctAnswers}/${fourPiece.totalPieces}`);
            console.log(`      📈 Başarı: %${fourPiece.accuracy.toFixed(1)}`);
            console.log(`      ⏱️ Ortalama Tepki: ${fourPiece.averageTime.toFixed(0)}ms`);
            console.log(`      ⏰ Toplam Süre: ${(fourPiece.totalDuration / 1000).toFixed(2)}s`);
            console.log(`      🧩 Testler: ${fourPiece.tests.join(', ')}`);
            
            // 6 Parçalı Puzzle
            const sixPiece = results.categories.sixPiece;
            console.log(`   🔷 6 PARÇALI PUZZLE (Altıparçalı):`);
            console.log(`      ✅ Doğru: ${sixPiece.correctAnswers}/${sixPiece.totalPieces}`);
            console.log(`      📈 Başarı: %${sixPiece.accuracy.toFixed(1)}`);
            console.log(`      ⏱️ Ortalama Tepki: ${sixPiece.averageTime.toFixed(0)}ms`);
            console.log(`      ⏰ Toplam Süre: ${(sixPiece.totalDuration / 1000).toFixed(2)}s`);
            console.log(`      🧩 Testler: ${sixPiece.tests.join(', ')}`);
            
            // 9 Parçalı Puzzlelar
            const ninePiece = results.categories.ninePiece;
            console.log(`   🔳 9 PARÇALI PUZZLELAR (Dokuzparçalı):`);
            console.log(`      ✅ Doğru: ${ninePiece.correctAnswers}/${ninePiece.totalPieces}`);
            console.log(`      📈 Başarı: %${ninePiece.accuracy.toFixed(1)}`);
            console.log(`      ⏱️ Ortalama Tepki: ${ninePiece.averageTime.toFixed(0)}ms`);
            console.log(`      ⏰ Toplam Süre: ${(ninePiece.totalDuration / 1000).toFixed(2)}s`);
            console.log(`      🧩 Testler: ${ninePiece.tests.join(', ')}`);
            
            // 16 Parçalı Puzzle
            const sixteenPiece = results.categories.sixteenPiece;
            console.log(`   🔴 16 PARÇALI PUZZLE (Onaltıparçalı):`);
            console.log(`      ✅ Doğru: ${sixteenPiece.correctAnswers}/${sixteenPiece.totalPieces}`);
            console.log(`      📈 Başarı: %${sixteenPiece.accuracy.toFixed(1)}`);
            console.log(`      ⏱️ Ortalama Tepki: ${sixteenPiece.averageTime.toFixed(0)}ms`);
            console.log(`      ⏰ Toplam Süre: ${(sixteenPiece.totalDuration / 1000).toFixed(2)}s`);
            console.log(`      🧩 Testler: ${sixteenPiece.tests.join(', ')}`);
            
            console.log('\n📋 DETAYLI TEST SONUÇLARI VE SÜRELERİ:');
            Object.keys(results.detailedResults).forEach(testId => {
                const test = results.detailedResults[testId];
                console.log(`   🧩 ${testId.toUpperCase()} (${test.testType}):`);
                console.log(`      ✅ ${test.correctAnswers}/${test.totalPieces} doğru (%${test.accuracy.toFixed(1)})`);
                console.log(`      ⏱️ ${test.averageResponseTime.toFixed(0)}ms ortalama tepki süresi`);
                console.log(`      ⏰ ${(test.duration / 1000).toFixed(2)} saniye test süresi`);
            });
            
            console.log('\n📁 VERİ ERİŞİMİ:');
            console.log('   window.puzzleTestResults - Excel formatında sonuçlar');
            console.log('   window.puzzleTestData - Ham test verileri');
            console.log('   window.getPuzzleResults() - Sonuçları getir');
            console.log('   window.logPuzzleData() - Ham verileri göster');
            
            console.log('================================================================\n');
        }

        // Mevcut tıklama event'lerini güncelle
        let currentTestId = null;
        let pieceClickStartTime = null;

        // Test başlangıcında çağrılacak fonksiyon
        function initializeTestRecording(testId) {
            currentTestId = testId;
            startTestRecording(testId);
        }

        // Parça tıklamasında çağrılacak fonksiyon
        function onPieceClick(pieceId, targetPieceId) {
            if (!currentTestId || !pieceClickStartTime) return;
            
            const responseTime = Date.now() - pieceClickStartTime;
            const isCorrect = pieceId === targetPieceId;
            
            // Veriyi kaydet
            recordPieceClick(currentTestId, pieceId, isCorrect, responseTime);
            
            // UI sırasını kaydet (tıklama anında)
            const currentUIRound = getCurrentUIRoundAtClick(currentTestId);
            
            // Yeni loglama sistemi ile logla
            logQuestionResultWithRound(currentTestId, pieceId, isCorrect, responseTime, currentUIRound);
            
            // Bir sonraki tıklama için hazırla
            pieceClickStartTime = Date.now();
        }

        // Test tamamlandığında çağrılacak fonksiyon
        function onTestComplete(testId) {
            finishTestRecording(testId);
            
            // Bölüm tamamlandığında log göster
            logSectionCompletion(testId);
            
            // Son test ise sonuçları göster
            if (testId === 'test9') {
                setTimeout(() => {
                    displayTestResults();
                    
                    // Veriyi global olarak erişilebilir yap
                    window.puzzleTestResults = generateExcelData();
                }, 1000);
            }
        }

        // Parça tıklama zamanını başlat
        function startPieceTimer() {
            pieceClickStartTime = Date.now();
        }

        // Test başladığında kullanıcı ID'sini ayarla
        function setUserId(userId) {
            testData.userId = userId;
        }

        // Global fonksiyonları window'a ekle
        window.puzzleTestData = testData;
        window.getPuzzleResults = generateExcelData;
        window.logPuzzleData = logTestData;
        window.setPuzzleUserId = setUserId;
    </script>
</body>
</html>